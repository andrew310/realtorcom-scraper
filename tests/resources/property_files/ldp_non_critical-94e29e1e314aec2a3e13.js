webpackJsonp([4],{100:function(t,e,i){"use strict";var o=i(17);MOVE.MovingEstimateWidget=function(t){var e=$(".js-moving-widget-container"),i=e.find("input.js-from-zip"),a=e.find("input.js-to-zip"),n=e.find(".js-no-of-rooms"),s=e.find(".js-packing"),r=e.find("form"),l=function(){n.add(s).selectpicker(),i.focus(function(){$(this).on("keypress",c)}).blur(function(){p($(this))}),a.focus(function(){$(this).on("keypress",c)}).blur(function(){p($(this))}),r.on("submit",function(t){m()&&d(),t.preventDefault()})},h=function(t){return{to_zip:a,from_zip:i}[t]},d=function(){var e={from_zip:i.val(),to_zip:a.val(),move_weight_lbs:n.val(),packing_option:s.val()};$.ajax({url:"/moving/calculate_cost",method:"POST",data:e,dataType:"JSON",success:function(e){var i;e.meta.success?t.MovingEstimateModal.show(e.calculation):e.meta.errors.length&&_.each(e.meta.errors,function(t){i=h(t.message),p(i,!0)})}})},c=function(t){var e=t.which===o.b,i=t.which===o.a,a=t.which>=o.g&&t.which<=o.h,n=t.which===o.f;if(!(e||i||a||n))return!1},p=function(t,e){var i=t.val();return""!==i&&(!0!==e&&u(i)?(t.removeClass("error").next().addClass("hide"),!0):(t.addClass("error").next().removeClass("hide"),!1))},u=function(t){return/^\d{5}(-\d{4})?$/.test(t)},m=function(){return i.val()||i.addClass("error").next().removeClass("hide"),a.val()||a.addClass("error").next().removeClass("hide"),!i.hasClass("error")&&!a.hasClass("error")};return t.MovingEstimateWidget={init:l},t.MovingEstimateWidget}(MOVE||{})},102:function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"c",function(){return a}),i.d(e,"b",function(){return n}),i.d(e,"e",function(){return s}),i.d(e,"d",function(){return r}),MOVE.LDP.LdpPageSpecific=function(t){var e,i,o,a=$(".owner-dashboard").length,n=$(".insight-carousel"),s=function(){e=MOVE.LDP.model.getData(),M(),u(),b(),O(),E(),T(),P(),D(),S(),V(),A(),I(),N(),z(),F(),R(),j(),G(),x(),g(e),w(),Y(),r(),f(),l(),h(),$("div.list-floorplans .listing-card").click(function(){window.location=$(this).find("a").attr("href")}),$(".js-modal-lazyload-assets").on("show.bs.modal",function(){$(this).find("img").trigger("unveil")})},r=function(){$.cookie("previousUrl",window.location.pathname),$.cookie("listingClickSource")&&($.cookie("previousListingClickSource",$.cookie("listingClickSource")),$.removeCookie("listingClickSource")),document.querySelector("body").addEventListener("click",function(t){c(t.target,0)})},l=function(){MOVE.LDP.CalendarEvent.init(),$(".js-oh-calendar-link a").click(function(){MOVE.LDP.CalendarEvent.createUrl($(this))})},h=function(){$(".js-open-house-flip-container").on({click:function(){var t=$(this);t.find(".open-house-flipper").hasClass("open-house-rotate")||(t.find(".open-house-flipper").addClass("open-house-rotate"),t.find(".open-house-back").removeClass("invisible"),t.find(".open-house-calendar").addClass("invisible"),o=setTimeout(function(){d(t,i)},1e4))},mouseleave:function(){var t=$(this);i=setTimeout(function(){d(t,o)},600)}})},d=function(t,e){t.find(".open-house-flipper").hasClass("open-house-rotate")&&(t.find(".open-house-flipper").removeClass("open-house-rotate"),t.find(".open-house-back").addClass("invisible"),t.find(".open-house-calendar").removeClass("invisible"),clearTimeout(e))},c=function t(e,i){if(e)if(e.attributes["data-omtag"]&&p([e.attributes.href,e.attributes["data-ldpurl"]])){var o=e.attributes["data-omtag"].value,a=MOVE_DATA.adobeDTM.listingID;$.cookie("listingClickSource",o+":"+a)}else i<2&&(i++,t(e.parentElement,i))},p=function(t){var e=!1;return t.forEach(function(t){t&&t.value.includes("/realestateandhomes-detail")&&(e=!0)}),e},u=function(){MOVE.Common.readMore(".load-more-features",v(),"See",m,!0),MOVE.Common.readMore(".load-more-plans",300,"See",null,!0),MOVE.Common.readMore("#load-more-schools",y(),"See")},m=function(t){t&&MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsLdpPropertyFeatures,".property_features_ads")},f=function(){$(".js-call").on("click",function(){MOVE_DATA.adobeDTM.modal={name:"web:ldp:talk-to-realtor"},_satellite.track("modal:impression")})},g=function(t){$(document).on("click",'[data-toggle="modal"]',function(e){var i=$(this).data("target");i&&($(i).length?MOVE.ModalHelper.initModalData(i,t):(e.preventDefault(),MOVE.ModalHelper.fetchModal(i,t,e)))})},v=function(){return"large"===MOVE.Helper.detectViewPort()?193:300},y=function(){var t=$("#load-more-schools").height();return t>175?175:t},M=function(){var t=$("#ldp-headlines"),e=MOVE.LDP.model.getHeadLines();e&&e.length>1&&MOVE.DOMHelper.fadeInOutAnimation(e,t)},b=function(){$("#js-trigger-renovation-report").click(function(){MOVE.Medias.kruxPixel("Jy_3x9aG",{})})},x=function(){var t=!1;$(window).scroll(function(){$(this).scrollTop()>=500&&!t&&($(".neighborhood-sprite-lazyload").addClass("neighborhood-nearby-item"),t=!0)})},w=function(){$(".js-lazyload-url").click(function(){void 0!==MOVE_DATA.propertyDetails.building_url&&($.cookie("ldp_property_status",k()),$(this).attr("href",MOVE_DATA.propertyDetails.building_url))})},k=function(){if(MOVE_DATA.propertyDetails.property_status)return"property_record"===MOVE_DATA.propertyDetails.property_status?"off_market":MOVE_DATA.propertyDetails.property_status},C=function(t){$("#secondary_request_more_details").data("to",t),e.is_cobroke?$("#secondary_lead_submit").attr("data-omtag","homes:cobroke:aaq"):$("#secondary_lead_submit").attr("data-omtag","homes:showcase:aaq:"+("emailAgent"===t&&"agent"||"broker"))},D=function(){$("#header-cta").on("click",".header-cta-lead > a",function(){$(this).attr("clicked","true")})},O=function(){MOVE.DOMHelper.initPopOver($("#ldp-listing-provider")),MOVE.DOMHelper.initPopOver($("#ldp-additional-info"))},E=function(){MOVE.DOMHelper.initPopOver($("#ldp-pricewrap"))},T=function(){MOVE.DOMHelper.initPopOver($("#market-summary-data"))},P=function(){$(".js-businesscard-cta").on("click",function(t){var e,i=$(this),o=i.attr("href"),a=i.data("to");o.length&&(e=$(window).width()>996?$(o).offset().top-130:$(o).offset().top-75,$("html, body").animate({scrollTop:e},500),C(a),t.preventDefault())})},S=function(){$(".js-community-images").on("click",".js-local-fsgallery-toggle",function(){L($(this).index())})},A=function(){$(document).on("click",".js-open-private-modal",function(){function t(t){var e=$("#request-private-showing"),i=t.attr("data-title"),o=t.attr("data-inlineCTA"),a=t.attr("data-placeholder");e.attr("data-inlineCTA",o),e.find(".modal-title").text(i),e.find("textarea").attr("placeholder",a)}var e=$(this);$("#request-private-showing").length?t(e):$(document).on("modalInserted",function(){$("#request-private-showing").length&&t(e)})})},L=function(t){var e=$("#cmt-fullscreen-gallery");e.modal({show:!0}),MOVE.PhotoGallery.init(t),e.find(".owl-item").find("img[index="+t+"]").removeClass("hide"),e.find(".gallery-address").html(MOVE_DATA.propertyDetails.city),e.find(".gallery-actions").addClass("hide")},V=function(){$.Device.isMobile(navigator.userAgent)?$(".btn-map-directions").addClass("btn-mobile-map-directions"):$(".js-ldp-header-directions-cta").tooltip()},I=function(){var t=MOVE_DATA.propertyDetails.photos;if(!_.isEmpty(t)&&MOVE.LDP.LdpPageSpecific.googleNoImageUrl(t))MOVE.LDP.TopHeroMap.init(!1);else if($("#ldp-hero-container").length){var e=$(".ldp-hero-photo-wrap").length>0;MOVE.LDP.TopHeroMap.init(e)}},H=function(t){return-1!==t[0].url.indexOf("https://maps.googleapis.com/maps/api/streetview")},N=function(){$("#load-more-schools").next("a").attr("data-omtag","ldp:schools:more")},z=function(){var t=$("#ldp-hero-actions .ra-heart-o");$("#ldp-hero-actions").on({mouseenter:function(){t.addClass("animate")},mouseleave:function(){t.removeClass("animate")}})},F=function(){$("#headerMapBtn").on("click",function(){MOVE.LDP.TopHeroMap.showfullGallery(),$("#photoGalleryMap").click(),$(window).scroll()})},R=function(){$("body").on("SavedListing",function(){$("#topSaveBtn").find(".ra-heart").addClass("top-savedbtn-animation")})},j=function(){$(".js-haven-cta").on("click",function(){B()}),$("#homes-near-street-wrapper").on("click",".js-haven-cta",function(){B()})},B=function(){var t=a?"disable-haven-dashboard-auto-popover":"disable-haven-auto-popover";if(MOVE.Helper.hasSessionStorage()&&(window.sessionStorage.setItem(t,"true"),window.sessionStorage.setItem("is-from-pdp","true")),MOVE.Helper.isMobile()||1==MOVE.CONSTANTS.IS_IPAD){$('.haven[data-toggle="popover"]').popover("hide")}},G=function(){var t=$('.haven[data-toggle="popover"]');MOVE.DOMHelper.initPopOverHover($("#listing-header"));var e,i;MOVE.Helper.hasSessionStorage()&&(e=window.sessionStorage.getItem("disable-haven-auto-popover"),i=window.sessionStorage.getItem("disable-haven-dashboard-auto-popover")),(!a&&"true"!==e||a&&"true"!==i)&&W(t)},W=function(t){setTimeout(function(){t.popover("show")},2e3),t.on("shown.bs.popover",function(){MOVE.Helper.isMobile()&&$(".popover").css("left",parseInt($(".popover").css("left"))+15+"px"),t.data("shown-on-load")||setTimeout(function(){t.popover("hide"),t.data("shown-on-load",!0)},8e3)})},Y=function(){n.RdcHorizontalCarousel({loop:!1,showNav:"show",items:1,moveBy:"item",autoWidth:!1})};return t.LdpPageSpecific={init:s,googleNoImageUrl:H,lazyLoadNeigborhodSprite:x,initLoadMore:u,heroTopMap:I,clickFsGalleryMapBtn:F,modalClickEvent:g,setupDrivingDirections:V},t.LdpPageSpecific}(MOVE.LDP||{});var o=(MOVE.LDP.LdpPageSpecific.lazyLoadNeigborhodSprite,MOVE.LDP.LdpPageSpecific.initLoadMore),a=MOVE.LDP.LdpPageSpecific.heroTopMap,n=MOVE.LDP.LdpPageSpecific.clickFsGalleryMapBtn,s=MOVE.LDP.LdpPageSpecific.modalClickEvent,r=MOVE.LDP.LdpPageSpecific.setupDrivingDirections},116:function(t,e){MOVE.LDP.ContactLocalAgentModal=function(t){var e,i,o,a,n,s,r,l,h,d,c,p,u,m,f=$(document),g=$("#modal-container"),v=$("#pdp-comparable-homes-section .comparable-property-card:first"),y=MOVE_DATA.propertyDetails,M="#pdp-contact-local-agent-modal";return s=function(){d(),h(),n.update(u),l(p),i.add()},l=function(t){var e=t.find("input.error");e.length>0&&(e.next("label.error").remove(),e.removeClass("error"))},r=function(){d(),f.on("click","[data-toggle='modal'][data-target^='#pdp-contact-local-agent-modal']",m.onClick())},d=function(){c=g.find(M),p=c.find("form"),u=new e,m=new o({propertyData:u})},h=function(){a.update({propertyData:u})},e=function(){return{property_id:v.data("propertyid"),listing_id:v.data("listingid")}},a=function(){var t,e,i,o,a,n,s,r;return s=function(){var t=p.find("textarea#lead_message");return p.find("input#modified").val(t.val()!==i.values["textarea#lead_message"]),p.serialize()},n=function(i){t=_.result(i,"propertyData"),e(),o.load()},a=function(){o.store()},e=function(){i={values:{"input#leads_form_data_lead_service":"LCS","input#property_id":t.property_id,"input#listing_id":t.listing_id,"input#status":"for_sale","input#form_variant":"","input#recent_searches":JSON.stringify(MOVE.UserActivity.getRecentSearches()),"input#recent_views":JSON.stringify(MOVE.UserActivity.getRecentViews()),"input#modified":"false","textarea#lead_message":_.template("I'm interested in buying a home and would like more information about homes for sale in <%= city %>, <%= state_code %>.")(y)}},_.each(i.values,r("val"))},r=function(t){var e=Array.prototype.slice.call(arguments,1);return function(i,o){var a=p.find(o);a[t].apply(a,e.concat(i))}},o=function(){var t,e;return t=function(){MOVE.Common.getCachedInputs(p)},e=function(){MOVE.Common.cacheInputs(p.find(".fullName"),p.find(".email"),p.find(".phone"))},{load:t,store:e}}(),{update:n,store:a,serialize:s}}(),n=function(){var t,e,i={},o=_.partial(MOVE.DataStore.setData,"leadAdobeDTM");return e=_.partial(_.extendOwn,i),t=function(){o({leadGuid:i.leadGuid});var t=MOVE.DataStore.getData("adobeDTM"),e={listingCity:y.city,listingState:y.state_code,listingZip:y.postal_code};MOVE.DataStore.setData("adobeDTM",_.extend(t,e)),_satellite.track("homes:local-agent")},{update:e,fire:t}}(),i=function(){var t,e,i,o,s,r,l,h,d;return e=function(){t=p.find(".phone")},i=function(){t.on("keypress",MOVE.DOMHelper.validatePhone)},s={"leads_form_data[name]":{required:!0,pattern:/^(?! *$)[a-zA-Z.+ '-]+$/},"leads_form_data[email]":{required:!0,email:!0,pattern:/^.+@.+\..+$/},"leads_form_data[phone]":{required:!0,phoneUS:!0}},r=MOVE.LEAD.Common.validationMessage(),d=function(){var t="#leadSimpleThankYouShared",e=_.once(function(e){g.append(e),$(t).find(".thankyou-save").hide(),$(t).find(".thankyou-done").show()});return{show:function(i){e(i),$(t).modal()}}}(),o=function(){$.ajax({data:a.serialize(),url:"/leads",type:"POST",success:function(t){var e=JSON.parse(t.data);a.store(),c.modal("hide"),e.meta.success&&!e.meta.errors.length?(d.show(e.thankyou_modal),n.update({leadGuid:e.lead.id}),n.fire()):MOVE.Common.addNewRelicLog("pdpContactLocalAgentLcsFailure",MOVE.Common.leadErrorMsg(e))}})},h=function(){p.validate({onkeyup:!1,rules:s,messages:r,submitHandler:o})},l=function(){e(),i(),h()},{add:_.once(l)}}(),o=function(t){return{onClick:function(){var e=!1,i=function(){e=!0},o=function(e){return e.property=t.propertyData,e},a=function(t){return _.chain(t).partial(M).compose(o).value()},n=a(MOVE.ModalHelper.fetchModal),s=a(MOVE.ModalHelper.initModalData);return function(t){e?s(t):n(t).then(i)}}}},t.ContactLocalAgentModal={init:s,addListener:r},t.ContactLocalAgentModal}(MOVE.LDP||{})},117:function(t,e,i){"use strict";var o=i(60);MOVE.LDP.Map=function(t){var e,a,n,s,r,l,h,d,c={},p=!1,u=!1,m=function(t,p,m){var f,M,b,x=jQuery("#"+t),w=jQuery("#streetView"),k=null,C=p,D=m;e=MOVE.LDP.model.getData();var O=function(){e.map&&(i.i(o.a)(E),i.i(o.b)("rdc-ldp-photo-map"))},E=function(e){var i=e.Component,o=e.Client,a=e.Utils;N({Client:o,Utils:a})(function(){z(i)(function(e){MOVE.MapHelper.createMapMessage(e,function(){var i=["nearbyLDPMap","nearbyHomeValuesMap","recentlySoldAroundMap"];_.contains(i,t)?H(e,t):I(e),L()})})}),D&&MOVE.LDP.Map.showStreetView(!0)},T=function(t){return _.isUndefined(MOVE_DATA.mapData)?{}:MOVE_DATA.mapData[t]},P=function(t,e){var i=T("mapDataOffMarket");i&&(i.id=t.id,e(i))},S=function(t,e){(l=T("mapDataHomesNearStreet"))&&(l.id=t.id,e(l))},A={getPinData:function(t,e){var i=T(s());i&&(i.id=t.id,e(i))}};s=function(){return{"#nearby-homes-for-sale":"mapDataForSale","#nearby-for-rent":"mapDataForRent","#nearby-recently-sold":"mapDataRecentlySold","#nearby-home-values":"mapDataOffMarket"}[$("ul.js-nearby-widget-tabs li.active a").attr("href")]};var L=function(){},V=function(){return{address:{geoPoint:{coordinates:[e.long,e.lat],type:"Point"},line:e.address},city:e.city,isLatLong:!0,mprId:e.property_id,showSponsorAd:!0,state:e.state_code,status:e.status,zip:e.postal_code}},I=function(t,e){null!==k&&t.youAreHere&&(k.message?(e||t.message.show({message:k.message}),w.prop("disabled",!0)):t.youAreHere.add(V(),k.view.center)),t.properties&&(t.properties.setLimit(300),t.properties.setTypeEnabled("property",!0),t.properties.setEnabled(!0),MOVE.LDP.Map.mapLdp=t),t.sideList&&t.sideList.hide(),t.streetView&&t.streetView.onFailed(function(){t.message.show({message:"Google Street View is not available for this location."}),window.setTimeout(function(){t.message.hide()},5e3)}),t.tiles&&t.tiles.show("propertyOutlines"),google.maps.event.addListener(t.map,"idle",function(){if(MOVE.MapMiniCard&&MOVE.MapMiniCard.Helper.closeInfoWindowCard(),void 0!==d){var e=t.getBounds(),i=t.utils.boundsToString(e),o=e.toUrlValue().split(",");if((y(o)||MOVE.Helper.isInvalidCoordinates(o))&&v(),e.zoom>17){var a={pos:i,search_controller:"Search::PropertiesController",types:["lotPrice"],from_ldp:!0};$.ajax({url:"/search_result.json",method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(a),success:function(t){t.id=l.id,t.results.property.items=c,h(t)}})}}}),"none"!==t.map.gestureHandling&&google.maps.event.addListener(t.map,"bounds_changed",function(){MOVE.MapMiniCard&&MOVE.MapMiniCard.Helper.closeInfoWindowCard(),void 0!==d&&d.properties.select({})})},H=function(t,e){var i,o="nearbyHomeValuesMap"===e,a="recentlySoldAroundMap"===e;I(t,o,a),MOVE.LDP.NearbyCardsToPins.init();var n=[];(i=T(o?"mapDataOffMarket":a?"mapDataHomesNearStreet":"mapDataForSale"))&&_.each(i.results.property.items,function(t){n.push(t.position)});var s=t.utils.createView([],n);if(s)if(s.bounds)if(a&&$("#homes-near-street").length){var r=t.youAreHere.marker;t.map.setCenter({lat:r.position.lat(),lng:r.position.lng()}),setTimeout(function(){t.map.setZoom(15)},100)}else t.map.fitBounds(s.bounds);else s.center&&s.zoom&&(t.map.setCenter(s.center),t.map.setZoom(15))},N=function(t){var i=t.Client,o=t.Utils;return function(t){var a,n,s,r=function(){void 0===k.view.center&&(k=null),t&&t()};null===k&&(k={view:{center:function(){var t,i,o;return e&&(o=e.long,i=e.lat,-1!==o&&0!==o&&null!==o&&-1!==i&&0!==i&&null!==i&&(t={longitude:o,latitude:i})),t}(),zoom:15}},k.view.center=e.is_suppress_map_pin||e.is_address_suppressed?void 0:k.view.center),void 0===M&&(M=new o),void 0===f&&(f=new i({id:"rdc",url:e.map.service_url})),void 0===k.view.center?(a=e.state_code,n=e.postal_code,s=e.city,a&&n?f.getAreaByName({state:a,city:s,name:n,type:"area-zipCode"},function(t){var i,o=[],a=[];t&&t.list&&t.list&&(jQuery.each(t.list,function(t,e){e.boundary&&o.push(e.boundary),e.center&&a.push(e.center)}),(i=M.createView(o,a))&&(i.bounds||i.center)&&(k.view.center=i.bounds?i.bounds.getCenter():i.center,k.message=e.is_address_suppressed?"This listing is not shown on the map at the data provider's request.":"Google Map View is not available for this location.")),r()}):r()):r()}},z=function(i){return function(o){var a,n={styles:[{featureType:"poi",stylers:[{visibility:"off"}]}],streetViewControl:!1,gestureHandling:C?"auto":"none",keyboardShortcuts:C,mapTypeControl:C||$.Device.isIPad,overviewMapControl:C,panControl:C,rotateControl:C,scaleControl:C,scrollwheel:!1,zoomControl:!0};if($.extend(n,MOVE.MapHelper.getMapOptions(google)),a=null===k?{center:{longitude:-98.579416,latitude:39.828328},zoom:4}:k.view,jQuery.extend(!0,n,a),"nearbyLDPMap"===t)F(i)(n,o);else if("nearbyHomeValuesMap"===t)R(i)(n,o);else if("recentlySoldAroundMap"===t){var s=function(t){return"recently_sold"===t.status},r=function(t){return"Price Not Available"===t.price_display},l=function(t){return(t||"").replace(/\D/g,"")},h=function(t){return s(t)&&r(t)?void 0:l(t.price_display)},d=function(t){return r(t)?void 0:t.price_display},p=function(t){return s(t)?"Sold":void 0};_.each(e.homes_near_street.properties,function(t){c[t.listing_id]={address:t.full_address_display||t.address,bath:t.baths,bed:t.beds,city:t.city,id:""+t.listing_id,isAddressSuppressed:""===t.address,ldpUrl:t.ldp_url,listing_id:t.listing_id,mprId:t.property_id,photo:t.photo_url,plan_id:t.property_id,plot:!0,position:{coordinates:[t.lon,t.lat],type:"Point"},price:h(t),priceDisplay:d(t),priceDefaultDisplay:p(t),propertyType:t.property_type,property_id:t.property_id,search_flags:t.search_flags,source_id:"M",sqft:l(t.sqft_display),sqft_display:t.sqft_display,state:t.state_code,status:t.status,type:"property",zip:t.postal_code}}),B(i)(n,o)}else j(i)(n,o)}},F=function(t){return function(i,o){n=new t({version:e.map.map_version,cdn:e.map.cdn_url,client:f,utils:M,container:x,mapOptions:jQuery.extend({},i,{disableDoubleClickZoom:!0}),enabled:{properties:!0,youAreHere:!0,waiting:!0,streetView:!1},extensions:{properties:{events:{load:function(t,e){A.getPinData(t,function(t){e(t)})},pinClicked:function(t,e){e.preventDefault(),e.stopPropagation();var i=n.properties.getSelectedPoint(),o=$(".js-ldp-nearby-mini-card");if(MOVE.MapMiniCard&&!u)if(t){var a=i.x,s=i.y;MOVE.MapMiniCard.Helper.openInfoWindowCard(t,a,s,!1,"",o,b)}else MOVE.MapMiniCard.Helper.closeInfoWindowCard(o)}}}}},o),$(".js-nearby-widget-tabs li").on("click",function(){var t;$(this).hasClass("js-nearby-homes-for-sale")?t=T("mapDataForSale"):$(this).hasClass("js-nearby-for-rent")?t=T("mapDataForRent"):$(this).hasClass("js-nearby-recently-sold")?t=T("mapDataRecentlySold"):$(this).hasClass("js-nearby-home-values")&&(t=T("mapDataOffMarket")),n.properties.clear("property"),n.properties.update(t),MOVE.MapMiniCard&&MOVE.MapMiniCard.Helper.closeInfoWindowCard(),$(".ldp-nearby-homes").scrollTop(10)})}},R=function(t){return function(i,o){r=new t({version:e.map.map_version,cdn:e.map.cdn_url,client:f,utils:M,container:x,mapOptions:jQuery.extend({},i,{disableDoubleClickZoom:!0}),enabled:{properties:!0,youAreHere:!0,waiting:!0,streetView:!1},extensions:{properties:{events:{load:function(t,e){P(t,function(t){e(t)})},pinClicked:function(t,e){e.preventDefault(),e.stopPropagation();var i=r.properties.getSelectedPoint(),o=$(".js-ldp-nearby-homevalues-mini-card");if(MOVE.MapMiniCard)if(t&&!u){var a=i.x,n=i.y;MOVE.MapMiniCard.Helper.openInfoWindowCard(t,a,n,!1,"",o,b)}else MOVE.MapMiniCard.Helper.closeInfoWindowCard(o)}}}}},o)}},j=function(t){return function(i,o){a=new t({version:e.map.map_version,cdn:e.map.cdn_url,client:f,utils:M,container:x,mapOptions:jQuery.extend({},i,{gestureHandling:"greedy"}),enabled:{properties:!0,youAreHere:!0,waiting:!0,streetView:!0},extensions:{streetView:{panoramaOptions:{scrollwheel:!0,enableCloseButton:!1,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.RIGHT_TOP},panControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP}}}}},o)}},B=function(t){return function(i,o){d=new t({version:e.map.map_version,cdn:e.map.cdn_url,client:f,utils:M,container:x,mapOptions:jQuery.extend({},i,{disableDoubleClickZoom:!0}),enabled:{properties:!0,youAreHere:!0,waiting:!0,streetView:!1},extensions:{properties:{events:{load:function(t,e){h=e,S(t,function(t){e(t)})},pinClicked:function(t,e){e.preventDefault(),e.stopPropagation();var i=d.properties.getSelectedPoint(),o=$(".js-ldp-recently-sold-around-mini-card");if(MOVE.MapMiniCard&&!u)if(t){var a=i.x,n=i.y;MOVE.MapMiniCard.Helper.openInfoWindowCard(t,a,n,!1,"",o,b)}else MOVE.MapMiniCard.Helper.closeInfoWindowCard(o)}}}}},o),g(d)}};b=function(){void 0!==n&&n.properties.select({}),void 0!==r&&r.properties.select({}),void 0!==d&&d.properties.select({})},MOVE.MapHelper.bindInfoWindowCloseEvents(x,function(){MOVE.MapMiniCard&&MOVE.MapMiniCard.Helper.closeInfoWindowCard(),b()}),function(){x.appear(),x.on("appear",function(){x.off("appear"),O()}),jQuery.force_appear()}()},f=function(t){var i=[];t?(e.address&&i.push(e.address),e.city&&i.push(e.city),e.postal_code&&i.push(e.postal_code),e.state_code&&i.push(e.state_code),a&&(p=a.youAreHere.getVisible(),a.youAreHere.hide(),a.streetView.show(i.join(", ")),a.onChanged(function(){setTimeout(function(){var t=$(".gmnoprint").prevAll('div:not(:has(div)):not([class])[style*="left: 0px; top: 0px;"]');t.length&&t.remove()},1e3)}))):(a.streetView.hide(),a.youAreHere.setVisible(p))},g=function(t){var e=$("#ldp-home-around-hignlight-carousel");e.on("mouseenter",".recently-sold-around-highlight-card",function(){t.properties.select({type:"property",id:$(this).data("property-id")}),"for_sale"===$(this).data("propertystatus")?$(this).addClass("active highlight-card-forsale"):$(this).addClass("active"),u=!0}),e.on("mouseout",".recently-sold-around-highlight-card",function(){t.properties.select({}),$(this).removeClass("active highlight-card-forsale"),u=!1})},v=function(){window.google&&MOVE.LDP.Map&&window.google.maps.event.trigger(MOVE.LDP.Map.mapLdp,"resize")},y=function(t){return t[0]==t[2]||t[1]==t[3]};return t.Map={init:m,mapLdpNearby:n,mapLdpHomeValues:r,showStreetView:f},t.Map}(MOVE.LDP||{})},118:function(t,e,i){"use strict";var o=i(290),a=i.n(o),n=i(77),s=i(60),r=i(199);MOVE.LDP.MapLayers=function(t){var e,o,l,h,d,c,p,u,m,f,g,v,y=[],M=MOVE.DataStore.getData("mapConfiguration"),b=function(){var t,b,x=$("#ldpAmenities"),w=M,k=null;e={area_type:"city",city:MOVE_DATA.propertyDetails.city,latitude:MOVE_DATA.propertyDetails.lat,longitude:MOVE_DATA.propertyDetails.long,postal_code:MOVE_DATA.propertyDetails.postal_code,state:MOVE_DATA.propertyDetails.state_code},d=function(){w&&(i.i(s.a)(c),i.i(s.b)("rdc-ldp"))},c=function(t){var e=t.Component,i=t.Client,o=t.Utils;p({Client:i,Utils:o})(function(){m(e)(function(t){MOVE.MapHelper.createMapMessage(t,function(){f(t)})})})},f=function(t){g=new google.maps.Marker({position:new google.maps.LatLng(parseFloat(MOVE_DATA.propertyDetails.lat),parseFloat(MOVE_DATA.propertyDetails.long)),map:t.map,icon:i.i(n.a)(a.a)}),MOVE.LDP.MapLayers.mapLDP=t,0===y.length&&(h(),l(y)),MOVE.MapHelper.triggerOnDrag(x).on("drag.map",function(e){u(e),t.map.setClickableIcons(!1),_.defer(function(){t.map.setClickableIcons(!0)})})},v=function(){o.map.panTo(g.getPosition()),o.map.setZoom(14),o.map.setCenter(g.getPosition())},h=function(){y.push({state:e.state,city:e.city,postal_code:e.postal_code,name:e.city,type:"area-city"})},l=function(t){MOVE.LDP.MapLayers.mapLDP.client.getAreasByName({areas:JSON.stringify(t)},function(t){var e,i=[];t.list&&(i=t.list),i.length>0&&($.each(i,function(t,e){e.type="search-area"}),e=o.client.createResponse(i),o.areas.createView(i)&&(o.areas.setTypeEnabled("search-area",!0),e&&o.areas.clear("search-area")))})},u=function(t){o.schools.isTooltipTarget(t.target)||o.schools.closeInfoWindow()},p=function(i){var a=i.Client,n=i.Utils;return function(i){var s,r,l;e&&(l=e.longitude,r=e.latitude,-1!==l&&0!==l&&-1!==r&&0!==r&&(s={longitude:l,latitude:r})),null===k&&(k={view:{center:s,zoom:14}}),void 0===b&&(b=new n),void 0===t&&(t=new a({id:"rdcV8",url:w.service_url})),function(){void 0===k.view.center&&(k=null),i&&i()}(),o&&o.areas.show("search-area")}},m=function(i){return function(a){var n,s=!$.Device.isMobile(navigator.userAgent)&&!0,l={fullscreenControl:!1,streetViewControl:!1,scrollwheel:!1,mapTypeControl:!0,zoomControl:!0,keyboardShortcuts:s,overviewMapControl:s,panControl:s,gestureHandling:"cooperative",rotateControl:s,scaleControl:s,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.RIGHT_TOP},zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL},styles:[{featureType:"poi",stylers:[{visibility:"off"}]}]};n=null===k?{center:{longitude:-98.579416,latitude:39.828328},zoom:4}:void 0,n=k.view,$.extend(!0,l,n),o=new i({version:w.map_version,cdn:w.cdn_url,client:t,utils:b,container:x,mapOptions:l,noticeVersion:"1.0.0",geo:e,enabled:{areas:!0,properties:!1,youAreHere:!0,waiting:!0,streetView:!0,schools:!0,tiles:!0,amenities:!0,overlayControls:!0,appType:!0,moveADs:!0,transit:!0},appType:MOVE_DATA.is_building?"bdp":"ldp",trackingOptions:{tagName:"omtag"},propertyAttributes:{position:{lat:MOVE_DATA.propertyDetails.lat,long:MOVE_DATA.propertyDetails.long}},extensions:{overlayControls:{position:google.maps.ControlPosition.LEFT_BOTTOM,crime:!0,amenities:!0,schools:!0,transit:!0,events:{loaded:function(t){$(t).find("#amenityLayerToggle").attr("data-omtag","ldp:map:amenities")}},defaults:r.a.overlayControlsDefaults},moveADs:{getData:function(){return MOVE.AmenitiesNearYouADS.getAdsData()}},streetView:{panoramaOptions:{enableCloseButton:!1,zoomControlOptions:{style:1}}},tiles:{legend:google.maps.ControlPosition.BOTTOM_CENTER,events:{toggleClicked:function(t){var e=$(".ldp-map-crime-sponsor"),i=$(".js-ldp-sponsorship");t?(o.youAreHere.hide(),v(),e.removeClass("hide-attribution"),i.addClass("hide-attribution")):(o.youAreHere.show(),e.addClass("hide-attribution"),i.removeClass("hide-attribution"))}}},amenities:{limit:50,radius:5,panControl:!1,events:{toggleClicked:function(){v()}}},schools:{limit:75,searchEnabled:!0,nearby:!0,events:{toggleClicked:function(t){var e=$(".ldp-map-school-sponsor"),i=$(".js-ldp-sponsorship");t?(o.youAreHere.hide(),v(),e.removeClass("hide-attribution"),i.addClass("hide-attribution")):(o.youAreHere.show(),e.addClass("hide-attribution"),i.removeClass("hide-attribution"))}}},transit:{events:{toggleClicked:function(){}}}}},a)}};!function(){x.appear(),x.on("appear",function(){$("#ldp-amenities-map-container").addClass("ldp-amenities-loading"),x.off("appear"),d()}),$.force_appear()}()};return t.MapLayers={init:b},t.MapLayers}(MOVE.LDP||{})},119:function(t,e){MOVE.LDP.PhotoGallery=function(t){var e,i,o,a,n,s,r,l,h,d,c,p,u,m,f,g,v=$("#ldpPhotoGalleryNavigation"),y=$("#fullScreenphotoGalleryLead"),_=$("#photoGalleryMrect"),M="co_broke"===MOVE_DATA.propertyDetails.lead_capture_product,b="small"===MOVE.Helper.detectViewPort()||"medium"===MOVE.Helper.detectViewPort()||"large"===MOVE.Helper.detectViewPort(),x=$("#ldp-fullscreen-gallery").hasClass("js-fsgallery-leadad"),w=function(t){if(l=t.selectedPhotoIndex,e=!0,d=t.galleryContainer||$("#ldpPhotoGallery"),c=t.navContainer||$("#ldpPhotoGalleryNavigation"),p=t.showPhotoCount,h=t.thumbnailContainer||$("#photoCarousel","#ldp-fullscreen-gallery"),g=t.noPhotos,f=t.photosCount,0===d.find(".owl-loaded").length&&(g||i(),o()),p){_.addClass("hide");var n=d.find("div.owl-item:not('.cloned')").length;n>1?n>l+1?$("#galleryFirstCount").text(l+1):n>l+2?$("#galleryFirstCount").text(l+2):$("#galleryFirstCount").text(l):$("#galleryFirstCount").text("1")}t.showAds&&l===MOVE_DATA.propertyDetails.photo_count-1&&(MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsFullPhotoGallery),_.removeClass("hide")),MOVE.LDP.Photos.preloadPhotos(d,l),a(),MOVE.DOMHelper.highlightThumbnail(l,h)},k=function(){return x&&b||!b&&y.length&&x?MOVE_DATA.propertyDetails.photo_count>=1||f>0:MOVE_DATA.propertyDetails.photo_count>1||f>0};return i=function(){var t,e,i,o,a={target:d,currentIndex:l,items:1,margin:50,touchDrag:k(),mouseDrag:k(),navigationContainer:c};if(e=function(){v.find(".owl-next .arrow-right").attr("data-omtag","edw:ldp:photo:next"),v.find(".owl-next .ra-chevron-right").attr("data-omtag","edw:ldp:photo:next")},i=function(){b?(y.on("swipeleft",function(){$("#ldpPhotoGallery").trigger("to.owl.carousel",[MOVE_DATA.propertyDetails.photo_count+1,1e3,!0])}),y.on("swiperight",function(){$("#ldpPhotoGallery").trigger("to.owl.carousel",[MOVE_DATA.propertyDetails.photo_count-1,1e3,!0])})):(y.on("swipeleft",function(){$("#ldpPhotoGallery").trigger("to.owl.carousel",[MOVE_DATA.propertyDetails.photo_count+1,0,!0])}),y.on("swiperight",function(){$("#ldpPhotoGallery").trigger("to.owl.carousel",[MOVE_DATA.propertyDetails.photo_count-1,0,!0])}))},o=function(){y.on("swipeleft",function(){$("#ldpPhotoGallery").trigger("to.owl.carousel",[MOVE_DATA.propertyDetails.photo_count+2,1e3,!0])}),y.on("swiperight",function(){$("#ldpPhotoGallery").trigger("to.owl.carousel",[MOVE_DATA.propertyDetails.photo_count,1e3,!0])})},p){t=function(t,a){var n=1===$("#photoGalleryMrect").length?1:0;MOVE_DATA.propertyDetails.photo_count>1?t>a+n&&a!==MOVE_DATA.propertyDetails.photo_count?($("#galleryFirstCount").text(a+1),MOVE.DOMHelper.highlightThumbnail(a,h),n>0&&t<=a+n+1+window.gptAds.gptadslotsFullPhotoGallery.preload&&MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsFullPhotoGallery),_.addClass("hide"),y.addClass("hide"),v.find(".owl-next span").remove(),e()):t>1&&a===MOVE_DATA.propertyDetails.photo_count?($("#galleryFirstCount").text(a),n>0&&!b||b?v.find(".owl-next span").remove():i(),b?b&&$(".js-fsgallery-leadad").length&&M?(y.removeClass("hide"),_.addClass("hide"),v.find(".owl-next .arrow-right").attr("data-omtag","ldp:photo:leadtoad"),v.find(".owl-next .ra-chevron-right").attr("data-omtag","ldp:photo:leadtoad"),i()):(MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsFullPhotoGallery),_.removeClass("hide"),y.addClass("hide"),i()):n>0?(y.addClass("hide"),_.removeClass("hide")):(_.addClass("hide"),y.removeClass("hide"))):t>1&&a===MOVE_DATA.propertyDetails.photo_count+1?($("#galleryFirstCount").text(a-1),MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsFullPhotoGallery),!b&&y.length?(y.removeClass("hide"),_.addClass("hide"),o()):M?(_.removeClass("hide"),y.addClass("hide")):(_.addClass("hide"),y.removeClass("hide"),o()),e()):($("#galleryFirstCount").text(a-1),_.addClass("hide"),y.addClass("hide"),e()):1===MOVE_DATA.propertyDetails.photo_count&&$(".js-fsgallery-leadad").length&&(t>1&&a===MOVE_DATA.propertyDetails.photo_count?(y.removeClass("hide"),i()):(y.addClass("hide"),e()))};var n=function(){_.addClass("hide")};MOVE.LDP.Photos.init(a,t,n)}else t=function(t,e){MOVE.DOMHelper.highlightThumbnail(e,h)},MOVE.LDP.Photos.init(a,t)},o=function(){MOVE.DOMHelper.loadCarouselThumbnails(h),h.off("click",".owl-item").on("click",".owl-item",function(){var t=$(this),i=h.data("owl.carousel"),o=i.relative(t.index());d.trigger("to.owl.carousel",[o,200,!0]),h.find("div.highlight").removeClass("highlight"),t.addClass("highlight"),d.hasClass("hide")&&(s(),e=!0),u(!1),m(!0)}),$("#photoGalleryMap").off("click").on("click",function(){n(!1),u(!0),m(!1)}),$("#photoGalleryStreet").off("click").on("click",function(){n(!0),u(!0),m(!0)}),$("#ldp-fullscreen-gallery .jsLdpGalleryLeadCta").off("click").on("click",function(){_satellite.track("homes:modal:rmd")})},$("#viewOriginal").on("click",function(){if(void 0!==d){var t=d.find(".owl-item.active img").attr("src");t=void 0!==t?t.replace(/xd-(\w+)/,"r"):"",window.open(t,"_blank")}}),a=function(){d.trigger("to.owl.carousel",[l,200,!0]),v.removeClass("hide"),d.hasClass("hide")&&(s(),e=!0)},r=function(){var t=$("#ldpBottomLeadModal");1===t.length&&t.modal("hide")},n=function(t){e&&(s(),e=!1),MOVE.LDP.Map.init("photoGalleryLDPMap",!0,t),_.addClass("hide")},s=function(){d.toggleClass("hide"),$("#galleryPhotoCount").toggleClass("hide"),$("#photoGalleryLDPMap").parent().toggleClass("hide")},u=function(t){v.toggleClass("hide",t)},m=function(t){$("#galleryMapDirectionsBtn").toggleClass("hide",t)},t.PhotoGallery={init:w,hideLeadForm:r},t.PhotoGallery}(MOVE.LDP||{})},120:function(t,e){MOVE.LDP.TopHeroMap=function(t){"use strict";var e,i=!1,o=!1,a=$("#topLDPMapHero").parent(),n=$("#ldphero3dTours"),s=function(t){var s=function(){i=!1,o=!1,a.addClass("hide"),t&&n.addClass("hide")},r=function(){$("#hero-top-map").removeClass("hide"),$("#hero-top-map-street-view").addClass("hide")},l=function(){s(),r()},h=function(t){s(),a.removeClass("hide"),i?t?(o=!0,MOVE.LDP.Map.showStreetView(o)):o&&(o=!1,MOVE.LDP.Map.showStreetView(o)):(MOVE.LDP.Map.init("topLDPMapHero",!0,t),i=!0,o=t)},d=function(){s(),n.removeClass("hide");var t=$("#3dIframehero");t.attr("src",t.data("src"))},c=function(t){$("#fullScreenBtnhero").toggleClass("hide",t)},p=function(t){$(".label-new").add(".label-pending").add(".label-sold").toggleClass("hide",t)},u=function(t){$("#heromapDirectionsBtn").toggleClass("hide",t)},m=function(){$("#hero-top-map").toggleClass("hide"),$("#hero-top-map-street-view").toggleClass("hide")},f=function(t){l(),c(!1),p(!1),u(!0),e(),t.preventDefault()},g=function(e){h(!1),m(),p(!1),u(!1),t&&c(!0),e.preventDefault()},v=function(e){h(!0),m(),p(!0),u(!0),t&&c(!0),e.preventDefault()};$("#hero-view-photo").click(f),$("#hero-top-map").click(g),$("#hero-top-map-street-view").click(v),$("#map-aside-action-close").click(function(t){l(),c(!1),u(!0),t.preventDefault()}),$("#heroview-3dtours").click(function(t){d(),c(!0),u(!0),t.preventDefault()}),!1===t&&(h(!0),u(!0));var y=function(t){var e=t.find("div.owl-item:not('.cloned')");e.length&&(t.trigger("remove.owl.carousel",e.length-2),t.trigger("prev.owl.carousel"))};$("#photomrect1AdsClose").off("click").click(function(t){t.stopPropagation(),$("#ldp-hero-photo-wrap .fsgallery-ad").remove(),y($("#ldpPhotos"))})};e=function(){var t=parseInt($("#firstPhotoCount").html(),10)-1;$("#ldp-fullscreen-gallery").modal({show:!0});var e={selectedPhotoIndex:t,showAds:!0,galleryContainer:$("#ldpPhotoGallery"),navContainer:$("#ldpPhotoGalleryNavigation"),thumbnailContainer:$("#photoCarousel","#ldp-fullscreen-gallery"),showPhotoCount:!0};MOVE.LDP.PhotoGallery.init(e)};if($(".js-fullgallery-trigger").length>0)for(var r=$(".js-fullgallery-trigger"),l=0;l<r.length;l++)r[l].addEventListener("click",function(){return function(){$("body").on("click","#ldpPhotos .owl-item.active:first",function(){$(this).children().hasClass("ldp-herocarousel-ctawrapper")||e()})}}(),!0);return t.TopHeroMap={init:s,showfullGallery:e},t.TopHeroMap}(MOVE.TopHeroMap||{})},121:function(t,e){MOVE.LDP.TopMap=function(t){"use strict";var e=!1,i=!1,o=$("#ldpPhotos"),a=$("#topLDPMap").parent(),n=$("#ldp3dTours"),s=$("#ldpPhotoMrect"),r=function(t){var r=function(){e=!1,i=!1,o.addClass("hide"),a.addClass("hide"),n.addClass("hide"),s.addClass("hide")},l=function(){$("#top-map").removeClass("hide"),$("#top-map-street-view").addClass("hide")},h=function(){r(),o.removeClass("hide"),l()},d=function(t){r(),a.removeClass("hide"),e?t?(i=!0,MOVE.LDP.Map.showStreetView(i)):i&&(i=!1,MOVE.LDP.Map.showStreetView(i)):(MOVE.LDP.Map.init("topLDPMap",!0,t),e=!0,i=t)},c=function(){r(),n.removeClass("hide");var t=$("#3dIframe");t.attr("src",t.data("src"))},p=function(t){t.parent().find("a.active").removeClass("active"),t.addClass("active")},u=function(t){$("#fullScreenBtn").toggleClass("hide",t)},m=function(t){$("#ldpPhotosNavigation").toggleClass("hide",t)},f=function(t){$(".label-new").add(".label-pending").add(".label-sold").toggleClass("hide",t)},g=function(t){$("#mapDirectionsBtn").toggleClass("hide",t)},v=function(){$("#top-map").toggleClass("hide"),$("#top-map-street-view").toggleClass("hide")};$("#view-photo").click(function(t){h(),p($(this)),1===$("#ldpPhotos .owl-item.active .ldp-photo-cta").length&&$("#ldpPhotoMrect").removeClass("hide"),u(!1),m(!1),f(!1),g(!0),t.preventDefault()}),$("#top-map").click(function(t){d(!1),v(),p($(this)),u(!0),m(!0),f(!1),g(!1),t.preventDefault()}),$("#top-map-street-view").click(function(t){d(!0),v(),p($(this)),u(!0),m(!0),f(!0),g(!0),t.preventDefault()}),$("#view-3dtours").click(function(t){c(),p($(this)),u(!0),m(!0),f(!0),g(!0),t.preventDefault()}),window.location.href.search("ldp-map=1")>-1&&$("#top-map").click(),!1===t&&(d(!0),f(!0),g(!0))};return t.TopMap={init:r},t.TopMap}(MOVE.TopMap||{})},122:function(t,e){MOVE.VeteranBenefits=function(t){var e=function(){o(!1)},i=function(t,e){e?($(t+' option[value="30yr_va"]').show(),$(t).selectpicker("refresh")):($(t+' option[value="30yr_va"]').hide(),$(t).selectpicker("refresh"))},o=function(e,i){if("#veteranAdsInEstimatePayment"===e){var o=i?"Y":"N";window.googletag.pubads().setTargeting("VET",[o]),t.Medias.manualLoadAds(window.gptAds.gptadslotsEMP,null,!0)}else i?($(e).show(),window.googletag.pubads().setTargeting("VET",["Y"]),"#veteranAdsInAffordCalcSummary"===e?t.Medias.manualLoadAds(window.gptAds.gptadslotsVetOnlyCalcAfford,".VU"):"#veteranAdsInMortCalc"===e&&(t.Medias.manualLoadAds(window.gptAds.gptadslotsVetOnlyCalcMort,".VU"),$(".js-get-preapproved").hide())):($(e).hide(),$(".js-get-preapproved").show())},a=function(t,e){$(t).val(e),$(t).trigger("change")},n=function(e){"#veteranAdsInMortCalc"===e?t.Medias.kruxPixel("Jy_zI35g",{}):"#veteranAdsInAffordCalcWizard"===e||"#veteranAdsInAffordCalcSummary"===e?t.Medias.kruxPixel("JzAQDIUI",{}):"#veteranAdsInEstimatePayment"===e&&t.Medias.kruxPixel("K25Fdnq5",{})},s=function(t,e,s,r,l){var h=$("#"+s);if($(t).prop("checked"))h.data("percent",h.val()),h.val("0%"),o(r,!0),i(e,!0),n(r),a(e,"30yr_va"),"function"==typeof l&&l(s);else{var d="0%"===h.data("percent")?"20%":h.data("percent");h.val(d),o(r,!1),i(e,!1),$(e+" :selected").val().indexOf("_va")>-1&&a(e,"30yr_fixed"),"function"==typeof l&&l(s)}};return t.VeteranBenefits={init:e,showVeteranAds:o,showLoanTypeOption:i,toggleVeteranBenefits:s},t.VeteranBenefits}(MOVE||{}),MOVE.VeteranBenefits.init()},134:function(t,e,i){var o,a;!function(n,s,r){o=[i(12)],void 0!==(a=function(t){return r(t,n,s),t.mobile}.apply(e,o))&&(t.exports=a)}(this,document,function(t,e,i,o){(function(t,e,i,o){function a(t){for(;t&&void 0!==t.originalEvent;)t=t.originalEvent;return t}function n(e,i){var n,s,r,l,h,d,c,p,u,m=e.type;if(e=t.Event(e),e.type=i,n=e.originalEvent,s=t.event.props,m.search(/^(mouse|click)/)>-1&&(s=T),n)for(c=s.length,l;c;)l=s[--c],e[l]=n[l];if(m.search(/mouse(down|up)|click/)>-1&&!e.which&&(e.which=1),-1!==m.search(/^touch/)&&(r=a(n),m=r.touches,h=r.changedTouches,d=m&&m.length?m[0]:h&&h.length?h[0]:o,d))for(p=0,u=O.length;p<u;p++)l=O[p],e[l]=d[l];return e}function s(e){for(var i,o,a={};e;){i=t.data(e,k);for(o in i)i[o]&&(a[o]=a.hasVirtualBinding=!0);e=e.parentNode}return a}function r(e,i){for(var o;e;){if((o=t.data(e,k))&&(!i||o[i]))return e;e=e.parentNode}return null}function l(){H=!1}function h(){H=!0}function d(){R=0,$.length=0,I=!1,h()}function c(){l()}function p(){u(),S=setTimeout(function(){S=0,d()},t.vmouse.resetTimerDuration)}function u(){S&&(clearTimeout(S),S=0)}function m(e,i,o){var a;return(o&&o[e]||!o&&r(i.target,e))&&(a=n(i,e),t(i.target).trigger(a)),a}function f(e){var i,o=t.data(e.target,C);!I&&(!R||R!==o)&&(i=m("v"+e.type,e))&&(i.isDefaultPrevented()&&e.preventDefault(),i.isPropagationStopped()&&e.stopPropagation(),i.isImmediatePropagationStopped()&&e.stopImmediatePropagation())}function g(e){var i,o,n,r=a(e).touches;r&&1===r.length&&(i=e.target,o=s(i),o.hasVirtualBinding&&(R=F++,t.data(i,C,R),u(),c(),V=!1,n=a(e).touches[0],A=n.pageX,L=n.pageY,m("vmouseover",e,o),m("vmousedown",e,o)))}function v(t){H||(V||m("vmousecancel",t,s(t.target)),V=!0,p())}function y(e){if(!H){var i=a(e).touches[0],o=V,n=t.vmouse.moveDistanceThreshold,r=s(e.target);V=V||Math.abs(i.pageX-A)>n||Math.abs(i.pageY-L)>n,V&&!o&&m("vmousecancel",e,r),m("vmousemove",e,r),p()}}function _(t){if(!H){h();var e,i,o=s(t.target);m("vmouseup",t,o),V||(e=m("vclick",t,o))&&e.isDefaultPrevented()&&(i=a(t).changedTouches[0],$.push({touchID:R,x:i.clientX,y:i.clientY}),I=!0),m("vmouseout",t,o),V=!1,p()}}function M(e){var i,o=t.data(e,k);if(o)for(i in o)if(o[i])return!0;return!1}function b(){}var x,w,k="virtualMouseBindings",C="virtualTouchID",D="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),O="clientX clientY pageX pageY screenX screenY".split(" "),E=t.event.mouseHooks?t.event.mouseHooks.props:[],T=t.event.props.concat(E),P={},S=0,A=0,L=0,V=!1,$=[],I=!1,H=!1,N="addEventListener"in i,z=t(i),F=1,R=0;for(t.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},w=0;w<D.length;w++)t.event.special[D[w]]=function(e){var i=e.substr(1);return{setup:function(){M(this)||t.data(this,k,{}),t.data(this,k)[e]=!0,P[e]=(P[e]||0)+1,1===P[e]&&z.bind(i,f),t(this).bind(i,b),N&&(P.touchstart=(P.touchstart||0)+1,1===P.touchstart&&z.bind("touchstart",g).bind("touchend",_).bind("touchmove",y).bind("scroll",v))},teardown:function(){--P[e],P[e]||z.unbind(i,f),N&&(--P.touchstart||z.unbind("touchstart",g).unbind("touchmove",y).unbind("touchend",_).unbind("scroll",v));var o=t(this),a=t.data(this,k);a&&(a[e]=!1),o.unbind(i,b),M(this)||o.removeData(k)}}}(D[w]);N&&i.addEventListener("click",function(e){var i,o,a,n,s,r=$.length,l=e.target;if(r)for(i=e.clientX,o=e.clientY,x=t.vmouse.clickDistanceThreshold,a=l;a;){for(n=0;n<r;n++)if(s=$[n],0,a===l&&Math.abs(s.x-i)<x&&Math.abs(s.y-o)<x||t.data(a,C)===s.touchID)return e.preventDefault(),void e.stopPropagation();a=a.parentNode}},!0)})(t,0,i),function(t){t.mobile={}}(t),function(t,e){var o={touch:"ontouchend"in i};t.mobile.support=t.mobile.support||{},t.extend(t.support,o),t.extend(t.mobile.support,o)}(t),function(t,e,o){function a(e,i,a,n){var s=a.type;a.type=i,n?t.event.trigger(a,o,e):t.event.dispatch.call(e,a),a.type=s}var n=t(i),s=t.mobile.support.touch,r="touchmove scroll",l=s?"touchstart":"mousedown",h=s?"touchend":"mouseup",d=s?"touchmove":"mousemove";t.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(e,i){t.fn[i]=function(t){return t?this.bind(i,t):this.trigger(i)},t.attrFn&&(t.attrFn[i]=!0)}),t.event.special.scrollstart={enabled:!0,setup:function(){function e(t,e){i=e,a(n,i?"scrollstart":"scrollstop",t)}var i,o,n=this,s=t(n);s.bind(r,function(a){t.event.special.scrollstart.enabled&&(i||e(a,!0),clearTimeout(o),o=setTimeout(function(){e(a,!1)},50))})},teardown:function(){t(this).unbind(r)}},t.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var e=this,i=t(e),o=!1;i.bind("vmousedown",function(s){function r(){clearTimeout(d)}function l(){r(),i.unbind("vclick",h).unbind("vmouseup",r),n.unbind("vmousecancel",l)}function h(t){l(),o||c!==t.target?o&&t.preventDefault():a(e,"tap",t)}if(o=!1,s.which&&1!==s.which)return!1;var d,c=s.target;i.bind("vmouseup",r).bind("vclick",h),n.bind("vmousecancel",l),d=setTimeout(function(){t.event.special.tap.emitTapOnTaphold||(o=!0),a(e,"taphold",t.Event("taphold",{target:c}))},t.event.special.tap.tapholdThreshold)})},teardown:function(){t(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),n.unbind("vmousecancel")}},t.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(t){var i=e.pageXOffset,o=e.pageYOffset,a=t.clientX,n=t.clientY;return 0===t.pageY&&Math.floor(n)>Math.floor(t.pageY)||0===t.pageX&&Math.floor(a)>Math.floor(t.pageX)?(a-=i,n-=o):(n<t.pageY-o||a<t.pageX-i)&&(a=t.pageX-i,n=t.pageY-o),{x:a,y:n}},start:function(e){var i=e.originalEvent.touches?e.originalEvent.touches[0]:e,o=t.event.special.swipe.getLocation(i);return{time:(new Date).getTime(),coords:[o.x,o.y],origin:t(e.target)}},stop:function(e){var i=e.originalEvent.touches?e.originalEvent.touches[0]:e,o=t.event.special.swipe.getLocation(i);return{time:(new Date).getTime(),coords:[o.x,o.y]}},handleSwipe:function(e,i,o,n){if(i.time-e.time<t.event.special.swipe.durationThreshold&&Math.abs(e.coords[0]-i.coords[0])>t.event.special.swipe.horizontalDistanceThreshold&&Math.abs(e.coords[1]-i.coords[1])<t.event.special.swipe.verticalDistanceThreshold){var s=e.coords[0]>i.coords[0]?"swipeleft":"swiperight";return a(o,"swipe",t.Event("swipe",{target:n,swipestart:e,swipestop:i}),!0),a(o,s,t.Event(s,{target:n,swipestart:e,swipestop:i}),!0),!0}return!1},eventInProgress:!1,setup:function(){var e,i=this,o=t(i),a={};e=t.data(this,"mobile-events"),e||(e={length:0},t.data(this,"mobile-events",e)),e.length++,e.swipe=a,a.start=function(e){if(!t.event.special.swipe.eventInProgress){t.event.special.swipe.eventInProgress=!0;var o,s=t.event.special.swipe.start(e),r=e.target,l=!1;a.move=function(e){s&&!e.isDefaultPrevented()&&(o=t.event.special.swipe.stop(e),l||(l=t.event.special.swipe.handleSwipe(s,o,i,r))&&(t.event.special.swipe.eventInProgress=!1),Math.abs(s.coords[0]-o.coords[0])>t.event.special.swipe.scrollSupressionThreshold&&e.preventDefault())},a.stop=function(){l=!0,t.event.special.swipe.eventInProgress=!1,n.off(d,a.move),a.move=null},n.on(d,a.move).one(h,a.stop)}},o.on(l,a.start)},teardown:function(){var e,i;e=t.data(this,"mobile-events"),e&&(i=e.swipe,delete e.swipe,0===--e.length&&t.removeData(this,"mobile-events")),i&&(i.start&&t(this).off(l,i.start),i.move&&n.off(d,i.move),i.stop&&n.off(h,i.stop))}},t.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(e,i){t.event.special[e]={setup:function(){t(this).bind(i,t.noop)},teardown:function(){t(this).unbind(i)}}})}(t,this)})},150:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var o=function(t){var e=void 0;switch(t.propertyStatus){case"for_sale":e="for_sale";break;case"for_rent":e="for_rent";break;case"not_for_sale":case"off_market":e="not_for_sale";break;case"recently_sold":e="recently_sold";break;case"new_community":e="new-home-community"}return e},a=function(t){var e=o(t);t.propId&&$(".map-property-pin[data-id="+t.propId+"]").find(".pinIcon").removeClass("pin-dot").addClass("saved-pin "+e)},n={mapMiniCardClass:o,addSavedPin:a}},152:function(t,e){!function(e,i){"object"==typeof t&&t.exports?t.exports=e.document?i(e):i:e.Highcharts=i(e)}("undefined"!=typeof window?window:this,function(t){return t=function(){var t=window,e=t.document,i=t.navigator&&t.navigator.userAgent||"",o=e&&e.createElementNS&&!!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,a=/(edge|msie|trident)/i.test(i)&&!window.opera,n=!o,s=/Firefox/.test(i),r=s&&4>parseInt(i.split("Firefox/")[1],10);return t.Highcharts?t.Highcharts.error(16,!0):{product:"Highcharts",version:"5.0.2",deg2rad:2*Math.PI/360,doc:e,hasBidiBug:r,hasTouch:e&&void 0!==e.documentElement.ontouchstart,isMS:a,isWebKit:/AppleWebKit/.test(i),isFirefox:s,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(i),SVG_NS:"http://www.w3.org/2000/svg",idCounter:0,chartCount:0,seriesTypes:{},symbolSizes:{},svg:o,vml:n,win:t,charts:[],marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){}}}(),function(t){var e=[],i=t.charts,o=t.doc,a=t.win;t.error=function(t,e){if(t="Highcharts error #"+t+": www.highcharts.com/errors/"+t,e)throw Error(t);a.console&&console.log(t)},t.Fx=function(t,e,i){this.options=e,this.elem=t,this.prop=i},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],i=this.paths[1],o=[],a=this.now,n=e.length;if(1===a)o=this.toD;else if(n===i.length&&1>a)for(;n--;)t=parseFloat(e[n]),o[n]=isNaN(t)?e[n]:a*parseFloat(i[n]-t)+t;else o=i;this.elem.attr("d",o)},update:function(){var t=this.elem,e=this.prop,i=this.now,o=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i):t.style[e]=i+this.unit,o&&o.call(t,i,this)},run:function(t,i,o){var a,n=this,s=function(t){return!s.stopped&&n.step(t)};this.startTime=+new Date,this.start=t,this.end=i,this.unit=o,this.now=this.start,this.pos=0,s.elem=this.elem,s()&&1===e.push(s)&&(s.timerId=setInterval(function(){for(a=0;a<e.length;a++)e[a]()||e.splice(a--,1);e.length||clearInterval(s.timerId)},13))},step:function(t){var e,i=+new Date,o=this.options;e=this.elem;var a,n=o.complete,s=o.duration,r=o.curAnim;if(e.attr&&!e.element)e=!1;else if(t||i>=s+this.startTime){this.now=this.end,this.pos=1,this.update(),t=r[this.prop]=!0;for(a in r)!0!==r[a]&&(t=!1);t&&n&&n.call(e),e=!1}else this.pos=o.easing((i-this.startTime)/s),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0;return e},initPath:function(e,i,o){function a(t){for(d=t.length;d--;)"M"!==t[d]&&"L"!==t[d]||t.splice(d+1,0,t[d+1],t[d+2],t[d+1],t[d+2])}function n(t,e){for(;t.length<l;){t[0]=e[l-t.length];var i=t.slice(0,m);[].splice.apply(t,[0,0].concat(i)),g&&(i=t.slice(t.length-m),[].splice.apply(t,[t.length,0].concat(i)),d--)}t[0]="M"}function s(t,e){for(var i=(l-t.length)/m;0<i&&i--;)h=t.slice().splice(t.length/v-m,m*v),h[0]=e[l-m-i*m],u&&(h[m-6]=h[m-2],h[m-5]=h[m-1]),[].splice.apply(t,[t.length/v,0].concat(h)),g&&i--}i=i||"";var r,l,h,d,c=e.startX,p=e.endX,u=-1<i.indexOf("C"),m=u?7:3;i=i.split(" "),o=o.slice();var f,g=e.isArea,v=g?2:1;if(u&&(a(i),a(o)),c&&p){for(d=0;d<c.length;d++){if(c[d]===p[0]){r=d;break}if(c[0]===p[p.length-c.length+d]){r=d,f=!0;break}}void 0===r&&(i=[])}return i.length&&t.isNumber(r)&&(l=o.length+r*v*m,f?(n(i,o),s(o,i)):(n(o,i),s(i,o))),[i,o]}},t.extend=function(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t},t.merge=function(){var e,i,o=arguments,a={},n=function(e,i){var o,a;"object"!=typeof e&&(e={});for(a in i)i.hasOwnProperty(a)&&(o=i[a],t.isObject(o,!0)&&"renderTo"!==a&&"number"!=typeof o.nodeType?e[a]=n(e[a]||{},o):e[a]=i[a]);return e};for(!0===o[0]&&(a=o[1],o=Array.prototype.slice.call(o,2)),i=o.length,e=0;e<i;e++)a=n(a,o[e]);return a},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"==typeof t},t.isArray=function(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t},t.isObject=function(e,i){return e&&"object"==typeof e&&(!i||!t.isArray(e))},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.erase=function(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}},t.defined=function(t){return void 0!==t&&null!==t},t.attr=function(e,i,o){var a,n;if(t.isString(i))t.defined(o)?e.setAttribute(i,o):e&&e.getAttribute&&(n=e.getAttribute(i));else if(t.defined(i)&&t.isObject(i))for(a in i)e.setAttribute(a,i[a]);return n},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,i){if(e)return setTimeout(t,e,i);t.call(0,i)},t.pick=function(){var t,e,i=arguments,o=i.length;for(t=0;t<o;t++)if(void 0!==(e=i[t])&&null!==e)return e},t.css=function(e,i){t.isMS&&!t.svg&&i&&void 0!==i.opacity&&(i.filter="alpha(opacity="+100*i.opacity+")"),t.extend(e.style,i)},t.createElement=function(e,i,a,n,s){e=o.createElement(e);var r=t.css;return i&&t.extend(e,i),s&&r(e,{padding:0,border:"none",margin:0}),a&&r(e,a),n&&n.appendChild(e),e},t.extendClass=function(e,i){var o=function(){};return o.prototype=new e,t.extend(o.prototype,i),o},t.pad=function(t,e,i){return Array((e||2)+1-String(t).length).join(i||0)+t},t.relativeLength=function(t,e){return/%$/.test(t)?e*parseFloat(t)/100:parseFloat(t)},t.wrap=function(t,e,i){var o=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(o),i.apply(this,t)}},t.getTZOffset=function(e){var i=t.Date;return 6e4*(i.hcGetTimezoneOffset&&i.hcGetTimezoneOffset(e)||i.hcTimezoneOffset||0)},t.dateFormat=function(e,i,o){if(!t.defined(i)||isNaN(i))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var a,n=t.Date,s=new n(i-t.getTZOffset(i)),r=s[n.hcGetHours](),l=s[n.hcGetDay](),h=s[n.hcGetDate](),d=s[n.hcGetMonth](),c=s[n.hcGetFullYear](),p=t.defaultOptions.lang,u=p.weekdays,m=p.shortWeekdays,f=t.pad,n=t.extend({a:m?m[l]:u[l].substr(0,3),A:u[l],d:f(h),e:f(h,2," "),w:l,b:p.shortMonths[d],B:p.months[d],m:f(d+1),y:c.toString().substr(2,2),Y:c,H:f(r),k:r,I:f(r%12||12),l:r%12||12,M:f(s[n.hcGetMinutes]()),p:12>r?"AM":"PM",P:12>r?"am":"pm",S:f(s.getSeconds()),L:f(Math.round(i%1e3),3)},t.dateFormats);for(a in n)for(;-1!==e.indexOf("%"+a);)e=e.replace("%"+a,"function"==typeof n[a]?n[a](i):n[a]);return o?e.substr(0,1).toUpperCase()+e.substr(1):e},t.formatSingle=function(e,i){var o=/\.([0-9])/,a=t.defaultOptions.lang;return/f$/.test(e)?(o=(o=e.match(o))?o[1]:-1,null!==i&&(i=t.numberFormat(i,o,a.decimalPoint,-1<e.indexOf(",")?a.thousandsSep:""))):i=t.dateFormat(e,i),i},t.format=function(e,i){for(var o,a,n,s,r,l="{",h=!1,d=[];e&&-1!==(l=e.indexOf(l));){if(o=e.slice(0,l),h){for(o=o.split(":"),a=o.shift().split("."),s=a.length,r=i,n=0;n<s;n++)r=r[a[n]];o.length&&(r=t.formatSingle(o.join(":"),r)),d.push(r)}else d.push(o);e=e.slice(l+1),l=(h=!h)?"}":"{"}return d.push(e),d.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,i,o,a,n){var s,r=e;for(o=t.pick(o,1),s=e/o,i||(i=[1,2,2.5,5,10],!1===a&&(1===o?i=[1,2,5,10]:.1>=o&&(i=[1/o]))),a=0;a<i.length&&(r=i[a],!(n&&r*o>=e||!n&&s<=(i[a]+(i[a+1]||i[a]))/2));a++);return r*o},t.stableSort=function(t,e){var i,o,a=t.length;for(o=0;o<a;o++)t[o].safeI=o;for(t.sort(function(t,o){return i=e(t,o),0===i?t.safeI-o.safeI:i}),o=0;o<a;o++)delete t[o].safeI},t.arrayMin=function(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i},t.arrayMax=function(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i},t.destroyObjectProperties=function(t,e){for(var i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]},t.discardElement=function(e){var i=t.garbageBin;i||(i=t.createElement("div")),e&&i.appendChild(e),i.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,i){i.renderer.globalAnimation=t.pick(e,i.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,i,o,a){e=+e||0,i=+i;var n,s,r=t.defaultOptions.lang,l=(e.toString().split(".")[1]||"").length,h=Math.abs(e);return-1===i?i=Math.min(l,20):t.isNumber(i)||(i=2),n=String(t.pInt(h.toFixed(i))),s=3<n.length?n.length%3:0,o=t.pick(o,r.decimalPoint),a=t.pick(a,r.thousandsSep),e=(0>e?"-":"")+(s?n.substr(0,s)+a:""),e+=n.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+a),i&&(a=Math.abs(h-n+Math.pow(10,-Math.max(i,l)-1)),e+=o+a.toFixed(i).slice(2)),e},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,i){return"width"===i?Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right"):"height"===i?Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom"):(e=a.getComputedStyle(e,void 0))&&t.pInt(e.getPropertyValue(i))},t.inArray=function(t,e){return e.indexOf?e.indexOf(t):[].indexOf.call(e,t)},t.grep=function(t,e){return[].filter.call(t,e)},t.map=function(t,e){for(var i=[],o=0,a=t.length;o<a;o++)i[o]=e.call(t[o],t[o],o,t);return i},t.offset=function(t){var e=o.documentElement;return t=t.getBoundingClientRect(),{top:t.top+(a.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(a.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(t){for(var i=e.length;i--;)e[i].elem===t&&(e[i].stopped=!0)},t.each=function(t,e,i){return Array.prototype.forEach.call(t,e,i)},t.addEvent=function(t,e,i){function o(e){e.target=e.srcElement||a,i.call(t,e)}var n=t.hcEvents=t.hcEvents||{};t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&(t.hcEventsIE||(t.hcEventsIE={}),t.hcEventsIE[i.toString()]=o,t.attachEvent("on"+e,o)),n[e]||(n[e]=[]),n[e].push(i)},t.removeEvent=function(e,i,o){function a(t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.attachEvent&&(i=e.hcEventsIE[i.toString()],e.detachEvent("on"+t,i))}function n(){var t,o;if(e.nodeName)for(o in i?(t={},t[i]=!0):t=l,t)if(l[o])for(t=l[o].length;t--;)a(o,l[o][t])}var s,r,l=e.hcEvents;l&&(i?(s=l[i]||[],o?(r=t.inArray(o,s),-1<r&&(s.splice(r,1),l[i]=s),a(i,o)):(n(),l[i]=[])):(n(),e.hcEvents={}))},t.fireEvent=function(e,i,a,n){var s;s=e.hcEvents;var r,l;if(a=a||{},o.createEvent&&(e.dispatchEvent||e.fireEvent))s=o.createEvent("Events"),s.initEvent(i,!0,!0),t.extend(s,a),e.dispatchEvent?e.dispatchEvent(s):e.fireEvent(i,s);else if(s)for(s=s[i]||[],r=s.length,a.target||t.extend(a,{preventDefault:function(){a.defaultPrevented=!0},target:e,type:i}),i=0;i<r;i++)(l=s[i])&&!1===l.call(e,a)&&a.preventDefault();n&&!a.defaultPrevented&&n(a)},t.animate=function(e,i,o){var a,n,s,r,l="";t.isObject(o)||(a=arguments,o={duration:a[2],easing:a[3],complete:a[4]}),t.isNumber(o.duration)||(o.duration=400),o.easing="function"==typeof o.easing?o.easing:Math[o.easing]||Math.easeInOutSine,o.curAnim=t.merge(i);for(r in i)s=new t.Fx(e,o,r),n=null,"d"===r?(s.paths=s.initPath(e,e.d,i.d),s.toD=i.d,a=0,n=1):e.attr?a=e.attr(r):(a=parseFloat(t.getStyle(e,r))||0,"opacity"!==r&&(l="px")),n||(n=i[r]),n.match&&n.match("px")&&(n=n.replace(/px/g,"")),s.run(a,n,l)},t.seriesType=function(e,i,o,a,n){var s=t.getOptions(),r=t.seriesTypes;return s.plotOptions[e]=t.merge(s.plotOptions[i],o),r[e]=t.extendClass(r[i]||function(){},a),r[e].prototype.type=e,n&&(r[e].prototype.pointClass=t.extendClass(t.Point,n)),r[e]},a.jQuery&&(a.jQuery.fn.highcharts=function(){var e=[].slice.call(arguments);if(this[0])return e[0]?(new(t[t.isString(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):i[t.attr(this[0],"data-highcharts-chart")]}),o&&!o.defaultView&&(t.getStyle=function(e,i){var o={width:"clientWidth",height:"clientHeight"}[i];return e.style[i]?t.pInt(e.style[i]):("opacity"===i&&(i="filter"),o?(e.style.zoom=1,Math.max(e[o]-2*t.getStyle(e,"padding"),0)):(e=e.currentStyle[i.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})],"filter"===i&&(e=e.replace(/alpha\(opacity=([0-9]+)\)/,function(t,e){return e/100})),""===e?1:t.pInt(e)))}),Array.prototype.forEach||(t.each=function(t,e,i){for(var o=0,a=t.length;o<a;o++)if(!1===e.call(i,t[o],o,t))return o}),Array.prototype.indexOf||(t.inArray=function(t,e){var i,o=0;if(e)for(i=e.length;o<i;o++)if(e[o]===t)return o;return-1}),Array.prototype.filter||(t.grep=function(t,e){for(var i=[],o=0,a=t.length;o<a;o++)e(t[o],o)&&i.push(t[o]);return i})}(t),function(t){var e=t.each,i=t.isNumber,o=t.map,a=t.merge,n=t.pInt;t.Color=function(e){if(!(this instanceof t.Color))return new t.Color(e);this.init(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[n(t[1]),n(t[2]),n(t[3]),parseFloat(t[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(t){return[n(t[1],16),n(t[2],16),n(t[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[n(t[1]),n(t[2]),n(t[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(e){var i,a,n,s;if((this.input=e=this.names[e]||e)&&e.stops)this.stops=o(e.stops,function(e){return new t.Color(e[1])});else for(n=this.parsers.length;n--&&!a;)s=this.parsers[n],(i=s.regex.exec(e))&&(a=s.parse(i));this.rgba=a||[]},get:function(t){var o,n=this.input,s=this.rgba;return this.stops?(o=a(n),o.stops=[].concat(o.stops),e(this.stops,function(e,i){o.stops[i]=[o.stops[i][0],e.get(t)]})):o=s&&i(s[0])?"rgb"===t||!t&&1===s[3]?"rgb("+s[0]+","+s[1]+","+s[2]+")":"a"===t?s[3]:"rgba("+s.join(",")+")":n,o},brighten:function(t){var o,a=this.rgba;if(this.stops)e(this.stops,function(e){e.brighten(t)});else if(i(t)&&0!==t)for(o=0;3>o;o++)a[o]+=n(255*t),0>a[o]&&(a[o]=0),255<a[o]&&(a[o]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this}},t.color=function(e){return new t.Color(e)}}(t),function(t){var e,i,o=t.addEvent,a=t.animate,n=t.attr,s=t.charts,r=t.color,l=t.css,h=t.createElement,d=t.defined,c=t.deg2rad,p=t.destroyObjectProperties,u=t.doc,m=t.each,f=t.extend,g=t.erase,v=t.grep,y=t.hasTouch,_=t.isArray,M=t.isFirefox,b=t.isMS,x=t.isObject,w=t.isString,k=t.isWebKit,C=t.merge,D=t.noop,O=t.pick,E=t.pInt,T=t.removeEvent,P=t.stop,S=t.svg,A=t.SVG_NS,L=t.symbolSizes,V=t.win;e=t.SVGElement=function(){return this},e.prototype={opacity:1,SVG_NS:A,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textDecoration textOverflow textShadow".split(" "),init:function(t,e){this.element="span"===e?h(e):u.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(t,e,i){return e=O(e,this.renderer.globalAnimation,!0),P(this),e?(i&&(e.complete=i),a(this,t,e)):this.attr(t,null,i),this},colorGradient:function(e,i,o){var a,n,s,r,l,h,c,p,u,f,g,v,y=this.renderer,M=[];if(e.linearGradient?n="linearGradient":e.radialGradient&&(n="radialGradient"),n){s=e[n],l=y.gradients,c=e.stops,f=o.radialReference,_(s)&&(e[n]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===n&&f&&!d(s.gradientUnits)&&(r=s,s=C(s,y.getRadialAttr(f,r),{gradientUnits:"userSpaceOnUse"}));for(g in s)"id"!==g&&M.push(g,s[g]);for(g in c)M.push(c[g]);M=M.join(","),l[M]?f=l[M].attr("id"):(s.id=f="highcharts-"+t.idCounter++,l[M]=h=y.createElement(n).attr(s).add(y.defs),h.radAttr=r,h.stops=[],m(c,function(e){0===e[1].indexOf("rgba")?(a=t.color(e[1]),p=a.get("rgb"),u=a.get("a")):(p=e[1],u=1),e=y.createElement("stop").attr({offset:e[0],"stop-color":p,"stop-opacity":u}).add(h),h.stops.push(e)})),v="url("+y.url+"#"+f+")",o.setAttribute(i,v),o.gradient=M,e.toString=function(){return v}}},applyTextShadow:function(t){var e,i=this.element,o=-1!==t.indexOf("contrast"),a={},s=this.renderer.forExport,r=this.renderer.forExport||void 0!==i.style.textShadow&&!b;o&&(a.textShadow=t=t.replace(/contrast/g,this.renderer.getContrast(i.style.fill))),(k||s)&&(a.textRendering="geometricPrecision"),r?this.css(a):(this.fakeTS=!0,this.ySetter=this.xSetter,e=[].slice.call(i.getElementsByTagName("tspan")),m(t.split(/\s?,\s?/g),function(t){var o,a,s=i.firstChild;t=t.split(" "),o=t[t.length-1],(a=t[t.length-2])&&m(e,function(t,e){0===e&&(t.setAttribute("x",i.getAttribute("x")),e=i.getAttribute("y"),t.setAttribute("y",e||0),null===e&&i.setAttribute("y",0)),t=t.cloneNode(1),n(t,{class:"highcharts-text-shadow",fill:o,stroke:o,"stroke-opacity":1/Math.max(E(a),3),"stroke-width":a,"stroke-linejoin":"round"}),i.insertBefore(t,s)})}))},attr:function(t,e,i){var o,a,n,s=this.element,r=this;if("string"==typeof t&&void 0!==e&&(o=t,t={},t[o]=e),"string"==typeof t)r=(this[t+"Getter"]||this._defaultGetter).call(this,t,s);else{for(o in t)e=t[o],n=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(o)&&(a||(this.symbolAttr(t),a=!0),n=!0),!this.rotation||"x"!==o&&"y"!==o||(this.doTransform=!0),n||(n=this[o+"Setter"]||this._defaultSetter,n.call(this,e,o,s),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(o)&&this.updateShadows(o,e,n));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return i&&i(),r},updateShadows:function(t,e,i){for(var o=this.shadows,a=o.length;a--;)i.call(o[a],"height"===t?Math.max(e-(o[a].cutHeight||0),0):"d"===t?this.d:e,t,o[a])},addClass:function(t,e){var i=this.attr("class")||"";return-1===i.indexOf(t)&&(e||(t=(i+(i?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==n(this.element,"class").indexOf(t)},removeClass:function(t){return n(this.element,"class",(n(this.element,"class")||"").replace(t,"")),this},symbolAttr:function(t){var e=this;m("x y r start end width height innerR anchorX anchorY".split(" "),function(i){e[i]=O(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var i,o,a={};e=e||t.strokeWidth||0,o=Math.round(e)%2/2,t.x=Math.floor(t.x||this.x||0)+o,t.y=Math.floor(t.y||this.y||0)+o,t.width=Math.floor((t.width||this.width||0)-2*o),t.height=Math.floor((t.height||this.height||0)-2*o),d(t.strokeWidth)&&(t.strokeWidth=e);for(i in t)this[i]!==t[i]&&(this[i]=a[i]=t[i]);return a},css:function(t){var e,i,o=this.styles,a={},s=this.element,r="";if(e=!o,t&&t.color&&(t.fill=t.color),o)for(i in t)t[i]!==o[i]&&(a[i]=t[i],e=!0);if(e){if(e=this.textWidth=t&&t.width&&"text"===s.nodeName.toLowerCase()&&E(t.width)||this.textWidth,o&&(t=f(o,a)),this.styles=t,e&&!S&&this.renderer.forExport&&delete t.width,b&&!S)l(this.element,t);else{o=function(t,e){return"-"+e.toLowerCase()};for(i in t)r+=i.replace(/([A-Z])/g,o)+":"+t[i]+";";n(s,"style",r)}this.added&&e&&this.renderer.buildText(this)}return this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var i=this,o=i.element;return y&&"click"===t?(o.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(o,t)},o.onclick=function(t){(-1===V.navigator.userAgent.indexOf("Android")||1100<Date.now()-(i.touchEventFired||0))&&e.call(o,t)}):o["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,o=this.scaleY,a=this.inverted,n=this.rotation,s=this.element;a&&(t+=this.attr("width"),e+=this.attr("height")),t=["translate("+t+","+e+")"],a?t.push("rotate(90) scale(-1,1)"):n&&t.push("rotate("+n+" "+(s.getAttribute("x")||0)+" "+(s.getAttribute("y")||0)+")"),(d(i)||d(o))&&t.push("scale("+O(i,1)+" "+O(o,1)+")"),t.length&&s.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var o,a,n,s,r={};a=this.renderer,n=a.alignedObjects;var l,h;return t?(this.alignOptions=t,this.alignByTranslate=e,(!i||w(i))&&(this.alignTo=o=i||"renderer",g(n,this),n.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,o=this.alignTo),i=O(i,a[o],a),o=t.align,a=t.verticalAlign,n=(i.x||0)+(t.x||0),s=(i.y||0)+(t.y||0),"right"===o?l=1:"center"===o&&(l=2),l&&(n+=(i.width-(t.width||0))/l),r[e?"translateX":"x"]=Math.round(n),"bottom"===a?h=1:"middle"===a&&(h=2),h&&(s+=(i.height-(t.height||0))/h),r[e?"translateY":"y"]=Math.round(s),this[this.placed?"animate":"attr"](r),this.placed=!0,this.alignAttr=r,this},getBBox:function(t,e){var i,o,a,n,s,r,l=this.renderer,h=this.element,d=this.styles,p=this.textStr,u=h.style,g=l.cache,v=l.cacheKeys;if(e=O(e,this.rotation),o=e*c,a=d&&d.fontSize,void 0!==p&&(r=p.toString().replace(/[0-9]/g,"0")+["",e||0,a,h.style.width].join()),r&&!t&&(i=g[r]),!i){if(h.namespaceURI===this.SVG_NS||l.forExport){try{s=this.fakeTS&&function(t){m(h.querySelectorAll(".highcharts-text-shadow"),function(e){e.style.display=t})},M&&u.textShadow?(n=u.textShadow,u.textShadow=""):s&&s("none"),i=h.getBBox?f({},h.getBBox()):{width:h.offsetWidth,height:h.offsetHeight},n?u.textShadow=n:s&&s("")}catch(t){}(!i||0>i.width)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(l.isSVG&&(t=i.width,l=i.height,b&&d&&"11px"===d.fontSize&&"16.9"===l.toPrecision(3)&&(i.height=l=14),e&&(i.width=Math.abs(l*Math.sin(o))+Math.abs(t*Math.cos(o)),i.height=Math.abs(l*Math.cos(o))+Math.abs(t*Math.sin(o)))),r&&0<i.height){for(;250<v.length;)delete g[v.shift()];g[r]||v.push(r),g[r]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,o=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(o),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i=this.element||{},o=this.renderer.isSVG&&"SPAN"===i.nodeName&&this.parentGroup;if(i.onclick=i.onmouseout=i.onmouseover=i.onmousemove=i.point=null,P(this),this.clipPath&&(this.clipPath=this.clipPath.destroy()),this.stops){for(e=0;e<this.stops.length;e++)this.stops[e]=this.stops[e].destroy();this.stops=null}for(this.safeRemoveChild(i),this.destroyShadows();o&&o.div&&0===o.div.childNodes.length;)i=o.parentGroup,this.safeRemoveChild(o.div),delete o.div,o=i;this.alignTo&&g(this.renderer.alignedObjects,this);for(t in this)delete this[t];return null},shadow:function(t,e,i){var o,a,s,r,l,h,d=[],c=this.element;if(t){if(!this.shadows){for(r=O(t.width,3),l=(t.opacity||.15)/r,h=this.parentInverted?"(-1,-1)":"("+O(t.offsetX,1)+", "+O(t.offsetY,1)+")",o=1;o<=r;o++)a=c.cloneNode(0),s=2*r+1-2*o,n(a,{isShadow:"true",stroke:t.color||"#000000","stroke-opacity":l*o,"stroke-width":s,transform:"translate"+h,fill:"none"}),i&&(n(a,"height",Math.max(n(a,"height")-s,0)),a.cutHeight=s),e?e.element.appendChild(a):c.parentNode.insertBefore(a,c),d.push(a);this.shadows=d}}else this.destroyShadows();return this},destroyShadows:function(){m(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=O(this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),i.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var e,i=this["stroke-width"];if("inherit"===i&&(i=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=E(t[e])*i;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=u.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(u.createTextNode(String(O(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.colorGradient(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):i.setAttribute(e,t)},zIndexSetter:function(t,e){var i,o,a=this.renderer,n=this.parentGroup,s=(n||a).element||a.box,r=this.element;i=this.added;var l;if(d(t)&&(r.zIndex=t,t=+t,this[e]===t&&(i=!1),this[e]=t),i){for((t=this.zIndex)&&n&&(n.handleZ=!0),e=s.childNodes,l=0;l<e.length&&!o;l++)n=e[l],i=n.zIndex,n!==r&&(E(i)>t||!d(t)&&d(i)||0>t&&!d(i)&&s!==a.box)&&(s.insertBefore(r,n),o=!0);o||s.appendChild(r)}return o},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}},e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,i,o){this[i]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",o),o.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===i&&0===t&&this.hasStroke&&(o.removeAttribute("stroke"),this.hasStroke=!1)},i=t.SVGRenderer=function(){this.init.apply(this,arguments)},i.prototype={Element:e,SVG_NS:A,init:function(t,e,i,a,s,r){var h;a=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(a)),h=a.element,t.appendChild(h),-1===t.innerHTML.indexOf("xmlns")&&n(h,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=h,this.boxWrapper=a,this.alignedObjects=[],this.url=(M||k)&&u.getElementsByTagName("base").length?V.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(u.createTextNode("Created with Highcharts 5.0.2")),this.defs=this.createElement("defs").add(),this.allowHTML=r,this.forExport=s,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,i,!1);var d;M&&t.getBoundingClientRect&&(this.subPixelFix=e=function(){l(t,{left:0,top:0}),d=t.getBoundingClientRect(),l(t,{left:Math.ceil(d.left)-d.left+"px",top:Math.ceil(d.top)-d.top+"px"})},e(),o(V,"resize",e))},getStyle:function(t){return this.style=f({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),p(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.subPixelFix&&T(V,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:D,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},buildText:function(t){for(var e,i,o,a,s=t.element,r=this,h=r.forExport,d=O(t.textStr,"").toString(),c=-1!==d.indexOf("<"),p=s.childNodes,f=n(s,"x"),g=t.styles,y=t.textWidth,_=g&&g.lineHeight,M=g&&g.textShadow,b=g&&"ellipsis"===g.textOverflow,x=p.length,w=y&&!t.added&&this.box,k=function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:g&&g.fontSize||r.style.fontSize||12,_?E(_):r.fontMetrics(e,t).h};x--;)s.removeChild(p[x]);c||M||b||y||-1!==d.indexOf(" ")?(e=/<.*class="([^"]+)".*>/,i=/<.*style="([^"]+)".*>/,o=/<.*href="(http[^"]+)".*>/,w&&w.appendChild(s),d=c?d.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[d],d=v(d,function(t){return""!==t}),m(d,function(d,c){var p,v=0;d=d.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),p=d.split("|||"),m(p,function(d){if(""!==d||1===p.length){var m,_,M={},x=u.createElementNS(r.SVG_NS,"tspan");if(e.test(d)&&(m=d.match(e)[1],n(x,"class",m)),i.test(d)&&(_=d.match(i)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),n(x,"style",_)),o.test(d)&&!h&&(n(x,"onclick",'location.href="'+d.match(o)[1]+'"'),l(x,{cursor:"pointer"}))," "!==(d=(d.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"))){if(x.appendChild(u.createTextNode(d)),v?M.dx=0:c&&null!==f&&(M.x=f),n(x,M),s.appendChild(x),!v&&c&&(!S&&h&&l(x,{display:"block"}),n(x,"dy",k(x))),y){M=d.replace(/([^\^])-/g,"$1- ").split(" "),m="nowrap"===g.whiteSpace;for(var w,C,D=1<p.length||c||1<M.length&&!m,O=[],E=k(x),T=t.rotation,P=d,L=P.length;(D||b)&&(M.length||O.length);)t.rotation=0,w=t.getBBox(!0),C=w.width,!S&&r.forExport&&(C=r.measureSpanWidth(x.firstChild.data,t.styles)),w=C>y,void 0===a&&(a=w),b&&a?(L/=2,""===P||!w&&.5>L?M=[]:(P=d.substring(0,P.length+(w?-1:1)*Math.ceil(L)),M=[P+(3<y?"…":"")],x.removeChild(x.firstChild))):w&&1!==M.length?(x.removeChild(x.firstChild),O.unshift(M.pop())):(M=O,O=[],M.length&&!m&&(x=u.createElementNS(A,"tspan"),n(x,{dy:E,x:f}),_&&n(x,"style",_),s.appendChild(x)),C>y&&(y=C)),M.length&&x.appendChild(u.createTextNode(M.join(" ").replace(/- /g,"-")));t.rotation=T}v++}}})}),a&&t.attr("title",t.textStr),w&&w.removeChild(s),M&&t.applyTextShadow&&t.applyTextShadow(M)):s.appendChild(u.createTextNode(d.replace(/&lt;/g,"<").replace(/&gt;/g,">")))},getContrast:function(t){return t=r(t).rgba,510<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,i,a,n,s,r,l,h){var d=this.label(t,e,i,h,null,null,null,null,"button"),c=0;d.attr(C({padding:8,r:2},n));var p,u,m,g;return n=C({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},n),p=n.style,delete n.style,s=C(n,{fill:"#e6e6e6"},s),u=s.style,delete s.style,r=C(n,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},r),m=r.style,delete r.style,l=C(n,{style:{color:"#cccccc"}},l),g=l.style,delete l.style,o(d.element,b?"mouseover":"mouseenter",function(){3!==c&&d.setState(1)}),o(d.element,b?"mouseout":"mouseleave",function(){3!==c&&d.setState(c)}),d.setState=function(t){1!==t&&(d.state=c=t),d.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),d.attr([n,s,r,l][t||0]).css([p,u,m,g][t||0])},d.attr(n).css(f({cursor:"default"},p)),d.on("click",function(t){3!==c&&a.call(d,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return _(t)?e.d=t:x(t)&&f(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){return t=x(t)?t:{x:t,y:e,r:i},e=this.createElement("circle"),e.xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,i,o,a,n){return x(t)&&(e=t.y,i=t.r,o=t.innerR,a=t.start,n=t.end,t=t.x),t=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:o||0,start:a||0,end:n||0}),t.r=i,t},rect:function(t,e,i,o,a,s){a=x(t)?t.r:a;var r=this.createElement("rect");return t=x(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(i,0),height:Math.max(o,0)},void 0!==s&&(t.strokeWidth=s,t=r.crisp(t)),t.fill="none",a&&(t.r=a),r.rSetter=function(t,e,i){n(i,{rx:t,ry:t})},r.attr(t)},setSize:function(t,e,i){var o=this.alignedObjects,a=o.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:O(i,!0)?void 0:0});a--;)o[a].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,i,o,a){var n={preserveAspectRatio:"none"};return 1<arguments.length&&f(n,{x:e,y:i,width:o,height:a}),n=this.createElement("image").attr(n),n.element.setAttributeNS?n.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):n.element.setAttribute("hc-svg-href",t),n},symbol:function(t,e,i,o,a,n){var r,c,p,g=this,v=this.symbols[t],y=d(e)&&v&&v(Math.round(e),Math.round(i),o,a,n),_=/^url\((.*?)\)$/;return v?(r=this.path(y),r.attr("fill","none"),f(r,{symbolName:t,x:e,y:i,width:o,height:a}),n&&f(r,n)):_.test(t)&&(c=t.match(_)[1],r=this.image(c),r.imgwidth=O(L[c]&&L[c].width,n&&n.width),r.imgheight=O(L[c]&&L[c].height,n&&n.height),p=function(){r.attr({width:r.width,height:r.height})},m(["width","height"],function(t){r[t+"Setter"]=function(t,e){var i={},o=this["img"+e],a="width"===e?"translateX":"translateY";this[e]=t,d(o)&&(this.element&&this.element.setAttribute(e,o),this.alignByTranslate||(i[a]=((this[e]||0)-o)/2,this.attr(i)))}}),d(e)&&r.attr({x:e,y:i}),r.isImg=!0,d(r.imgwidth)&&d(r.imgheight)?p():(r.attr({width:0,height:0}),h("img",{onload:function(){var t=s[g.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),u.body.appendChild(this)),L[c]={width:this.width,height:this.height},r.imgwidth=this.width,r.imgheight=this.height,r.element&&p(),this.parentNode&&this.parentNode.removeChild(this),!--g.imgCount&&t&&t.onload&&t.onload()},src:c}),this.imgCount++)),r},symbols:{circle:function(t,e,i,o){var a=.166*i;return["M",t+i/2,e,"C",t+i+a,e,t+i+a,e+o,t+i/2,e+o,"C",t-a,e+o,t-a,e,t+i/2,e,"Z"]},square:function(t,e,i,o){return["M",t,e,"L",t+i,e,t+i,e+o,t,e+o,"Z"]},triangle:function(t,e,i,o){return["M",t+i/2,e,"L",t+i,e+o,t,e+o,"Z"]},"triangle-down":function(t,e,i,o){return["M",t,e,"L",t+i,e,t+i/2,e+o,"Z"]},diamond:function(t,e,i,o){return["M",t+i/2,e,"L",t+i,e+o/2,t+i/2,e+o,t,e+o/2,"Z"]},arc:function(t,e,i,o,a){var n=a.start;i=a.r||i||o;var s=a.end-.001;o=a.innerR;var r=a.open,l=Math.cos(n),h=Math.sin(n),d=Math.cos(s),s=Math.sin(s);return a=a.end-n<Math.PI?0:1,["M",t+i*l,e+i*h,"A",i,i,0,a,1,t+i*d,e+i*s,r?"M":"L",t+o*d,e+o*s,"A",o,o,0,a,0,t+o*l,e+o*h,r?"":"Z"]},callout:function(t,e,i,o,a){var n=Math.min(a&&a.r||0,i,o),s=n+6,r=a&&a.anchorX;a=a&&a.anchorY;var l;return l=["M",t+n,e,"L",t+i-n,e,"C",t+i,e,t+i,e,t+i,e+n,"L",t+i,e+o-n,"C",t+i,e+o,t+i,e+o,t+i-n,e+o,"L",t+n,e+o,"C",t,e+o,t,e+o,t,e+o-n,"L",t,e+n,"C",t,e,t,e,t+n,e],r&&r>i&&a>e+s&&a<e+o-s?l.splice(13,3,"L",t+i,a-6,t+i+6,a,t+i,a+6,t+i,e+o-n):r&&0>r&&a>e+s&&a<e+o-s?l.splice(33,3,"L",t,a+6,t-6,a,t,a-6,t,e+n):a&&a>o&&r>t+s&&r<t+i-s?l.splice(23,3,"L",r+6,e+o,r,e+o+6,r-6,e+o,t+n,e+o):a&&0>a&&r>t+s&&r<t+i-s&&l.splice(3,3,"L",r-6,e,r,e-6,r+6,e,i-n,e),l}},clipRect:function(e,i,o,a){var n="highcharts-"+t.idCounter++,s=this.createElement("clipPath").attr({id:n}).add(this.defs);return e=this.rect(e,i,o,a,0).add(s),e.id=n,e.clipPath=s,e.count=0,e},text:function(t,e,i,o){var a=!S&&this.forExport,n={};return!o||!this.allowHTML&&this.forExport?(n.x=Math.round(e||0),i&&(n.y=Math.round(i)),(t||0===t)&&(n.text=t),t=this.createElement("text").attr(n),a&&t.css({position:"absolute"}),o||(t.xSetter=function(t,e,i){var o,a,n=i.getElementsByTagName("tspan"),s=i.getAttribute(e);for(a=0;a<n.length;a++)o=n[a],o.getAttribute(e)===s&&o.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)},fontMetrics:function(t,e){return t=t||this.style&&this.style.fontSize,t=/px/.test(t)?E(t):/em/.test(t)?12*parseFloat(t):12,e=24>t?t+3:Math.round(1.2*t),{h:e,b:Math.round(.8*e),f:t}},rotCorr:function(t,e,i){var o=t;return e&&i&&(o=Math.max(o*Math.cos(e*c),4)),{x:-t/3*Math.sin(e*c),y:o}},label:function(t,i,o,a,n,s,r,l,h){var c,p,u,g,v,y,_,M,b,x,w,k,D,O=this,E=O.g("button"!==h&&"label"),P=E.text=O.text("",0,0,r).attr({zIndex:1}),S=0,A=3,L=0,V={},$=/^url\((.*?)\)$/.test(a),I=$;h&&E.addClass("highcharts-"+h),I=$,x=function(){return(M||0)%2/2},w=function(){var t=P.element.style,e={};p=(void 0===u||void 0===g||_)&&d(P.textStr)&&P.getBBox(),E.width=(u||p.width||0)+2*A+L,E.height=(g||p.height||0)+2*A,b=A+O.fontMetrics(t&&t.fontSize,P).b,I&&(c||(E.box=c=O.symbols[a]||$?O.symbol(a):O.rect(),c.addClass(("button"===h?"":"highcharts-label-box")+(h?" highcharts-"+h+"-box":"")),c.add(E),t=x(),e.x=t,e.y=(l?-b:0)+t),e.width=Math.round(E.width),e.height=Math.round(E.height),c.attr(f(e,V)),V={})},k=function(){var t,e=L+A;t=l?0:b,d(u)&&p&&("center"===_||"right"===_)&&(e+={center:.5,right:1}[_]*(u-p.width)),e===P.x&&t===P.y||(P.attr("x",e),void 0!==t&&P.attr("y",t)),P.x=e,P.y=t},D=function(t,e){c?c.attr(t,e):V[t]=e},E.onAdd=function(){P.add(E),E.attr({text:t||0===t?t:"",x:i,y:o}),c&&d(n)&&E.attr({anchorX:n,anchorY:s})},E.widthSetter=function(t){u=t},E.heightSetter=function(t){g=t},E["text-alignSetter"]=function(t){_=t},E.paddingSetter=function(t){d(t)&&t!==A&&(A=E.padding=t,k())},E.paddingLeftSetter=function(t){d(t)&&t!==L&&(L=t,k())},E.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==S&&(S=t,p&&E.attr({x:v}))},E.textSetter=function(t){void 0!==t&&P.textSetter(t),w(),k()},E["stroke-widthSetter"]=function(t,e){t&&(I=!0),M=this["stroke-width"]=t,D(e,t)},E.strokeSetter=E.fillSetter=E.rSetter=function(t,e){"fill"===e&&t&&(I=!0),D(e,t)},E.anchorXSetter=function(t,e){n=t,D(e,Math.round(t)-x()-v)},E.anchorYSetter=function(t,e){s=t,D(e,t-y)},E.xSetter=function(t){E.x=t,S&&(t-=S*((u||p.width)+2*A)),v=Math.round(t),E.attr("translateX",v)},E.ySetter=function(t){y=E.y=Math.round(t),E.attr("translateY",y)};var H=E.css;return f(E,{css:function(t){if(t){var e={};t=C(t),m(E.textProps,function(i){void 0!==t[i]&&(e[i]=t[i],delete t[i])}),P.css(e)}return H.call(E,t)},getBBox:function(){return{width:p.width+2*A,height:p.height+2*A,x:p.x-A,y:p.y-A}},shadow:function(t){return t&&(w(),c&&c.shadow(t)),E},destroy:function(){T(E.element,"mouseenter"),T(E.element,"mouseleave"),P&&(P=P.destroy()),c&&(c=c.destroy()),e.prototype.destroy.call(E),E=O=w=k=D=null}})}},t.Renderer=i}(t),function(t){var e=t.attr,i=t.createElement,o=t.css,a=t.defined,n=t.each,s=t.extend,r=t.isFirefox,l=t.isMS,h=t.isWebKit,d=t.pInt,c=t.SVGRenderer,p=t.win,u=t.wrap;s(t.SVGElement.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=s(this.styles,t),o(this.element,t),this},htmlGetBBox:function(){var t=this.element;return"text"===t.nodeName&&(t.style.position="absolute"),{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,i=this.translateX||0,s=this.translateY||0,r=this.x||0,l=this.y||0,c=this.textAlign||"left",p={left:0,center:.5,right:1}[c],u=this.styles;if(o(e,{marginLeft:i,marginTop:s}),this.shadows&&n(this.shadows,function(t){o(t,{marginLeft:i+1,marginTop:s+1})}),this.inverted&&n(e.childNodes,function(i){t.invertChild(i,e)}),"SPAN"===e.tagName){var m=this.rotation,f=d(this.textWidth),g=u&&u.whiteSpace,v=[m,c,e.innerHTML,this.textWidth,this.textAlign].join();v!==this.cTT&&(u=t.fontMetrics(e.style.fontSize).b,a(m)&&this.setSpanRotation(m,p,u),o(e,{width:"",whiteSpace:g||"nowrap"}),e.offsetWidth>f&&/[ \-]/.test(e.textContent||e.innerText)&&o(e,{width:f+"px",display:"block",whiteSpace:g||"normal"}),this.getSpanCorrection(e.offsetWidth,u,p,m,c)),o(e,{left:r+(this.xCorr||0)+"px",top:l+(this.yCorr||0)+"px"}),h&&(u=e.offsetHeight),this.cTT=v}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var a={},n=l?"-ms-transform":h?"-webkit-transform":r?"MozTransform":p.opera?"-o-transform":"";a[n]=a.transform="rotate("+t+"deg)",a[n+(r?"Origin":"-origin")]=a.transformOrigin=100*e+"% "+i+"px",o(this.element,a)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),s(c.prototype,{html:function(t,o,a){var r=this.createElement("span"),l=r.element,h=r.renderer,d=h.isSVG,c=function(t,e){n(["opacity","visibility"],function(i){u(t,i+"Setter",function(t,i,o,a){t.call(this,i,o,a),e[o]=i})})};return r.textSetter=function(t){t!==l.innerHTML&&delete this.bBox,l.innerHTML=this.textStr=t,r.htmlUpdateTransform()},d&&c(r,r.element.style),r.xSetter=r.ySetter=r.alignSetter=r.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),r[e]=t,r.htmlUpdateTransform()},r.attr({text:t,x:Math.round(o),y:Math.round(a)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),l.style.whiteSpace="nowrap",r.css=r.htmlCss,d&&(r.add=function(t){var o,a=h.box.parentNode,d=[];if(this.parentGroup=t){if(!(o=t.div)){for(;t;)d.push(t),t=t.parentGroup;n(d.reverse(),function(t){var n,r=e(t.element,"class");r&&(r={className:r}),o=t.div=t.div||i("div",r,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},o||a),n=o.style,s(t,{translateXSetter:function(e,i){n.left=e+"px",t[i]=e,t.doTransform=!0},translateYSetter:function(e,i){n.top=e+"px",t[i]=e,t.doTransform=!0}}),c(t,n)})}}else o=a;return o.appendChild(l),r.added=!0,r.alignOnAdd&&r.htmlUpdateTransform(),r}),r}})}(t),function(t){var e,i,o=t.createElement,a=t.css,n=t.defined,s=t.deg2rad,r=t.discardElement,l=t.doc,h=t.each,d=t.erase,c=t.extend;e=t.extendClass;var p=t.isArray,u=t.isNumber,m=t.isObject,f=t.merge;i=t.noop;var g=t.pick,v=t.pInt,y=t.SVGElement,_=t.SVGRenderer,M=t.win;t.svg||(i={docMode8:l&&8===l.documentMode,init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],a=["position: ","absolute",";"],n="div"===e;("shape"===e||n)&&a.push("left:0;top:0;width:1px;height:1px;"),a.push("visibility: ",n?"hidden":"visible"),i.push(' style="',a.join(""),'"/>'),e&&(i=n||"span"===e||"img"===e?i.join(""):t.prepVML(i),this.element=o(i)),this.renderer=t},add:function(t){var e=this.renderer,i=this.element,o=e.box,a=t&&t.inverted,o=t?t.element||t:o;return t&&(this.parentGroup=t),a&&e.invertChild(i,o),o.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this.className&&this.attr("class",this.className),this},updateTransform:y.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=Math.cos(t*s),i=Math.sin(t*s);a(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(t,e,i,o,n){var r,l=o?Math.cos(o*s):1,h=o?Math.sin(o*s):0,d=g(this.elemHeight,this.element.offsetHeight);this.xCorr=0>l&&-t,this.yCorr=0>h&&-d,r=0>l*h,this.xCorr+=h*e*(r?1-i:i),this.yCorr-=l*e*(o?r?i:1-i:1),n&&"left"!==n&&(this.xCorr-=t*i*(0>l?-1:1),o&&(this.yCorr-=d*i*(0>h?-1:1)),a(this.element,{textAlign:n}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)u(t[e])?i[e]=Math.round(10*t[e])-5:"Z"===t[e]?i[e]="x":(i[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1)));return i.join(" ")||"x"},clip:function(t){var e,i=this;return t?(e=t.members,d(e,i),e.push(i),i.destroyClip=function(){d(e,i)},t=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),t={clip:i.docMode8?"inherit":"rect(auto)"}),i.css(t)},css:y.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&r(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),y.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=M.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var i;return t=t.split(/[ ,]/),i=t.length,9!==i&&11!==i||(t[i-4]=t[i-2]=v(t[i-2])-10*e),t.join(" ")},shadow:function(t,e,i){var a,n,s,r,l,h,d,c=[],p=this.element,u=this.renderer,m=p.style,f=p.path;if(f&&"string"!=typeof f.value&&(f="x"),l=f,t){for(h=g(t.width,3),d=(t.opacity||.15)/h,a=1;3>=a;a++)r=2*h+1-2*a,i&&(l=this.cutOffPath(f.value,r+.5)),s=['<shape isShadow="true" strokeweight="',r,'" filled="false" path="',l,'" coordsize="10 10" style="',p.style.cssText,'" />'],n=o(u.prepVML(s),null,{left:v(m.left)+g(t.offsetX,1),top:v(m.top)+g(t.offsetY,1)}),i&&(n.cutOff=r+1),s=['<stroke color="',t.color||"#000000",'" opacity="',d*a,'"/>'],o(u.prepVML(s),null,null,n),e?e.element.appendChild(n):p.parentNode.insertBefore(n,p),c.push(n);this.shadows=c}return this},updateShadows:i,setAttr:function(t,e){this.docMode8?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){(this.added?this.element:this).className=t},dashstyleSetter:function(t,e,i){(i.getElementsByTagName("stroke")[0]||o(this.renderer.prepVML(["<stroke/>"]),null,null,i))[e]=t||"solid",this[e]=t},dSetter:function(t,e,i){var o=this.shadows;if(t=t||[],this.d=t.join&&t.join(" "),i.path=t=this.pathToVML(t),o)for(i=o.length;i--;)o[i].path=o[i].cutOff?this.cutOffPath(t,o[i].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,i){var o=i.nodeName;"SPAN"===o?i.style.color=t:"IMG"!==o&&(i.filled="none"!==t,this.setAttr("fillcolor",this.renderer.color(t,i,e,this)))},"fill-opacitySetter":function(t,e,i){o(this.renderer.prepVML(["<",e.split("-")[0],' opacity="',t,'"/>']),null,null,i)},opacitySetter:i,rotationSetter:function(t,e,i){i=i.style,this[e]=i[e]=t,i.left=-Math.round(Math.sin(t*s)+1)+"px",i.top=Math.round(Math.cos(t*s))+"px"},strokeSetter:function(t,e,i){this.setAttr("strokecolor",this.renderer.color(t,i,e,this))},"stroke-widthSetter":function(t,e,i){i.stroked=!!t,this[e]=t,u(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,i){"inherit"===t&&(t="visible"),this.shadows&&h(this.shadows,function(i){i.style[e]=t}),"DIV"===i.nodeName&&(t="hidden"===t?"-999em":0,this.docMode8||(i.style[e]=t?"visible":"hidden"),e="top"),i.style[e]=t},xSetter:function(t,e,i){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):i.style[e]=t},zIndexSetter:function(t,e,i){i.style[e]=t}},i["stroke-opacitySetter"]=i["fill-opacitySetter"],t.VMLElement=i=e(y,i),i.prototype.ySetter=i.prototype.widthSetter=i.prototype.heightSetter=i.prototype.xSetter,i={Element:i,isIE8:-1<M.navigator.userAgent.indexOf("MSIE 8.0"),init:function(t,e,i){var o,a;if(this.alignedObjects=[],o=this.createElement("div").css({position:"relative"}),a=o.element,t.appendChild(o.element),this.isVML=!0,this.box=a,this.boxWrapper=o,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,i,!1),!l.namespaces.hcv){l.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{l.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(t){l.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,i,o){var a=this.createElement(),n=m(t);return c(a,{members:[],count:0,left:(n?t.x:t)+1,top:(n?t.y:e)+1,width:(n?t.width:i)-1,height:(n?t.height:o)-1,getCSS:function(t){var e=t.element,i=e.nodeName,o=t.inverted,a=this.top-("shape"===i?e.offsetTop:0),n=this.left,e=n+this.width,s=a+this.height,a={clip:"rect("+Math.round(o?n:a)+"px,"+Math.round(o?s:e)+"px,"+Math.round(o?e:s)+"px,"+Math.round(o?a:n)+"px)"};return!o&&t.docMode8&&"DIV"===i&&c(a,{width:e+"px",height:s+"px"}),a},updateClipping:function(){h(a.members,function(t){t.element&&t.css(a.getCSS(t))})}})},color:function(e,i,a,n){var s,r,l,d=this,c=/^rgba/,p="none";if(e&&e.linearGradient?l="gradient":e&&e.radialGradient&&(l="pattern"),l){var u,m,f,g,v,y,_,M=e.linearGradient||e.radialGradient,b="";e=e.stops;var x,w=[],k=function(){r=['<fill colors="'+w.join(",")+'" opacity="',v,'" o:opacity2="',g,'" type="',l,'" ',b,'focus="100%" method="any" />'],o(d.prepVML(r),null,null,i)};if(f=e[0],x=e[e.length-1],0<f[0]&&e.unshift([0,f[1]]),1>x[0]&&e.push([1,x[1]]),h(e,function(e,i){c.test(e[1])?(s=t.color(e[1]),u=s.get("rgb"),m=s.get("a")):(u=e[1],m=1),w.push(100*e[0]+"% "+u),i?(v=m,y=u):(g=m,_=u)}),"fill"===a)if("gradient"===l)a=M.x1||M[0]||0,e=M.y1||M[1]||0,f=M.x2||M[2]||0,M=M.y2||M[3]||0,b='angle="'+(90-180*Math.atan((M-e)/(f-a))/Math.PI)+'"',k();else{var C,p=M.r,D=2*p,O=2*p,E=M.cx,T=M.cy,P=i.radialReference,p=function(){P&&(C=n.getBBox(),E+=(P[0]-C.x)/C.width-.5,T+=(P[1]-C.y)/C.height-.5,D*=P[2]/C.width,O*=P[2]/C.height),b='src="'+t.getOptions().global.VMLRadialGradientURL+'" size="'+D+","+O+'" origin="0.5,0.5" position="'+E+","+T+'" color2="'+_+'" ',k()};n.added?p():n.onAdd=p,p=y}else p=u}else c.test(e)&&"IMG"!==i.tagName?(s=t.color(e),n[a+"-opacitySetter"](s.get("a"),a,i),p=s.get("rgb")):(p=i.getElementsByTagName(a),p.length&&(p[0].opacity=1,p[0].type="solid"),p=e);return p},prepVML:function(t){var e=this.isIE8;return t=t.join(""),e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:"),t},text:_.prototype.html,path:function(t){var e={coordsize:"10 10"};return p(t)?e.d=t:m(t)&&c(e,t),this.createElement("shape").attr(e)},circle:function(t,e,i){var o=this.symbol("circle");return m(t)&&(i=t.r,e=t.y,t=t.x),o.isCircle=!0,o.r=i,o.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,class:"highcharts-"+t}),this.createElement("div").attr(e)},image:function(t,e,i,o,a){var n=this.createElement("img").attr({src:t});return 1<arguments.length&&n.attr({x:e,y:i,width:o,height:a}),n},createElement:function(t){return"rect"===t?this.symbol(t):_.prototype.createElement.call(this,t)},invertChild:function(t,e){var i=this;e=e.style;var o="IMG"===t.tagName&&t.style;a(t,{flip:"x",left:v(e.width)-(o?v(o.top):1),top:v(e.height)-(o?v(o.left):1),rotation:-90}),h(t.childNodes,function(e){i.invertChild(e,t)})},symbols:{arc:function(t,e,i,o,a){var n=a.start,s=a.end,r=a.r||i||o;i=a.innerR,o=Math.cos(n);var l=Math.sin(n),h=Math.cos(s),d=Math.sin(s);return 0==s-n?["x"]:(n=["wa",t-r,e-r,t+r,e+r,t+r*o,e+r*l,t+r*h,e+r*d],a.open&&!i&&n.push("e","M",t,e),n.push("at",t-i,e-i,t+i,e+i,t+i*h,e+i*d,t+i*o,e+i*l,"x","e"),n.isArc=!0,n)},circle:function(t,e,i,o,a){return a&&n(a.r)&&(i=o=2*a.r),a&&a.isCircle&&(t-=i/2,e-=o/2),["wa",t,e,t+i,e+o,t+i,e+o/2,t+i,e+o/2,"e"]},rect:function(t,e,i,o,a){return _.prototype.symbols[n(a)&&a.r?"callout":"square"].call(0,t,e,i,o,a)}}},t.VMLRenderer=e=function(){this.init.apply(this,arguments)},e.prototype=f(_.prototype,i),t.Renderer=e),_.prototype.measureSpanWidth=function(t,e){var i=l.createElement("span");return t=l.createTextNode(t),i.appendChild(t),a(i,e),this.box.appendChild(i),e=i.offsetWidth,r(i),e}}(t),function(t){function e(){var e,i=t.defaultOptions.global,n=i.useUTC,l=n?"getUTC":"get",h=n?"setUTC":"set";t.Date=e=i.Date||r.Date,e.hcTimezoneOffset=n&&i.timezoneOffset,e.hcGetTimezoneOffset=n&&i.getTimezoneOffset,e.hcMakeTime=function(t,i,o,r,l,h){var d;return n?(d=e.UTC.apply(0,arguments),d+=a(d)):d=new e(t,i,s(o,1),s(r,0),s(l,0),s(h,0)).getTime(),d},o("Minutes Hours Day Date Month FullYear".split(" "),function(t){e["hcGet"+t]=l+t}),o("Milliseconds Seconds Minutes Hours Date Month FullYear".split(" "),function(t){e["hcSet"+t]=h+t})}var i=t.color,o=t.each,a=t.getTZOffset,n=t.merge,s=t.pick,r=t.win;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,VMLRadialGradientURL:"http://code.highcharts.com/5.0.2/gfx/vml-radial-gradient.png"},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"},widthAdjust:-44},subtitle:{text:"",align:"center",style:{color:"#666666"},widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,backgroundColor:i("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(i){return t.defaultOptions=n(!0,t.defaultOptions,i),e(),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,e()}(t),function(t){var e=t.arrayMax,i=t.arrayMin,o=t.defined,a=t.destroyObjectProperties,n=t.each,s=t.erase,r=t.merge,l=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){var t,e=this,i=e.axis,a=i.horiz,n=e.options,s=n.label,h=e.label,d=n.to,c=n.from,p=n.value,u=o(c)&&o(d),m=o(p),f=e.svgElem,g=!f,v=[],y=n.color,_=l(n.zIndex,0),M=n.events,v={class:"highcharts-plot-"+(u?"band ":"line ")+(n.className||"")},b={},x=i.chart.renderer,w=u?"bands":"lines",k=i.log2lin;if(i.isLog&&(c=k(c),d=k(d),p=k(p)),m?(v={stroke:y,"stroke-width":n.width},n.dashStyle&&(v.dashstyle=n.dashStyle)):u&&(y&&(v.fill=y),n.borderWidth&&(v.stroke=n.borderColor,v["stroke-width"]=n.borderWidth)),b.zIndex=_,w+="-"+_,(y=i[w])||(i[w]=y=x.g("plot-"+w).attr(b).add()),g&&(e.svgElem=f=x.path().attr(v).add(y)),m)v=i.getPlotLinePath(p,f.strokeWidth());else{if(!u)return;v=i.getPlotBandPath(c,d,n)}if(g&&v&&v.length){if(f.attr({d:v}),M)for(t in n=function(t){f.on(t,function(i){M[t].apply(e,[i])})},M)n(t)}else f&&(v?(f.show(),f.animate({d:v})):(f.hide(),h&&(e.label=h=h.destroy())));return s&&o(s.text)&&v&&v.length&&0<i.width&&0<i.height&&!v.flat?(s=r({align:a&&u&&"center",x:a?!u&&4:10,verticalAlign:!a&&u&&"middle",y:a?u?16:10:u?6:-4,rotation:a&&!u&&90},s),this.renderLabel(s,v,u,_)):h&&h.hide(),e},renderLabel:function(t,o,a,n){var s=this.label,r=this.axis.chart.renderer;s||(s={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(a?"band":"line")+"-label "+(t.className||"")},s.zIndex=n,this.label=s=r.text(t.text,0,0,t.useHTML).attr(s).add(),s.css(t.style)),n=[o[1],o[4],a?o[6]:o[1]],o=[o[2],o[5],a?o[7]:o[2]],a=i(n),r=i(o),s.align(t,!1,{x:a,y:r,width:e(n)-a,height:e(o)-r}),s.show()},destroy:function(){s(this.axis.plotLinesAndBands,this),delete this.axis,a(this)}},t.AxisPlotLineOrBandExtension={getPlotBandPath:function(t,e){return e=this.getPlotLinePath(e,null,null,!0),(t=this.getPlotLinePath(t,null,null,!0))&&e?(t.flat=t.toString()===e.toString(),t.push(e[4],e[5],e[1],e[2])):t=null,t},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,i){var o=new t.PlotLineOrBand(this,e).render(),a=this.userOptions;return o&&(i&&(a[i]=a[i]||[],a[i].push(e)),this.plotLinesAndBands.push(o)),o},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,o=this.userOptions,a=e.length;a--;)e[a].id===t&&e[a].destroy();n([i.plotLines||[],o.plotLines||[],i.plotBands||[],o.plotBands||[]],function(e){for(a=e.length;a--;)e[a].id===t&&s(e,e[a])})}}}(t),function(t){var e=t.correctFloat,i=t.defined,o=t.destroyObjectProperties,a=t.isNumber,n=t.merge,s=t.pick,r=t.stop,l=t.deg2rad;t.Tick=function(t,e,i,o){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,i||o||this.addLabel()},t.Tick.prototype={addLabel:function(){var t,o=this.axis,a=o.options,r=o.chart,l=o.categories,h=o.names,d=this.pos,c=a.labels,p=o.tickPositions,u=d===p[0],m=d===p[p.length-1],h=l?s(l[d],h[d],d):d,l=this.label,p=p.info;o.isDatetimeAxis&&p&&(t=a.dateTimeLabelFormats[p.higherRanks[d]||p.unitName]),this.isFirst=u,this.isLast=m,a=o.labelFormatter.call({axis:o,chart:r,isFirst:u,isLast:m,dateTimeLabelFormat:t,value:o.isLog?e(o.lin2log(h)):h}),i(l)?l&&l.attr({text:a}):(this.labelLength=(this.label=l=i(a)&&c.enabled?r.renderer.text(a,0,0,c.useHTML).css(n(c.style)).add(o.labelGroup):null)&&l.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i=this.axis,o=t.x,a=i.chart.chartWidth,n=i.chart.spacing,r=s(i.labelLeft,Math.min(i.pos,n[3])),n=s(i.labelRight,Math.max(i.pos+i.len,a-n[1])),h=this.label,d=this.rotation,c={left:0,center:.5,right:1}[i.labelAlign],p=h.getBBox().width,u=i.getSlotWidth(),m=u,f=1,g={};d?0>d&&o-c*p<r?e=Math.round(o/Math.cos(d*l)-r):0<d&&o+c*p>n&&(e=Math.round((a-o)/Math.cos(d*l))):(a=o+(1-c)*p,o-c*p<r?m=t.x+m*(1-c)-r:a>n&&(m=n-t.x+m*c,f=-1),m=Math.min(u,m),m<u&&"center"===i.labelAlign&&(t.x+=f*(u-m-c*(u-Math.min(p,m)))),(p>m||i.autoRotation&&(h.styles||{}).width)&&(e=m)),e&&(g.width=e,(i.options.labels.style||{}).textOverflow||(g.textOverflow="ellipsis"),h.css(g))},getPosition:function(t,e,i,o){var a=this.axis,n=a.chart,s=o&&n.oldChartHeight||n.chartHeight;return{x:t?a.translate(e+i,null,null,o)+a.transB:a.left+a.offset+(a.opposite?(o&&n.oldChartWidth||n.chartWidth)-a.right-a.left:0),y:t?s-a.bottom+a.offset-(a.opposite?a.height:0):s-a.translate(e+i,null,null,o)-a.transB}},getLabelPosition:function(t,e,o,a,n,s,r,h){var d=this.axis,c=d.transA,p=d.reversed,u=d.staggerLines,m=d.tickRotCorr||{x:0,y:0},f=n.y;return i(f)||(f=0===d.side?o.rotation?-8:-o.getBBox().height:2===d.side?m.y+8:Math.cos(o.rotation*l)*(m.y-o.getBBox(!1,0).height/2)),t=t+n.x+m.x-(s&&a?s*c*(p?-1:1):0),e=e+f-(s&&!a?s*c*(p?1:-1):0),u&&(o=r/(h||1)%u,d.opposite&&(o=u-o-1),e+=d.labelOffset/u*o),{x:t,y:Math.round(e)}},getMarkPath:function(t,e,i,o,a,n){return n.crispLine(["M",t,e,"L",t+(a?0:-i),e+(a?i:0)],o)},render:function(t,e,i){var o=this.axis,n=o.options,l=o.chart.renderer,h=o.horiz,d=this.type,c=this.label,p=this.pos,u=n.labels,m=this.gridLine,f=d?d+"Tick":"tick",g=o.tickSize(f),v=this.mark,y=!v,_=u.step,M={},b=!0,x=o.tickmarkOffset,w=this.getPosition(h,p,x,e),k=w.x,w=w.y,C=h&&k===o.pos+o.len||!h&&w===o.pos?-1:1,D=d?d+"Grid":"grid",O=n[D+"LineWidth"],E=n[D+"LineColor"],T=n[D+"LineDashStyle"],D=s(n[f+"Width"],!d&&o.isXAxis?1:0),f=n[f+"Color"];i=s(i,1),this.isActive=!0,m||(M.stroke=E,M["stroke-width"]=O,T&&(M.dashstyle=T),d||(M.zIndex=1),e&&(M.opacity=0),this.gridLine=m=l.path().attr(M).addClass("highcharts-"+(d?d+"-":"")+"grid-line").add(o.gridGroup)),!e&&m&&(p=o.getPlotLinePath(p+x,m.strokeWidth()*C,e,!0))&&m[this.isNew?"attr":"animate"]({d:p,opacity:i}),g&&(o.opposite&&(g[0]=-g[0]),y&&(this.mark=v=l.path().addClass("highcharts-"+(d?d+"-":"")+"tick").add(o.axisGroup),v.attr({stroke:f,"stroke-width":D})),v[y?"attr":"animate"]({d:this.getMarkPath(k,w,g[0],v.strokeWidth()*C,h,l),opacity:i})),c&&a(k)&&(c.xy=w=this.getLabelPosition(k,w,c,h,u,x,t,_),this.isFirst&&!this.isLast&&!s(n.showFirstLabel,1)||this.isLast&&!this.isFirst&&!s(n.showLastLabel,1)?b=!1:!h||o.isRadial||u.step||u.rotation||e||0===i||this.handleOverflow(w),_&&t%_&&(b=!1),b&&a(w.y)?(w.opacity=i,c[this.isNew?"attr":"animate"](w)):(r(c),c.attr("y",-9999)),this.isNew=!1)},destroy:function(){o(this,this.axis)}}}(t),function(t){var e=t.addEvent,i=t.animObject,o=t.arrayMax,a=t.arrayMin,n=t.AxisPlotLineOrBandExtension,s=t.color,r=t.correctFloat,l=t.defaultOptions,h=t.defined,d=t.deg2rad,c=t.destroyObjectProperties,p=t.each,u=t.error,m=t.extend,f=t.fireEvent,g=t.format,v=t.getMagnitude,y=t.grep,_=t.inArray,M=t.isArray,b=t.isNumber,x=t.isString,w=t.merge,k=t.normalizeTickInterval,C=t.pick,D=t.PlotLineOrBand,O=t.removeEvent,E=t.splat,T=t.syncTimeout,P=t.Tick;t.Axis=function(){this.init.apply(this,arguments)},t.Axis.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},minPadding:.01,maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textShadow:"1px 1px contrast, -1px -1px contrast, -1px 1px contrast, 1px -1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,i){var o=i.isX;this.chart=t,this.horiz=t.inverted?!o:o,this.isXAxis=o,this.coll=this.coll||(o?"xAxis":"yAxis"),this.opposite=i.opposite,this.side=i.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(i);var a=this.options,n=a.type;this.labelFormatter=a.labels.formatter||this.defaultLabelFormatter,this.userOptions=i,this.minPixelPadding=0,this.reversed=a.reversed,this.visible=!1!==a.visible,this.zoomEnabled=!1!==a.zoomEnabled,this.hasNames="category"===n||!0===a.categories,this.categories=a.categories||this.hasNames,this.names=this.names||[],this.isLog="logarithmic"===n,this.isDatetimeAxis="datetime"===n,this.isLinked=h(a.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=a.minRange||a.maxZoom,this.range=a.range,this.offset=a.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=C(a.crosshair,E(t.options.tooltip.crosshairs)[o?0:1],!1);var s;i=this.options.events,-1===_(this,t.axes)&&(o?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&o&&void 0===this.reversed&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(s in i)e(this,s,i[s]);this.isLog&&(this.val2lin=this.log2lin,this.lin2val=this.lin2log)},setOptions:function(t){this.options=w(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],w(l[this.coll],t))},defaultLabelFormatter:function(){var e,i=this.axis,o=this.value,a=i.categories,n=this.dateTimeLabelFormat,s=l.lang.numericSymbols,r=s&&s.length,h=i.options.labels.format,i=i.isLog?o:i.tickInterval;if(h)e=g(h,this);else if(a)e=o;else if(n)e=t.dateFormat(n,o);else if(r&&1e3<=i)for(;r--&&void 0===e;)a=Math.pow(1e3,r+1),i>=a&&0==10*o%a&&null!==s[r]&&0!==o&&(e=t.numberFormat(o/a,-1)+s[r]);return void 0===e&&(e=1e4<=Math.abs(o)?t.numberFormat(o,-1):t.numberFormat(o,-1,void 0,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),p(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var n,s=i.options,r=s.threshold;t.hasVisibleSeries=!0,t.isLog&&0>=r&&(r=null),t.isXAxis?(s=i.xData,s.length&&(i=a(s),b(i)||i instanceof Date||(s=y(s,function(t){return b(t)}),i=a(s)),t.dataMin=Math.min(C(t.dataMin,s[0]),i),t.dataMax=Math.max(C(t.dataMax,s[0]),o(s)))):(i.getExtremes(),n=i.dataMax,i=i.dataMin,h(i)&&h(n)&&(t.dataMin=Math.min(C(t.dataMin,i),i),t.dataMax=Math.max(C(t.dataMax,n),n)),h(r)&&(t.threshold=r),(!s.softThreshold||t.isLog)&&(t.softThreshold=!1))}})},translate:function(t,e,i,o,a,n){var s=this.linkedParent||this,r=1,l=0,h=o?s.oldTransA:s.transA;o=o?s.oldMin:s.min;var d=s.minPixelPadding;return a=(s.isOrdinal||s.isBroken||s.isLog&&a)&&s.lin2val,h||(h=s.transA),i&&(r*=-1,l=s.len),s.reversed&&(r*=-1,l-=r*(s.sector||s.len)),e?(t=(t*r+l-d)/h+o,a&&(t=s.lin2val(t))):(a&&(t=s.val2lin(t)),"between"===n&&(n=.5),t=r*(t-o)*h+l+r*d+(b(n)?h*n*s.pointRange:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,o,a){var n,s,r,l=this.chart,h=this.left,d=this.top,c=i&&l.oldChartHeight||l.chartHeight,p=i&&l.oldChartWidth||l.chartWidth;n=this.transB;var u=function(t,e,i){return(t<e||t>i)&&(o?t=Math.min(Math.max(e,t),i):r=!0),t};return a=C(a,this.translate(t,null,null,i)),t=i=Math.round(a+n),n=s=Math.round(c-a-n),b(a)?this.horiz?(n=d,s=c-this.bottom,t=i=u(t,h,h+this.width)):(t=h,i=p-this.right,n=s=u(n,d,d+this.height)):r=!0,r&&!o?null:l.renderer.crispLine(["M",t,n,"L",i,s],e||1)},getLinearTickPositions:function(t,e,i){var o,a=r(Math.floor(e/t)*t),n=r(Math.ceil(i/t)*t),s=[];if(e===i&&b(e))return[e];for(e=a;e<=n&&(s.push(e),(e=r(e+t))!==o);)o=e;return s},getMinorTickPositions:function(){var t,e=this.options,i=this.tickPositions,o=this.minorTickInterval,a=[],n=this.pointRangePadding||0;t=this.min-n;var n=this.max+n,s=n-t;if(s&&s/o<this.len/3)if(this.isLog)for(n=i.length,t=1;t<n;t++)a=a.concat(this.getLogTickPositions(o,i[t-1],i[t],!0));else if(this.isDatetimeAxis&&"auto"===e.minorTickInterval)a=a.concat(this.getTimeTicks(this.normalizeTimeTickInterval(o),t,n,e.startOfWeek));else for(i=t+(i[0]-t)%o;i<=n;i+=o)a.push(i);return 0!==a.length&&this.trimTicks(a,e.startOnTick,e.endOnTick),a},adjustForMinRange:function(){var t,e,i,n,s,r,l,d=this.options,c=this.min,u=this.max,m=this.dataMax-this.dataMin>=this.minRange;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(h(d.min)||h(d.max)?this.minRange=null:(p(this.series,function(t){for(s=t.xData,i=r=t.xIncrement?1:s.length-1;0<i;i--)n=s[i]-s[i-1],(void 0===e||n<e)&&(e=n)}),this.minRange=Math.min(5*e,this.dataMax-this.dataMin))),u-c<this.minRange&&(l=this.minRange,t=(l-u+c)/2,t=[c-t,C(d.min,c-t)],m&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),c=o(t),u=[c+l,C(d.max,c+l)],m&&(u[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(u=a(u))-c<l&&(t[0]=u-l,t[1]=C(d.min,u-l),c=o(t))),this.min=c,this.max=u},getClosest:function(){var t;return this.categories?t=1:p(this.series,function(e){var i=e.closestPointRange;!e.noSharedTooltip&&h(i)&&(t=h(t)?Math.min(t,i):i)}),t},nameToX:function(t){var e,i=M(this.categories),o=i?this.categories:this.names,a=t.options.x;return t.series.requireSorting=!1,h(a)||(a=!1===this.options.uniqueNames?t.series.autoIncrement():_(t.name,o)),-1===a?i||(e=o.length):e=a,this.names[e]=t.name,e},updateNames:function(){var t=this;0<this.names.length&&(this.names.length=0,this.minRange=void 0,p(this.series||[],function(e){e.points&&!e.isDirtyData||(e.processData(),e.generatePoints()),p(e.points,function(i,o){var a;i.options&&void 0===i.options.x&&(a=t.nameToX(i))!==i.x&&(i.x=a,e.xData[o]=a)})}))},setAxisTranslation:function(t){var e,i=this,o=i.max-i.min,a=i.axisPointRange||0,n=0,s=0,r=i.linkedParent,l=!!i.categories,h=i.transA,d=i.isXAxis;(d||l||a)&&(r?(n=r.minPointOffset,s=r.pointRangePadding):(e=i.getClosest(),p(i.series,function(t){var o=l?1:d?C(t.options.pointRange,e,0):i.axisPointRange||0;t=t.options.pointPlacement,a=Math.max(a,o),i.single||(n=Math.max(n,x(t)?0:o/2),s=Math.max(s,"on"===t?0:o))})),r=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=n*=r,i.pointRangePadding=s*=r,i.pointRange=Math.min(a,o),d&&(i.closestPointRange=e)),t&&(i.oldTransA=h),i.translationSlope=i.transA=h=i.len/(o+s||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=h*n},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var e,i,o,a,n=this,s=n.chart,l=n.options,d=n.isLog,c=n.log2lin,m=n.isDatetimeAxis,g=n.isXAxis,y=n.isLinked,_=l.maxPadding,M=l.minPadding,x=l.tickInterval,w=l.tickPixelInterval,D=n.categories,O=n.threshold,E=n.softThreshold;m||D||y||this.getTickAmount(),o=C(n.userMin,l.min),a=C(n.userMax,l.max),y?(n.linkedParent=s[n.coll][l.linkedTo],s=n.linkedParent.getExtremes(),n.min=C(s.min,s.dataMin),n.max=C(s.max,s.dataMax),l.type!==n.linkedParent.options.type&&u(11,1)):(!E&&h(O)&&(n.dataMin>=O?(e=O,M=0):n.dataMax<=O&&(i=O,_=0)),n.min=C(o,e,n.dataMin),n.max=C(a,i,n.dataMax)),d&&(!t&&0>=Math.min(n.min,C(n.dataMin,n.min))&&u(10,1),n.min=r(c(n.min),15),n.max=r(c(n.max),15)),n.range&&h(n.max)&&(n.userMin=n.min=o=Math.max(n.min,n.minFromRange()),n.userMax=a=n.max,n.range=null),f(n,"foundExtremes"),n.beforePadding&&n.beforePadding(),n.adjustForMinRange(),!(D||n.axisPointRange||n.usePercentage||y)&&h(n.min)&&h(n.max)&&(c=n.max-n.min)&&(!h(o)&&M&&(n.min-=c*M),!h(a)&&_&&(n.max+=c*_)),b(l.floor)?n.min=Math.max(n.min,l.floor):b(l.softMin)&&(n.min=Math.min(n.min,l.softMin)),b(l.ceiling)?n.max=Math.min(n.max,l.ceiling):b(l.softMax)&&(n.max=Math.max(n.max,l.softMax)),E&&h(n.dataMin)&&(O=O||0,!h(o)&&n.min<O&&n.dataMin>=O?n.min=O:!h(a)&&n.max>O&&n.dataMax<=O&&(n.max=O)),n.tickInterval=n.min===n.max||void 0===n.min||void 0===n.max?1:y&&!x&&w===n.linkedParent.options.tickPixelInterval?x=n.linkedParent.tickInterval:C(x,this.tickAmount?(n.max-n.min)/Math.max(this.tickAmount-1,1):void 0,D?1:(n.max-n.min)*w/Math.max(n.len,w)),g&&!t&&p(n.series,function(t){t.processData(n.min!==n.oldMin||n.max!==n.oldMax)}),n.setAxisTranslation(!0),n.beforeSetTickPositions&&n.beforeSetTickPositions(),n.postProcessTickInterval&&(n.tickInterval=n.postProcessTickInterval(n.tickInterval)),n.pointRange&&!x&&(n.tickInterval=Math.max(n.pointRange,n.tickInterval)),t=C(l.minTickInterval,n.isDatetimeAxis&&n.closestPointRange),!x&&n.tickInterval<t&&(n.tickInterval=t),m||d||x||(n.tickInterval=k(n.tickInterval,null,v(n.tickInterval),C(l.allowDecimals,!(.5<n.tickInterval&&5>n.tickInterval&&1e3<n.max&&9999>n.max)),!!this.tickAmount)),this.tickAmount||(n.tickInterval=n.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e,i=this.options,o=i.tickPositions,a=i.tickPositioner,n=i.startOnTick,s=i.endOnTick;this.tickmarkOffset=this.categories&&"between"===i.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===i.minorTickInterval&&this.tickInterval?this.tickInterval/5:i.minorTickInterval,this.tickPositions=t=o&&o.slice(),!t&&(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,a&&(a=a.apply(this,[this.min,this.max])))&&(this.tickPositions=t=a),this.isLinked||(this.trimTicks(t,n,s),this.min===this.max&&h(this.min)&&!this.tickAmount&&(e=!0,this.min-=.5,this.max+=.5),this.single=e,o||a||this.adjustTickAmount())},trimTicks:function(t,e,i){var o=t[0],a=t[t.length-1],n=this.minPointOffset||0;if(e)this.min=o;else for(;this.min-n>t[0];)t.shift();if(i)this.max=a;else for(;this.max+n<t[t.length-1];)t.pop();0===t.length&&h(o)&&t.push((a+o)/2)},alignToOthers:function(){var t,e={},i=this.options;return!1!==this.chart.options.chart.alignTicks&&!1!==i.alignTicks&&p(this.chart[this.coll],function(i){var o=i.options,o=[i.horiz?o.left:o.top,o.width,o.height,o.pane].join();i.series.length&&(e[o]?t=!0:e[o]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,i=t.tickPixelInterval;!h(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/i)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,i=this.tickAmount,o=this.finalTickAmt,a=e&&e.length;if(a<i){for(;e.length<i;)e.push(r(e[e.length-1]+t));this.transA*=(a-1)/(i-1),this.max=e[e.length-1]}else a>i&&(this.tickInterval*=2,this.setTickPositions());if(h(o)){for(t=i=e.length;t--;)(3===o&&1==t%2||2>=o&&0<t&&t<i-1)&&e.splice(t,1);this.finalTickAmt=void 0}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,p(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(t,e,i,o,a){var n=this,s=n.chart;i=C(i,!0),p(n.series,function(t){delete t.kdTree}),a=m(a,{min:t,max:e}),f(n,"setExtremes",a,function(){n.userMin=t,n.userMax=e,n.eventArgs=a,i&&s.redraw(o)})},zoom:function(t,e){var i=this.dataMin,o=this.dataMax,a=this.options,n=Math.min(i,C(a.min,i)),a=Math.max(o,C(a.max,o));return t===this.min&&e===this.max||(this.allowZoomOutside||(h(i)&&t<=n&&(t=n),h(o)&&e>=a&&(e=a)),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var t=this.chart,e=this.options,i=e.offsetLeft||0,o=this.horiz,a=C(e.width,t.plotWidth-i+(e.offsetRight||0)),n=C(e.height,t.plotHeight),s=C(e.top,t.plotTop),e=C(e.left,t.plotLeft+i),i=/%$/;i.test(n)&&(n=Math.round(parseFloat(n)/100*t.plotHeight)),i.test(s)&&(s=Math.round(parseFloat(s)/100*t.plotHeight+t.plotTop)),this.left=e,this.top=s,this.width=a,this.height=n,this.bottom=t.chartHeight-n-s,this.right=t.chartWidth-a-e,this.len=Math.max(o?a:n,0),this.pos=o?e:s},getExtremes:function(){var t=this.isLog,e=this.lin2log;return{min:t?r(e(this.min)):this.min,max:t?r(e(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=this.lin2log,o=e?i(this.min):this.min,e=e?i(this.max):this.max;return null===t?t=o:o>t?t=o:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return t=(C(t,0)-90*this.side+720)%360,15<t&&165>t?"right":195<t&&345>t?"left":"center"},tickSize:function(t){var e=this.options,i=e[t+"Length"],o=C(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(o&&i)return"inside"===e[t+"Position"]&&(i=-i),[i,o]},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var t,e,i,o=this.options.labels,a=this.horiz,n=this.tickInterval,s=n,r=this.len/(((this.categories?1:0)+this.max-this.min)/n),l=o.rotation,c=this.labelMetrics(),u=Number.MAX_VALUE,m=function(t){return t/=r||1,(t=1<t?Math.ceil(t):1)*n};return a?(i=!o.staggerLines&&!o.step&&(h(l)?[l]:r<C(o.autoRotationLimit,80)&&o.autoRotation))&&p(i,function(i){var o;(i===l||i&&-90<=i&&90>=i)&&(e=m(Math.abs(c.h/Math.sin(d*i))),(o=e+Math.abs(i/360))<u&&(u=o,t=i,s=e))}):o.step||(s=m(c.h)),this.autoRotation=i,this.labelRotation=C(t,l),s},getSlotWidth:function(){var t=this.chart,e=this.horiz,i=this.options.labels,o=Math.max(this.tickPositions.length-(this.categories?0:1),1),a=t.margin[3];return e&&2>(i.step||0)&&!i.rotation&&(this.staggerLines||1)*t.plotWidth/o||!e&&(a&&a-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,i,o=this.chart,a=o.renderer,n=this.tickPositions,s=this.ticks,r=this.options.labels,l=this.horiz,h=this.getSlotWidth(),d=Math.max(1,Math.round(h-2*(r.padding||5))),c={},u=this.labelMetrics(),m=r.style&&r.style.textOverflow,f=0;if(x(r.rotation)||(c.rotation=r.rotation||0),p(n,function(t){(t=s[t])&&t.labelLength>f&&(f=t.labelLength)}),this.maxLabelLength=f,this.autoRotation)f>d&&f>u.h?c.rotation=this.labelRotation:this.labelRotation=0;else if(h&&(t={width:d+"px"},!m))for(t.textOverflow="clip",e=n.length;!l&&e--;)i=n[e],(d=s[i].label)&&(d.styles&&"ellipsis"===d.styles.textOverflow?d.css({textOverflow:"clip"}):s[i].labelLength>h&&d.css({width:h+"px"}),d.getBBox().height>this.len/n.length-(u.h-u.f)&&(d.specCss={textOverflow:"ellipsis"}));c.rotation&&(t={width:(f>.5*o.chartHeight?.33*o.chartHeight:o.chartHeight)+"px"},m||(t.textOverflow="ellipsis")),(this.labelAlign=r.align||this.autoLabelAlign(this.labelRotation))&&(c.align=this.labelAlign),p(n,function(e){var i=(e=s[e])&&e.label;i&&(i.attr(c),t&&i.css(w(t,i.specCss)),delete i.specCss,e.rotation=c.rotation)}),this.tickRotCorr=a.rotCorr(u.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||h(this.min)&&h(this.max)&&!!this.tickPositions},getOffset:function(){var t,e,i,o,a=this,n=a.chart,s=n.renderer,r=a.options,l=a.tickPositions,d=a.ticks,c=a.horiz,u=a.side,m=n.inverted?[1,0,3,2][u]:u,f=0,g=0,v=r.title,y=r.labels,_=0,M=a.opposite,b=n.axisOffset,n=n.clipOffset,x=[-1,1,1,-1][u],w=r.className,k=a.axisParent,D=this.tickSize("tick");if(t=a.hasData(),a.showAxis=e=t||C(r.showEmpty,!0),a.staggerLines=a.horiz&&y.staggerLines,a.axisGroup||(a.gridGroup=s.g("grid").attr({zIndex:r.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(w||"")).add(k),a.axisGroup=s.g("axis").attr({zIndex:r.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(w||"")).add(k),a.labelGroup=s.g("axis-labels").attr({zIndex:y.zIndex||7}).addClass("highcharts-"+a.coll.toLowerCase()+"-labels "+(w||"")).add(k)),t||a.isLinked)p(l,function(t){d[t]?d[t].addLabel():d[t]=new P(a,t)}),a.renderUnsquish(),!1===y.reserveSpace||0!==u&&2!==u&&{1:"left",3:"right"}[u]!==a.labelAlign&&"center"!==a.labelAlign||p(l,function(t){_=Math.max(d[t].getLabelSize(),_)}),a.staggerLines&&(_*=a.staggerLines,a.labelOffset=_*(a.opposite?-1:1));else for(o in d)d[o].destroy(),delete d[o];v&&v.text&&!1!==v.enabled&&(a.axisTitle||((o=v.textAlign)||(o=(c?{low:"left",middle:"center",high:"right"}:{low:M?"right":"left",middle:"center",high:M?"left":"right"})[v.align]),a.axisTitle=s.text(v.text,0,0,v.useHTML).attr({zIndex:7,rotation:v.rotation||0,align:o}).addClass("highcharts-axis-title").css(v.style).add(a.axisGroup),a.axisTitle.isNew=!0),e&&(f=a.axisTitle.getBBox()[c?"height":"width"],i=v.offset,g=h(i)?0:C(v.margin,c?5:10)),a.axisTitle[e?"show":"hide"](!0)),a.renderLine(),a.offset=x*C(r.offset,b[u]),a.tickRotCorr=a.tickRotCorr||{x:0,y:0},s=0===u?-a.labelMetrics().h:2===u?a.tickRotCorr.y:0,g=Math.abs(_)+g,_&&(g=g-s+x*(c?C(y.y,a.tickRotCorr.y+8*x):y.x)),a.axisTitleMargin=C(i,g),b[u]=Math.max(b[u],a.axisTitleMargin+f+x*a.offset,g,t&&l.length&&D?D[0]:0),r=r.offset?0:2*Math.floor(a.axisLine.strokeWidth()/2),n[m]=Math.max(n[m],r)},getLinePath:function(t){var e=this.chart,i=this.opposite,o=this.offset,a=this.horiz,n=this.left+(i?this.width:0)+o,o=e.chartHeight-this.bottom-(i?this.height:0)+o;return i&&(t*=-1),e.renderer.crispLine(["M",a?this.left:n,a?o:this.top,"L",a?e.chartWidth-this.right:n,a?o:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,o=this.len,a=this.options.title,n=t?e:i,s=this.opposite,r=this.offset,l=a.x||0,h=a.y||0,d=this.chart.renderer.fontMetrics(a.style&&a.style.fontSize,this.axisTitle).f,o={low:n+(t?0:o),middle:n+o/2,high:n+(t?o:0)}[a.align],e=(t?i+this.height:e)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+(2===this.side?d:0);return{x:t?o+l:e+(s?this.width:0)+r+l,y:t?e+h-(s?this.height:0)+r:o+h}},render:function(){var t,e,o=this,a=o.chart,n=a.renderer,s=o.options,r=o.isLog,l=o.lin2log,h=o.isLinked,d=o.tickPositions,c=o.axisTitle,u=o.ticks,m=o.minorTicks,f=o.alternateBands,g=s.stackLabels,v=s.alternateGridColor,y=o.tickmarkOffset,_=o.axisLine,M=a.hasRendered&&b(o.oldMin),x=o.showAxis,w=i(n.globalAnimation);o.labelEdge.length=0,o.overlap=!1,p([u,m,f],function(t){for(var e in t)t[e].isActive=!1}),(o.hasData()||h)&&(o.minorTickInterval&&!o.categories&&p(o.getMinorTickPositions(),function(t){m[t]||(m[t]=new P(o,t,"minor")),M&&m[t].isNew&&m[t].render(null,!0),m[t].render(null,!1,1)}),d.length&&(p(d,function(t,e){(!h||t>=o.min&&t<=o.max)&&(u[t]||(u[t]=new P(o,t)),M&&u[t].isNew&&u[t].render(e,!0,.1),u[t].render(e))}),y&&(0===o.min||o.single)&&(u[-1]||(u[-1]=new P(o,-1,null,!0)),u[-1].render(-1))),v&&p(d,function(i,n){e=void 0!==d[n+1]?d[n+1]+y:o.max-y,0==n%2&&i<o.max&&e<=o.max+(a.polar?-y:y)&&(f[i]||(f[i]=new D(o)),t=i+y,f[i].options={from:r?l(t):t,to:r?l(e):e,color:v},f[i].render(),f[i].isActive=!0)}),o._addedPlotLB||(p((s.plotLines||[]).concat(s.plotBands||[]),function(t){o.addPlotBandOrLine(t)}),o._addedPlotLB=!0)),p([u,m,f],function(t){var e,i,o=[],n=w.duration;for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,o.push(e));T(function(){for(i=o.length;i--;)t[o[i]]&&!t[o[i]].isActive&&(t[o[i]].destroy(),delete t[o[i]])},t!==f&&a.hasRendered&&n?n:0)}),_&&(_[_.isPlaced?"animate":"attr"]({d:this.getLinePath(_.strokeWidth())}),_.isPlaced=!0,_[x?"show":"hide"](!0)),c&&x&&(c[c.isNew?"attr":"animate"](o.getTitlePosition()),c.isNew=!1),g&&g.enabled&&o.renderStackTotals(),o.isDirty=!1},redraw:function(){this.visible&&(this.render(),p(this.plotLinesAndBands,function(t){t.render()})),p(this.series,function(t){t.isDirty=!0})},destroy:function(t){var e,i,o=this,a=o.stacks,n=o.plotLinesAndBands;t||O(o);for(e in a)c(a[e]),a[e]=null;if(p([o.ticks,o.minorTicks,o.alternateBands],function(t){c(t)}),n)for(t=n.length;t--;)n[t].destroy();p("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),function(t){o[t]&&(o[t]=o[t].destroy())}),n="extKey hcEvents names series userMax userMin".split(" ");for(i in o)o.hasOwnProperty(i)&&-1===_(i,n)&&delete o[i]},drawCrosshair:function(t,e){var i,o,a=this.crosshair,n=C(a.snap,!0),r=this.cross;t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(h(e)||!n)?(n?h(e)&&(o=this.isXAxis?e.plotX:this.len-e.plotY):o=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),h(o)&&(i=this.getPlotLinePath(e&&(this.isXAxis?e.x:C(e.stackY,e.y)),null,null,null,o)||null),h(i)?(e=this.categories&&!this.isRadial,r||(this.cross=r=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(e?"category ":"thin ")+a.className).attr({zIndex:C(a.zIndex,2)}).add(),r.attr({stroke:a.color||(e?s("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":C(a.width,1)}),a.dashStyle&&r.attr({dashstyle:a.dashStyle})),r.show().attr({d:i}),e&&!a.width&&r.attr({"stroke-width":this.transA}),this.cross.e=t):this.hideCrosshair()):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},m(t.Axis.prototype,n)}(t),function(t){var e=t.Axis,i=t.Date,o=t.dateFormat,a=t.defaultOptions,n=t.defined,s=t.each,r=t.extend,l=t.getMagnitude,h=t.getTZOffset,d=t.normalizeTickInterval,c=t.pick,p=t.timeUnits;e.prototype.getTimeTicks=function(t,e,l,d){var u,m,f,g=[],v={},y=a.global.useUTC,_=new i(e-h(e)),M=i.hcMakeTime,b=t.unitRange,x=t.count;if(n(e)){for(_[i.hcSetMilliseconds](b>=p.second?0:x*Math.floor(_.getMilliseconds()/x)),b>=p.second&&_[i.hcSetSeconds](b>=p.minute?0:x*Math.floor(_.getSeconds()/x)),b>=p.minute&&_[i.hcSetMinutes](b>=p.hour?0:x*Math.floor(_[i.hcGetMinutes]()/x)),b>=p.hour&&(_[i.hcSetHours](b>=p.day?0:x*Math.floor(_[i.hcGetHours]()/x)),m=_[i.hcGetHours]()),b>=p.day&&_[i.hcSetDate](b>=p.month?1:x*Math.floor(_[i.hcGetDate]()/x)),b>=p.month&&(_[i.hcSetMonth](b>=p.year?0:x*Math.floor(_[i.hcGetMonth]()/x)),u=_[i.hcGetFullYear]()),b>=p.year&&_[i.hcSetFullYear](u-u%x),b===p.week&&_[i.hcSetDate](_[i.hcGetDate]()-_[i.hcGetDay]()+c(d,1)),d=1,(i.hcTimezoneOffset||i.hcGetTimezoneOffset)&&(f=(!y||!!i.hcGetTimezoneOffset)&&(l-e>4*p.month||h(e)!==h(l)),_=_.getTime(),_=new i(_+h(_))),u=_[i.hcGetFullYear](),e=_.getTime(),y=_[i.hcGetMonth](),_=_[i.hcGetDate]();e<l;)g.push(e),e=b===p.year?M(u+d*x,0):b===p.month?M(u,y+d*x):!f||b!==p.day&&b!==p.week?f&&b===p.hour?M(u,y,_,m+d*x):e+b*x:M(u,y,_+d*x*(b===p.day?1:7)),d++;g.push(e),b<=p.hour&&s(g,function(t){"000000000"===o("%H%M%S%L",t)&&(v[t]="day")})}return g.info=r(t,{higherRanks:v,totalRange:b*x}),g},e.prototype.normalizeTimeTickInterval=function(t,e){var i=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=i[i.length-1];var o,a=p[e[0]],n=e[1];for(o=0;o<i.length&&(e=i[o],a=p[e[0]],n=e[1],!(i[o+1]&&t<=(a*n[n.length-1]+p[i[o+1][0]])/2));o++);return a===p.year&&t<5*a&&(n=[1,2,5]),t=d(t/a,n,"year"===e[0]?Math.max(l(t/a),1):1),{unitRange:a,count:t,unitName:e[0]}}}(t),function(t){var e=t.Axis,i=t.getMagnitude,o=t.map,a=t.normalizeTickInterval,n=t.pick;e.prototype.getLogTickPositions=function(t,e,s,r){var l=this.options,h=this.len,d=this.lin2log,c=this.log2lin,p=[];if(r||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),p=this.getLinearTickPositions(t,e,s);else if(.08<=t)for(var u,m,f,g,v,h=Math.floor(e),l=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];h<s+1&&!v;h++)for(m=l.length,u=0;u<m&&!v;u++)f=c(d(h)*l[u]),f>e&&(!r||g<=s)&&void 0!==g&&p.push(g),g>s&&(v=!0),g=f;else e=d(e),s=d(s),t=l[r?"minorTickInterval":"tickInterval"],t=n("auto"===t?null:t,this._minorAutoInterval,l.tickPixelInterval/(r?5:1)*(s-e)/((r?h/this.tickPositions.length:h)||1)),t=a(t,null,i(t)),p=o(this.getLinearTickPositions(t,e,s),c),r||(this._minorAutoInterval=t/5);return r||(this.tickInterval=t),p},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(t),function(t){var e=t.dateFormat,i=t.each,o=t.extend,a=t.format,n=t.isNumber,s=t.map,r=t.merge,l=t.pick,h=t.splat,d=t.stop,c=t.syncTimeout,p=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split},cleanSplit:function(t){i(this.chart.series,function(e){var i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)})},getLabel:function(){var t=this.chart.renderer,e=this.options;return this.label||(this.split?this.label=t.g("tooltip"):(this.label=t.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:e.padding,r:e.borderRadius}),this.label.attr({fill:e.backgroundColor,"stroke-width":e.borderWidth}).css(e.style).shadow(e.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),this.init(this.chart,r(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,i,a){var n=this,s=n.now,r=!1!==n.options.animation&&!n.isHidden&&(1<Math.abs(t-s.x)||1<Math.abs(e-s.y)),l=n.followPointer||1<n.len;o(s,{x:r?(2*s.x+t)/3:t,y:r?(s.y+e)/2:e,anchorX:l?void 0:r?(2*s.anchorX+i)/3:i,anchorY:l?void 0:r?(s.anchorY+a)/2:a}),n.getLabel().attr(s),r&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){n&&n.move(t,e,i,a)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),t=l(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=c(function(){e.getLabel()[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,e){var o,a,n,r=this.chart,l=r.inverted,d=r.plotTop,c=r.plotLeft,p=0,u=0;return t=h(t),o=t[0].tooltipPos,this.followPointer&&e&&(void 0===e.chartX&&(e=r.pointer.normalize(e)),o=[e.chartX-r.plotLeft,e.chartY-d]),o||(i(t,function(t){a=t.series.yAxis,n=t.series.xAxis,p+=t.plotX+(!l&&n?n.left-c:0),u+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!l&&a?a.top-d:0)}),p/=t.length,u/=t.length,o=[l?r.plotWidth-u:p,this.shared&&!l&&1<t.length&&e?e.chartY-d:l?r.plotHeight-p:u]),s(o,Math.round)},getPosition:function(t,e,i){var o,a=this.chart,n=this.distance,s={},r=i.h||0,h=["y",a.chartHeight,e,i.plotY+a.plotTop,a.plotTop,a.plotTop+a.plotHeight],d=["x",a.chartWidth,t,i.plotX+a.plotLeft,a.plotLeft,a.plotLeft+a.plotWidth],c=!this.followPointer&&l(i.ttBelow,!a.inverted==!!i.negative),p=function(t,e,i,o,a,l){var h=i<o-n,d=o+n+i<e,p=o-n-i;if(o+=n,c&&d)s[t]=o;else if(!c&&h)s[t]=p;else if(h)s[t]=Math.min(l-i,0>p-r?p:p-r);else{if(!d)return!1;s[t]=Math.max(a,o+r+i>e?o:o+r)}},u=function(t,e,i,o){var a;return o<n||o>e-n?a=!1:s[t]=o<i/2?1:o>e-i/2?e-i-2:o-i/2,a},m=function(t){var e=h;h=d,d=e,o=t},f=function(){!1!==p.apply(0,h)?!1!==u.apply(0,d)||o||(m(!0),f()):o?s.x=s.y=0:(m(!0),f())};return(a.inverted||1<this.len)&&m(),f(),s},defaultFormatter:function(t){var e,i=this.points||h(this);return e=[t.tooltipFooterHeaderFormatter(i[0])],e=e.concat(t.bodyFormatter(i)),e.push(t.tooltipFooterHeaderFormatter(i[0],!0)),e},refresh:function(t,e){var o,a,n,s=this.chart,r=this.getLabel(),c=this.options,p={},u=[];n=c.formatter||this.defaultFormatter;var p=s.hoverPoints,m=this.shared;clearTimeout(this.hideTimer),this.followPointer=h(t)[0].series.tooltipOptions.followPointer,a=this.getAnchor(t,e),e=a[0],o=a[1],!m||t.series&&t.series.noSharedTooltip?p=t.getLabelConfig():(s.hoverPoints=t,p&&i(p,function(t){t.setState()}),i(t,function(t){t.setState("hover"),u.push(t.getLabelConfig())}),p={x:t[0].category,y:t[0].y},p.points=u,this.len=u.length,t=t[0]),n=n.call(p,this),p=t.series,this.distance=l(p.tooltipOptions.distance,16),!1===n?this.hide():(this.isHidden&&(d(r),r.attr({opacity:1}).show()),this.split?this.renderSplit(n,s.hoverPoints):(r.attr({text:n.join?n.join(""):n}),r.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+l(t.colorIndex,p.colorIndex)),r.attr({stroke:c.borderColor||t.color||p.color||"#666666"}),this.updatePosition({plotX:e,plotY:o,negative:t.negative,ttBelow:t.ttBelow,h:a[2]||0})),this.isHidden=!1)},renderSplit:function(e,o){var a,n=this,s=[],r=this.chart,h=r.renderer,d=!0,c=this.options,p=this.getLabel();i(e.slice(0,e.length-1),function(t,e){e=o[e-1]||{isHeader:!0,plotX:o[0].plotX};var i=e.series||n,u=i.tt,m=e.series||{},f="highcharts-color-"+l(e.colorIndex,m.colorIndex,"none");u||(i.tt=u=h.label(null,null,null,e.isHeader&&"callout").addClass("highcharts-tooltip-box "+f).attr({padding:c.padding,r:c.borderRadius,fill:c.backgroundColor,stroke:e.color||m.color||"#333333","stroke-width":c.borderWidth}).add(p),e.series&&(u.connector=h.path().addClass("highcharts-tooltip-connector "+f).attr({"stroke-width":m.options.lineWidth||2,stroke:e.color||m.color||"#666666"}).add(u))),u.isActive=!0,u.attr({text:t}),t=u.getBBox(),m=t.width+u.strokeWidth(),e.isHeader?(a=t.height,m=Math.max(0,Math.min(e.plotX+r.plotLeft-m/2,r.chartWidth-m))):m=e.plotX+r.plotLeft-l(c.distance,16)-m,0>m&&(d=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=r.plotTop,s.push({target:e.isHeader?r.plotHeight+a:t,rank:e.isHeader?1:0,size:i.tt.getBBox().height+1,point:e,x:m,tt:u})}),this.cleanSplit(),t.distribute(s,r.plotHeight+a),i(s,function(t){var e,i=t.point,o=t.tt;e={visibility:void 0===t.pos?"hidden":"inherit",x:d||i.isHeader?t.x:i.plotX+r.plotLeft+l(c.distance,16),y:t.pos+r.plotTop},i.isHeader&&(e.anchorX=i.plotX+r.plotLeft,e.anchorY=e.y-100),o.attr(e),i.isHeader||o.connector.attr({d:["M",i.plotX+r.plotLeft-e.x,i.plotY+i.series.yAxis.pos-e.y,"L",(d?-1:1)*l(c.distance,16)+i.plotX+r.plotLeft-e.x,t.pos+r.plotTop+o.getBBox().height/2-e.y]})})},updatePosition:function(t){var e=this.chart,i=this.getLabel(),i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(Math.round(i.x),Math.round(i.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getXDateFormat:function(t,i,o){var a;i=i.dateTimeLabelFormats;var n,s,r=o&&o.closestPointRange,l={millisecond:15,second:12,minute:9,hour:6,day:3},h="millisecond";if(r){s=e("%m-%d %H:%M:%S.%L",t.x);for(n in p){if(r===p.week&&+e("%w",t.x)===o.options.startOfWeek&&"00:00:00.000"===s.substr(6)){n="week";break}if(p[n]>r){n=h;break}if(l[n]&&s.substr(l[n])!=="01-01 00:00:00.000".substr(l[n]))break;"week"!==n&&(h=n)}n&&(a=i[n])}else a=i.day;return a||i.year},tooltipFooterHeaderFormatter:function(t,e){var i=e?"footer":"header";e=t.series;var o=e.tooltipOptions,s=o.xDateFormat,r=e.xAxis,l=r&&"datetime"===r.options.type&&n(t.key),i=o[i+"Format"];return l&&!s&&(s=this.getXDateFormat(t,o,r)),l&&s&&(i=i.replace("{point.key}","{point.key:"+s+"}")),a(i,{point:t,series:e})},bodyFormatter:function(t){return s(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}}}(t),function(t){var e=t.addEvent,i=t.attr,o=t.charts,a=t.color,n=t.css,s=t.defined,r=t.doc,l=t.each,h=t.extend,d=t.fireEvent,c=t.offset,p=t.pick,u=t.removeEvent,m=t.splat,f=t.Tooltip,g=t.win;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},f&&e.tooltip.enabled&&(t.tooltip=new f(t,e.tooltip),this.followTouchMove=p(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(){var t=this.chart,e=t.options.chart.zoomType,i=/x/.test(e),e=/y/.test(e),t=t.inverted;this.zoomX=i,this.zoomY=e,this.zoomHor=i&&!t||e&&t,this.zoomVert=e&&!t||i&&t,this.hasZoom=i||e},normalize:function(t,e){var i,o;return t=t||g.event,t.target||(t.target=t.srcElement),o=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=c(this.chart.container)),void 0===o.pageX?(i=Math.max(t.x,t.clientX-e.left),e=t.y):(i=o.pageX-e.left,e=o.pageY-e.top),h(t,{chartX:Math.round(i),chartY:Math.round(e)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return l(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},runPointActions:function(i){var a,n,s,h,d=this.chart,c=d.series,u=d.tooltip,m=!!u&&u.shared,f=!0,g=d.hoverPoint,v=d.hoverSeries,y=[];if(!m&&!v)for(a=0;a<c.length;a++)!c[a].directTouch&&c[a].options.stickyTracking||(c=[]);if(v&&(m?v.noSharedTooltip:v.directTouch)&&g?y=[g]:(m||!v||v.options.stickyTracking||(c=[v]),l(c,function(t){n=t.noSharedTooltip&&m,s=!m&&t.directTouch,t.visible&&!n&&!s&&p(t.options.enableMouseTracking,!0)&&(h=t.searchPoint(i,!n&&1===t.kdDimensions))&&h.series&&y.push(h)}),y.sort(function(t,e){var i=t.distX-e.distX,o=t.dist-e.dist;return 0!==i&&m?i:0!==o?o:t.series.group.zIndex>e.series.group.zIndex?-1:1})),m)for(a=y.length;a--;)(y[a].x!==y[0].x||y[a].series.noSharedTooltip)&&y.splice(a,1);if(y[0]&&(y[0]!==this.prevKDPoint||u&&u.isHidden)){if(m&&!y[0].series.noSharedTooltip){for(a=0;a<y.length;a++)y[a].onMouseOver(i,y[a]!==(v&&v.directTouch&&g||y[0]));y.length&&u&&u.refresh(y.sort(function(t,e){return t.series.index-e.series.index}),i)}else u&&u.refresh(y[0],i),v&&v.directTouch||y[0].onMouseOver(i);this.prevKDPoint=y[0],f=!1}f&&(c=v&&v.tooltipOptions.followPointer,u&&c&&!u.isHidden&&(c=u.getAnchor([{}],i),u.updatePosition({plotX:c[0],plotY:c[1]}))),this._onDocumentMouseMove||(this._onDocumentMouseMove=function(e){o[t.hoverChartIndex]&&o[t.hoverChartIndex].pointer.onDocumentMouseMove(e)},e(r,"mousemove",this._onDocumentMouseMove)),l(m?y:[p(g,y[0])],function(t){l(d.axes,function(e){(!t||t.series&&t.series[e.coll]===e)&&e.drawCrosshair(i,t)})})},reset:function(t,e){var i=this.chart,o=i.hoverSeries,a=i.hoverPoint,n=i.hoverPoints,s=i.tooltip,h=s&&s.shared?n:a;t&&h&&l(m(h),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?s&&h&&(s.refresh(h),a&&(a.setState(a.state,!0),l(i.axes,function(t){t.crosshair&&t.drawCrosshair(null,a)}))):(a&&a.onMouseOut(),n&&l(n,function(t){t.setState()}),o&&o.onMouseOut(),s&&s.hide(e),this._onDocumentMouseMove&&(u(r,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),l(i.axes,function(t){t.hideCrosshair()}),this.hoverX=this.prevKDPoint=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var i,o=this.chart;l(o.series,function(a){i=t||a.getPlotBox(),a.xAxis&&a.xAxis.zoomEnabled&&a.group&&(a.group.attr(i),a.markerGroup&&(a.markerGroup.attr(i),a.markerGroup.clip(e?o.clipRect:null)),a.dataLabelsGroup&&a.dataLabelsGroup.attr(i))}),o.clipRect.attr(e||o.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,o=i.options.chart,n=t.chartX,s=t.chartY,r=this.zoomHor,l=this.zoomVert,h=i.plotLeft,d=i.plotTop,c=i.plotWidth,p=i.plotHeight,u=this.selectionMarker,m=this.mouseDownX,f=this.mouseDownY,g=o.panKey&&t[o.panKey+"Key"];u&&u.touch||(n<h?n=h:n>h+c&&(n=h+c),s<d?s=d:s>d+p&&(s=d+p),this.hasDragged=Math.sqrt(Math.pow(m-n,2)+Math.pow(f-s,2)),10<this.hasDragged&&(e=i.isInsidePlot(m-h,f-d),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!g&&!u&&(this.selectionMarker=u=i.renderer.rect(h,d,r?1:c,l?1:p,0).attr({fill:o.selectionMarkerFill||a("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add()),u&&r&&(n-=m,u.attr({width:Math.abs(n),x:(0<n?0:n)+m})),u&&l&&(n=s-f,u.attr({height:Math.abs(n),y:(0<n?0:n)+f})),e&&!u&&o.panning&&i.pan(t,o.panning)))},drop:function(t){var e=this,i=this.chart,o=this.hasPinched;if(this.selectionMarker){var a,r={originalEvent:t,xAxis:[],yAxis:[]},c=this.selectionMarker,p=c.attr?c.attr("x"):c.x,u=c.attr?c.attr("y"):c.y,m=c.attr?c.attr("width"):c.width,f=c.attr?c.attr("height"):c.height;(this.hasDragged||o)&&(l(i.axes,function(i){if(i.zoomEnabled&&s(i.min)&&(o||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var n=i.horiz,l="touchend"===t.type?i.minPixelPadding:0,h=i.toValue((n?p:u)+l),n=i.toValue((n?p+m:u+f)-l);r[i.coll].push({axis:i,min:Math.min(h,n),max:Math.max(h,n)}),a=!0}}),a&&d(i,"selection",r,function(t){i.zoom(h(t,o?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),o&&this.scaleGroups()}i&&(n(i.container,{cursor:i._cursor}),i.cancelClick=10<this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),this.zoomOption(),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(e){o[t.hoverChartIndex]&&o[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition;t=this.normalize(t,i),!i||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var i=o[t.hoverChartIndex];i&&(e.relatedTarget||e.toElement)&&(i.pointer.reset(),i.pointer.chartPosition=null)},onContainerMouseMove:function(e){var i=this.chart;s(t.hoverChartIndex)&&o[t.hoverChartIndex]&&o[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=i.index),e=this.normalize(e),e.returnValue=!1,"mousedown"===i.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!i.isInsidePlot(e.chartX-i.plotLeft,e.chartY-i.plotTop)||i.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var o;t;){if(o=i(t,"class")){if(-1!==o.indexOf(e))return!0;if(-1!==o.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,!e||!t||e.options.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,o=e.plotLeft,a=e.plotTop;t=this.normalize(t),e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(d(i.series,"click",h(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(h(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-o,t.chartY-a)&&d(e,"click",t)))},setDOMEvents:function(){var i=this,o=i.chart.container;o.onmousedown=function(t){i.onContainerMouseDown(t)},o.onmousemove=function(t){i.onContainerMouseMove(t)},o.onclick=function(t){i.onContainerClick(t)},e(o,"mouseleave",i.onContainerMouseLeave),1===t.chartCount&&e(r,"mouseup",i.onDocumentMouseUp),t.hasTouch&&(o.ontouchstart=function(t){i.onContainerTouchStart(t)},o.ontouchmove=function(t){i.onContainerTouchMove(t)},1===t.chartCount&&e(r,"touchend",i.onDocumentTouchEnd))},destroy:function(){var e;u(this.chart.container,"mouseleave",this.onContainerMouseLeave),t.chartCount||(u(r,"mouseup",this.onDocumentMouseUp),u(r,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}}}(t),function(t){var e=t.charts,i=t.each,o=t.extend,a=t.map,n=t.noop,s=t.pick;o(t.Pointer.prototype,{pinchTranslate:function(t,e,i,o,a,n){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,i,o,a,n),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,i,o,a,n)},pinchTranslateDirection:function(t,e,i,o,a,n,s,r){var l,h,d,c=this.chart,p=t?"x":"y",u=t?"X":"Y",m="chart"+u,f=t?"width":"height",g=c["plot"+(t?"Left":"Top")],v=r||1,y=c.inverted,_=c.bounds[t?"h":"v"],M=1===e.length,b=e[0][m],x=i[0][m],w=!M&&e[1][m],k=!M&&i[1][m];i=function(){!M&&20<Math.abs(b-w)&&(v=r||Math.abs(x-k)/Math.abs(b-w)),h=(g-x)/v+b,l=c["plot"+(t?"Width":"Height")]/v},i(),e=h,e<_.min?(e=_.min,d=!0):e+l>_.max&&(e=_.max-l,d=!0),d?(x-=.8*(x-s[p][0]),M||(k-=.8*(k-s[p][1])),i()):s[p]=[x,k],y||(n[p]=h-g,n[f]=l),n=y?1/v:v,a[f]=l,a[p]=e,o[y?t?"scaleY":"scaleX":"scale"+u]=v,o["translate"+u]=n*g+(x-n*b)},pinch:function(t){var e=this,r=e.chart,l=e.pinchDown,h=t.touches,d=h.length,c=e.lastValidTouch,p=e.hasZoom,u=e.selectionMarker,m={},f=1===d&&(e.inClass(t.target,"highcharts-tracker")&&r.runTrackerClick||e.runChartClick),g={};1<d&&(e.initiated=!0),p&&e.initiated&&!f&&t.preventDefault(),a(h,function(t){return e.normalize(t)}),"touchstart"===t.type?(i(h,function(t,e){l[e]={chartX:t.chartX,chartY:t.chartY}}),c.x=[l[0].chartX,l[1]&&l[1].chartX],c.y=[l[0].chartY,l[1]&&l[1].chartY],i(r.axes,function(t){if(t.zoomEnabled){var e=r.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,o=t.toPixels(s(t.options.min,t.dataMin)),a=t.toPixels(s(t.options.max,t.dataMax)),n=Math.max(o,a);e.min=Math.min(t.pos,Math.min(o,a)-i),e.max=Math.max(t.pos+t.len,n+i)}}),e.res=!0):l.length&&(u||(e.selectionMarker=u=o({destroy:n,touch:!0},r.plotBox)),e.pinchTranslate(l,h,m,u,g,c),e.hasPinched=p,e.scaleGroups(m,g),!p&&e.followTouchMove&&1===d?this.runPointActions(e.normalize(t)):e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,i){var o,a=this.chart;t.hoverChartIndex=a.index,1===e.touches.length?(e=this.normalize(e),a.isInsidePlot(e.chartX-a.plotLeft,e.chartY-a.plotTop)&&!a.openMenu?(i&&this.runPointActions(e),"touchmove"===e.type&&(i=this.pinchDown,o=!!i[0]&&4<=Math.sqrt(Math.pow(i[0].chartX-e.chartX,2)+Math.pow(i[0].chartY-e.chartY,2))),s(o,!0)&&this.pinch(e)):i&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(i){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(i)}})}(t),function(t){var e=t.addEvent,i=t.charts,o=t.css,a=t.doc,n=t.extend,s=t.noop,r=t.Pointer,l=t.removeEvent,h=t.win,d=t.wrap;if(h.PointerEvent||h.MSPointerEvent){var c={},p=!!h.PointerEvent,u=function(){var t,e=[];e.item=function(t){return this[t]};for(t in c)c.hasOwnProperty(t)&&e.push({pageX:c[t].pageX,pageY:c[t].pageY,target:c[t].target});return e},m=function(e,o,a,n){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!i[t.hoverChartIndex]||(n(e),n=i[t.hoverChartIndex].pointer,n[o]({type:a,target:e.currentTarget,preventDefault:s,touches:u()}))};n(r.prototype,{onContainerPointerDown:function(t){m(t,"onContainerTouchStart","touchstart",function(t){c[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){m(t,"onContainerTouchMove","touchmove",function(t){c[t.pointerId]={pageX:t.pageX,pageY:t.pageY},c[t.pointerId].target||(c[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){m(t,"onDocumentTouchEnd","touchend",function(t){delete c[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,p?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,p?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(a,p?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),d(r.prototype,"init",function(t,e,i){t.call(this,e,i),this.hasZoom&&o(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),d(r.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),d(r.prototype,"destroy",function(t){this.batchMSEvents(l),t.call(this)})}}(t),function(t){var e,i=t.addEvent,o=t.css,a=t.discardElement,n=t.defined,s=t.each,r=t.extend,l=t.isFirefox,h=t.marginNames,d=t.merge,c=t.pick,p=t.setAnimation,u=t.stableSort,m=t.win,f=t.wrap;e=t.Legend=function(t,e){this.init(t,e)},e.prototype={init:function(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),i(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(t){var e=c(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=d(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.initialItemX=this.padding=e,this.initialItemY=e-5,this.itemHeight=this.maxItemWidth=0,this.symbolWidth=c(t.symbolWidth,16),this.pages=[]},update:function(t,e){var i=this.chart;this.setOptions(d(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,c(e,!0)&&i.redraw()},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var i,o=this.options,a=t.legendItem,n=t.legendLine,s=t.legendSymbol,r=this.itemHiddenStyle.color,o=e?o.itemStyle.color:r,l=e?t.color||r:r,h=t.options&&t.options.marker,d={fill:l};if(a&&a.css({fill:o,color:o}),n&&n.attr({stroke:l}),s){if(h&&s.isMarker&&(d=t.pointAttribs(),!e))for(i in d)d[i]=r;s.attr(d)}},positionItem:function(t){var e=this.options,i=e.symbolPadding,e=!e.rtl,o=t._legendItemPos,a=o[0],o=o[1],n=t.checkbox;(t=t.legendGroup)&&t.element&&t.translate(e?a:this.legendWidth-a-2*i-4,o),n&&(n.x=a,n.y=o)},destroyItem:function(t){var e=t.checkbox;s(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&a(t.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),s(this.getAllItems(),function(t){s(["legendItem","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())})}),t&&(this.group=t.destroy())},positionCheckboxes:function(t){var e,i=this.group.alignAttr,a=this.clipHeight||this.legendHeight,n=this.titleHeight;i&&(e=i.translateY,s(this.allItems,function(s){var r,l=s.checkbox;l&&(r=e+n+l.y+(t||0)+3,o(l,{left:i.translateX+s.checkboxOffset+l.x-20+"px",top:r+"px",display:r>e-6&&r<e+a-6?"":"none"}))}))},renderTitle:function(){var t=this.padding,e=this.options.title,i=0;e.text&&(this.title||(this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(e.style).add(this.group)),t=this.title.getBBox(),i=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},setText:function(e){var i=this.options;e.legendItem.attr({text:i.labelFormat?t.format(i.labelFormat,e):i.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,i=e.renderer,o=this.options,a="horizontal"===o.layout,n=this.symbolWidth,s=o.symbolPadding,r=this.itemStyle,l=this.itemHiddenStyle,h=this.padding,p=a?c(o.itemDistance,20):0,u=!o.rtl,m=o.width,f=o.itemMarginBottom||0,g=this.itemMarginTop,v=this.initialItemX,y=t.legendItem,_=!t.series,M=!_&&t.series.drawLegendSymbol?t.series:t,b=M.options,b=this.createCheckboxForItem&&b&&b.showCheckbox,x=o.useHTML;y||(t.legendGroup=i.g("legend-item").addClass("highcharts-"+M.type+"-series highcharts-color-"+t.colorIndex+" "+(t.options.className||"")+(_?"highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=y=i.text("",u?n+s:-s,this.baseline||0,x).css(d(t.visible?r:l)).attr({align:u?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(r=r.fontSize,this.fontMetrics=i.fontMetrics(r,y),this.baseline=this.fontMetrics.f+3+g,y.attr("y",this.baseline)),M.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,y,x),b&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),this.setText(t),i=y.getBBox(),n=t.checkboxOffset=o.itemWidth||t.legendItemWidth||n+s+i.width+p+(b?20:0),this.itemHeight=s=Math.round(t.legendItemHeight||i.height),a&&this.itemX-v+n>(m||e.chartWidth-2*h-v-o.x)&&(this.itemX=v,this.itemY+=g+this.lastLineHeight+f,this.lastLineHeight=0),this.maxItemWidth=Math.max(this.maxItemWidth,n),this.lastItemY=g+this.itemY+f,this.lastLineHeight=Math.max(s,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],a?this.itemX+=n:(this.itemY+=g+s+f,this.lastLineHeight=s),this.offsetWidth=m||Math.max((a?this.itemX-v-p:n)+h,this.offsetWidth)},getAllItems:function(){var t=[];return s(this.chart.series,function(e){var i=e&&e.options;e&&c(i.showInLegend,!n(i.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var i=this.chart,o=this.options,a=o.align.charAt(0)+o.verticalAlign.charAt(0)+o.layout.charAt(0);o.floating||s([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(s,r){s.test(a)&&!n(t[r])&&(i[h[r]]=Math.max(i[h[r]],i.legend[(r+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][r]*o[r%2?"x":"y"]+c(o.margin,12)+e[r]))})},render:function(){var t,e,i,o,a=this,n=a.chart,l=n.renderer,h=a.group,d=a.box,c=a.options,p=a.padding;a.itemX=a.initialItemX,a.itemY=a.initialItemY,a.offsetWidth=0,a.lastItemY=0,h||(a.group=h=l.g("legend").attr({zIndex:7}).add(),a.contentGroup=l.g().attr({zIndex:1}).add(h),a.scrollGroup=l.g().add(a.contentGroup)),a.renderTitle(),t=a.getAllItems(),u(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),c.reversed&&t.reverse(),a.allItems=t,a.display=e=!!t.length,a.lastLineHeight=0,s(t,function(t){a.renderItem(t)}),i=(c.width||a.offsetWidth)+p,o=a.lastItemY+a.lastLineHeight+a.titleHeight,o=a.handleOverflow(o),o+=p,d||(a.box=d=l.rect().addClass("highcharts-legend-box").attr({r:c.borderRadius}).add(h),d.isNew=!0),d.attr({stroke:c.borderColor,"stroke-width":c.borderWidth||0,fill:c.backgroundColor||"none"}).shadow(c.shadow),0<i&&0<o&&(d[d.isNew?"attr":"animate"](d.crisp({x:0,y:0,width:i,height:o},d.strokeWidth())),d.isNew=!1),d[e?"show":"hide"](),a.legendWidth=i,a.legendHeight=o,s(t,function(t){a.positionItem(t)}),e&&h.align(r({width:i,height:o},c),!0,"spacingBox"),n.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,o=this,a=this.chart,n=a.renderer,r=this.options,l=r.y,l=a.spacingBox.height+("top"===r.verticalAlign?-l:l)-this.padding,h=r.maxHeight,d=this.clipRect,p=r.navigation,u=c(p.animation,!0),m=p.arrowSize||12,f=this.nav,g=this.pages,v=this.padding,y=this.allItems,_=function(t){d.attr({height:t}),o.contentGroup.div&&(o.contentGroup.div.style.clip="rect("+v+"px,9999px,"+(v+t)+"px,0)")};return"horizontal"===r.layout&&(l/=2),h&&(l=Math.min(l,h)),g.length=0,t>l&&!1!==p.enabled?(this.clipHeight=e=Math.max(l-20-this.titleHeight-v,0),this.currentPage=c(this.currentPage,1),this.fullHeight=t,s(y,function(t,o){var a=t._legendItemPos[1];t=Math.round(t.legendItem.getBBox().height);var n=g.length;(!n||a-g[n-1]>e&&(i||a)!==g[n-1])&&(g.push(i||a),n++),o===y.length-1&&a+t-g[n-1]>e&&g.push(a),a!==i&&(i=a)}),d||(d=o.clipRect=n.clipRect(0,v,9999,0),o.contentGroup.clip(d)),_(e),f||(this.nav=f=n.g().attr({zIndex:1}).add(this.group),this.up=n.symbol("triangle",0,0,m,m).on("click",function(){o.scroll(-1,u)}).add(f),this.pager=n.text("",15,10).addClass("highcharts-legend-navigation").css(p.style).add(f),this.down=n.symbol("triangle-down",0,0,m,m).on("click",function(){o.scroll(1,u)}).add(f)),o.scroll(0),t=l):f&&(_(a.chartHeight),f.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,o=i.length;t=this.currentPage+t;var a=this.clipHeight,n=this.options.navigation,s=this.pager,r=this.padding;t>o&&(t=o),0<t&&(void 0!==e&&p(e,this.chart),this.nav.attr({translateX:r,translateY:a+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),s.attr({text:t+"/"+o}),this.down.attr({x:18+this.pager.getBBox().width,class:t===o?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===t?n.inactiveColor:n.activeColor}).css({cursor:1===t?"default":"pointer"}),this.down.attr({fill:t===o?n.inactiveColor:n.activeColor}).css({cursor:t===o?"default":"pointer"}),e=-i[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:e}),this.currentPage=t,this.positionCheckboxes(e))}},t.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options,o=i.symbolHeight||t.fontMetrics.f,i=i.squareSymbol;e.legendSymbol=this.chart.renderer.rect(i?(t.symbolWidth-o)/2:0,t.baseline-o+1,i?o:t.symbolWidth,o,c(t.options.symbolRadius,o/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e=this.options,i=e.marker,o=t.symbolWidth,a=this.chart.renderer,n=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b);var s;s={"stroke-width":e.lineWidth||0},e.dashStyle&&(s.dashstyle=e.dashStyle),this.legendLine=a.path(["M",0,t,"L",o,t]).addClass("highcharts-graph").attr(s).add(n),i&&!1!==i.enabled&&(e=0===this.symbol.indexOf("url")?0:i.radius,this.legendSymbol=i=a.symbol(this.symbol,o/2-e,t-e,2*e,2*e,i).addClass("highcharts-point").add(n),i.isMarker=!0)}},(/Trident\/7\.0/.test(m.navigator.userAgent)||l)&&f(e.prototype,"positionItem",function(t,e){var i=this,o=function(){e._legendItemPos&&t.call(i,e)};o(),setTimeout(o)})}(t),function(t){var e=t.addEvent,i=t.animate,o=t.animObject,a=t.attr,n=t.doc,s=t.Axis,r=t.createElement,l=t.defaultOptions,h=t.discardElement,d=t.charts,c=t.css,p=t.defined,u=t.each,m=t.error,f=t.extend,g=t.fireEvent,v=t.getStyle,y=t.grep,_=t.isNumber,M=t.isObject,b=t.isString,x=t.Legend,w=t.marginNames,k=t.merge,C=t.Pointer,D=t.pick,O=t.pInt,E=t.removeEvent,T=t.seriesTypes,P=t.splat,S=t.svg,A=t.syncTimeout,L=t.win,V=t.Renderer,$=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,i){return new $(t,e,i)},$.prototype={callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(b(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(i,o){var a,n=i.series;i.series=null,a=k(l,i),a.series=i.series=n,this.userOptions=i,this.respRules=[],i=a.chart,n=i.events,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.callback=o,this.isResizing=0,this.options=a,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes;var s;if(this.index=d.length,d.push(this),t.chartCount++,n)for(s in n)e(this,s,n[s]);this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.firstRender()},initSeries:function(t){var e=this.options.chart;return(e=T[t.type||e.type||e.defaultSeriesType])||m(17,!0),e=new e,e.init(this,t),e},isInsidePlot:function(t,e,i){var o=i?e:t;return t=i?t:e,0<=o&&o<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(e){var i,o,a=this.axes,n=this.series,s=this.pointer,r=this.legend,l=this.isDirtyLegend,h=this.hasCartesianSeries,d=this.isDirtyBox,c=n.length,p=c,m=this.renderer,v=m.isHidden(),y=[];for(t.setAnimation(e,this),v&&this.cloneRenderTo(),this.layOutTitles();p--;)if(e=n[p],e.options.stacking&&(i=!0,e.isDirty)){o=!0;break}if(o)for(p=c;p--;)e=n[p],e.options.stacking&&(e.isDirty=!0);u(n,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),l=!0),t.isDirtyData&&g(t,"updatedData")}),l&&r.options.enabled&&(r.render(),this.isDirtyLegend=!1),i&&this.getStacks(),h&&u(a,function(t){t.updateNames(),t.setScale()}),this.getMargins(),h&&(u(a,function(t){t.isDirty&&(d=!0)}),u(a,function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,y.push(function(){g(t,"afterSetExtremes",f(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(d||i)&&t.redraw()})),d&&this.drawChartBox(),u(n,function(t){(d||t.isDirty)&&t.visible&&t.redraw()}),s&&s.reset(!0),m.draw(),g(this,"redraw"),v&&this.cloneRenderTo(!0),u(y,function(t){t.call()})},get:function(t){var e,i,o=this.axes,a=this.series;for(e=0;e<o.length;e++)if(o[e].options.id===t)return o[e];for(e=0;e<a.length;e++)if(a[e].options.id===t)return a[e];for(e=0;e<a.length;e++)for(i=a[e].points||[],o=0;o<i.length;o++)if(i[o].id===t)return i[o];return null},getAxes:function(){var t=this,e=this.options,i=e.xAxis=P(e.xAxis||{}),e=e.yAxis=P(e.yAxis||{});u(i,function(t,e){t.index=e,t.isX=!0}),u(e,function(t,e){t.index=e}),i=i.concat(e),u(i,function(e){new s(t,e)})},getSelectedPoints:function(){var t=[];return u(this.series,function(e){t=t.concat(y(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return y(this.series,function(t){return t.selected})},setTitle:function(t,e,i){var o,a=this,n=a.options;o=n.title=k(n.title,t),n=n.subtitle=k(n.subtitle,e),u([["title",t,o],["subtitle",e,n]],function(t,e){var i=t[0],o=a[i],n=t[1];t=t[2],o&&n&&(a[i]=o=o.destroy()),t&&t.text&&!o&&(a[i]=a.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+i,zIndex:t.zIndex||4}).add(),a[i].update=function(t){a.setTitle(!e&&t,e&&t)},a[i].css(t.style))}),a.layOutTitles(i)},layOutTitles:function(t){var e,i=0,o=this.renderer,a=this.spacingBox;u(["title","subtitle"],function(t){var e,n=this[t],s=this.options[t];n&&(e=s.style.fontSize,e=o.fontMetrics(e,n).b,n.css({width:(s.width||a.width+s.widthAdjust)+"px"}).align(f({y:i+e+("title"===t?-3:2)},s),!1,"spacingBox"),s.floating||s.verticalAlign||(i=Math.ceil(i+n.getBBox().height)))},this),e=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&e&&(this.isDirtyBox=e,this.hasRendered&&D(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this.options.chart,e=t.width,t=t.height,i=this.renderToClone||this.renderTo;p(e)||(this.containerWidth=v(i,"width")),p(t)||(this.containerHeight=v(i,"height")),this.chartWidth=Math.max(0,e||this.containerWidth||600),this.chartHeight=Math.max(0,D(t,19<this.containerHeight?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;if(t){if(e){for(;e.childNodes.length;)this.renderTo.appendChild(e.firstChild);h(e),delete this.renderToClone}}else i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),c(e,{position:"absolute",top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),n.body.appendChild(e),i&&e.appendChild(i)},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,i,o,s=this.options,l=s.chart;e=this.renderTo;var h,c="highcharts-"+t.idCounter++;e||(this.renderTo=e=l.renderTo),b(e)&&(this.renderTo=e=n.getElementById(e)),e||m(13,!0),i=O(a(e,"data-highcharts-chart")),_(i)&&d[i]&&d[i].hasRendered&&d[i].destroy(),a(e,"data-highcharts-chart",this.index),e.innerHTML="",l.skipClone||e.offsetWidth||this.cloneRenderTo(),this.getChartSize(),i=this.chartWidth,o=this.chartHeight,h=f({position:"relative",overflow:"hidden",width:i+"px",height:o+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},l.style),this.container=e=r("div",{id:c},h,this.renderToClone||e),this._cursor=e.style.cursor,this.renderer=new(t[l.renderer]||V)(e,i,o,null,l.forExport,s.exporting&&s.exporting.allowHTML),this.setClassName(l.className),this.renderer.setStyle(l.style),this.renderer.chartIndex=this.index},getMargins:function(t){var e=this.spacing,i=this.margin,o=this.titleOffset;this.resetMargins(),o&&!p(i[0])&&(this.plotTop=Math.max(this.plotTop,o+this.options.title.margin+e[0])),this.legend.display&&this.legend.adjustMargins(i,e),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&u(t.axes,function(t){t.visible&&t.getOffset()}),u(w,function(o,a){p(i[a])||(t[o]+=e[a])}),t.setChartSize()},reflow:function(t){var e=this,i=e.options.chart,o=e.renderTo,a=p(i.width),s=i.width||v(o,"width"),i=i.height||v(o,"height"),o=t?t.target:L;a||e.isPrinting||!s||!i||o!==L&&o!==n||(s===e.containerWidth&&i===e.containerHeight||(clearTimeout(e.reflowTimeout),e.reflowTimeout=A(function(){e.container&&e.setSize(void 0,void 0,!1)},t?100:0)),e.containerWidth=s,e.containerHeight=i)},initReflow:function(){var t=this,i=function(e){t.reflow(e)};e(L,"resize",i),e(t,"destroy",function(){E(L,"resize",i)})},setSize:function(e,a,n){var s=this,r=s.renderer;s.isResizing+=1,t.setAnimation(n,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,void 0!==e&&(s.options.chart.width=e),void 0!==a&&(s.options.chart.height=a),s.getChartSize(),e=r.globalAnimation,(e?i:c)(s.container,{width:s.chartWidth+"px",height:s.chartHeight+"px"},e),s.setChartSize(!0),r.setSize(s.chartWidth,s.chartHeight,n),u(s.axes,function(t){t.isDirty=!0,t.setScale()}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.setResponsive&&s.setResponsive(!1),s.redraw(n),s.oldChartHeight=null,g(s,"resize"),A(function(){s&&g(s,"endResize",null,function(){--s.isResizing})},o(e).duration)},setChartSize:function(t){var e,i,o,a,n=this.inverted,s=this.renderer,r=this.chartWidth,l=this.chartHeight,h=this.options.chart,d=this.spacing,c=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=i=Math.round(this.plotTop),this.plotWidth=o=Math.max(0,Math.round(r-e-this.marginRight)),this.plotHeight=a=Math.max(0,Math.round(l-i-this.marginBottom)),this.plotSizeX=n?a:o,this.plotSizeY=n?o:a,this.plotBorderWidth=h.plotBorderWidth||0,this.spacingBox=s.spacingBox={x:d[3],y:d[0],width:r-d[3]-d[1],height:l-d[0]-d[2]},this.plotBox=s.plotBox={x:e,y:i,width:o,height:a},r=2*Math.floor(this.plotBorderWidth/2),n=Math.ceil(Math.max(r,c[3])/2),s=Math.ceil(Math.max(r,c[0])/2),this.clipBox={x:n,y:s,width:Math.floor(this.plotSizeX-Math.max(r,c[1])/2-n),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(r,c[2])/2-s))},t||u(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this,e=t.options.chart;u(["margin","spacing"],function(i){var o=e[i],a=M(o)?o:[o,o,o,o];u(["Top","Right","Bottom","Left"],function(o,n){t[i][n]=D(e[i+o],a[n])})}),u(w,function(e,i){t[e]=D(t.margin[i],t.spacing[i])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i=this.options.chart,o=this.renderer,a=this.chartWidth,n=this.chartHeight,s=this.chartBackground,r=this.plotBackground,l=this.plotBorder,h=this.plotBGImage,d=i.backgroundColor,c=i.plotBackgroundColor,p=i.plotBackgroundImage,u=this.plotLeft,m=this.plotTop,f=this.plotWidth,g=this.plotHeight,v=this.plotBox,y=this.clipRect,_=this.clipBox,M="animate";s||(this.chartBackground=s=o.rect().addClass("highcharts-background").add(),M="attr"),t=i.borderWidth||0,e=t+(i.shadow?8:0),d={fill:d||"none"},(t||s["stroke-width"])&&(d.stroke=i.borderColor,d["stroke-width"]=t),s.attr(d).shadow(i.shadow),s[M]({x:e/2,y:e/2,width:a-e-t%2,height:n-e-t%2,r:i.borderRadius}),M="animate",r||(M="attr",this.plotBackground=r=o.rect().addClass("highcharts-plot-background").add()),r[M](v),r.attr({fill:c||"none"}).shadow(i.plotShadow),p&&(h?h.animate(v):this.plotBGImage=o.image(p,u,m,f,g).add()),y?y.animate({width:_.width,height:_.height}):this.clipRect=o.clipRect(_),M="animate",l||(M="attr",this.plotBorder=l=o.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l.attr({stroke:i.plotBorderColor,"stroke-width":i.plotBorderWidth||0,fill:"none"}),l[M](l.crisp({x:u,y:m,width:f,height:g},-l.strokeWidth())),this.isDirtyBox=!1},propFromSeries:function(){var t,e,i,o=this,a=o.options.chart,n=o.options.series;u(["inverted","angular","polar"],function(s){for(t=T[a.type||a.defaultSeriesType],i=a[s]||t&&t.prototype[s],e=n&&n.length;!i&&e--;)(t=T[n[e].type])&&t.prototype[s]&&(i=!0);o[s]=i})},linkSeries:function(){var t=this,e=t.series;u(e,function(t){t.linkedSeries.length=0}),u(e,function(e){var i=e.options.linkedTo;b(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&i.linkedParent!==e&&(i.linkedSeries.push(e),e.linkedParent=i,e.visible=D(e.options.visible,i.options.visible,e.visible))})},renderSeries:function(){u(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&u(e.items,function(i){var o=f(e.style,i.style),a=O(o.left)+t.plotLeft,n=O(o.top)+t.plotTop+12;delete o.left,delete o.top,t.renderer.text(i.html,a,n).attr({zIndex:2}).css(o).add()})},render:function(){var t,e,i,o=this.axes,a=this.renderer,n=this.options;this.setTitle(),this.legend=new x(this,n.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),n=this.plotWidth,t=this.plotHeight-=21,u(o,function(t){t.setScale()}),this.getAxisMargins(),e=1.1<n/this.plotWidth,i=1.05<t/this.plotHeight,(e||i)&&(u(o,function(t){(t.horiz&&e||!t.horiz&&i)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&u(o,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=a.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;t=k(!0,this.options.credits,t),t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(L.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,i=this,o=i.axes,a=i.series,n=i.container,s=n&&n.parentNode;for(g(i,"destroy"),d[i.index]=void 0,t.chartCount--,i.renderTo.removeAttribute("data-highcharts-chart"),E(i),e=o.length;e--;)o[e]=o[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=a.length;e--;)a[e]=a[e].destroy();u("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(t){var e=i[t];e&&e.destroy&&(i[t]=e.destroy())}),n&&(n.innerHTML="",E(n),s&&h(n));for(e in i)delete i[e]},isReadyToRender:function(){var t=this;return!(!S&&L==L.top&&"complete"!==n.readyState)||(n.attachEvent("onreadystatechange",function(){n.detachEvent("onreadystatechange",t.firstRender),"complete"===n.readyState&&t.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options;t.isReadyToRender()&&(t.getContainer(),g(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),u(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),g(t,"beforeRender"),C&&(t.pointer=new C(t,e)),t.render(),t.renderer.draw(),!t.renderer.imgCount&&t.onload&&t.onload(),t.cloneRenderTo(!0))},onload:function(){u([this.callback].concat(this.callbacks),function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),g(this,"load"),!1!==this.options.chart.reflow&&this.initReflow(),this.onload=null}}}(t),function(t){var e,i=t.each,o=t.extend,a=t.erase,n=t.fireEvent,s=t.format,r=t.isArray,l=t.isNumber,h=t.pick,d=t.removeEvent;e=t.Point=function(){},e.prototype={init:function(t,e,i){return this.series=t,this.color=t.color,this.applyOptions(e,i),t.options.colorByPoint?(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length,i=t.colorCounter,++t.colorCounter===e&&(t.colorCounter=0)):i=t.colorIndex,this.colorIndex=h(this.colorIndex,i),t.chart.pointCount++,this},applyOptions:function(t,i){var a=this.series,n=a.options.pointValKey||a.pointValKey;return t=e.prototype.optionsToObject.call(this,t),o(this,t),this.options=this.options?o(this.options,t):t,t.group&&delete this.group,n&&(this.y=this[n]),this.isNull=h(this.isValid&&!this.isValid(),null===this.x||!l(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===i&&a.xAxis&&a.xAxis.hasNames&&(this.x=a.xAxis.nameToX(this)),void 0===this.x&&a&&(this.x=void 0===i?a.autoIncrement(this):i),this},optionsToObject:function(t){var e={},i=this.series,o=i.options.keys,a=o||i.pointArrayMap||["y"],n=a.length,s=0,h=0;if(l(t)||null===t)e[a[0]]=t;else if(r(t))for(!o&&t.length>n&&(i=typeof t[0],"string"===i?e.name=t[0]:"number"===i&&(e.x=t[0]),s++);h<n;)o&&void 0===t[s]||(e[a[h]]=t[s]),s++,h++;else"object"==typeof t&&(e=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")},getZone:function(){var t,e=this.series,i=e.zones,e=e.zoneAxis||"y",o=0;for(t=i[o];this[e]>=t.value;)t=i[++o];return t&&t.color&&!this.options.color&&(this.color=t.color),t},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;e.pointCount--,i&&(this.setState(),a(i,this),i.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(d(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,o=e.tooltipOptions,a=h(o.valueDecimals,""),n=o.valuePrefix||"",r=o.valueSuffix||"";return i(e.pointArrayMap||["y"],function(e){e="{point."+e,(n||r)&&(t=t.replace(e+"}",n+e+"}"+r)),t=t.replace(e+"}",e+":,."+a+"f}")}),s(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var o=this,a=this.series.options;(a.point.events[t]||o.options&&o.options.events&&o.options.events[t])&&this.importEvents(),"click"===t&&a.allowPointSelect&&(i=function(t){o.select&&o.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),n(this,t,e,i)},visible:!0}}(t),function(t){var e=t.addEvent,i=t.animObject,o=t.arrayMax,a=t.arrayMin,n=t.correctFloat,s=t.Date,r=t.defaultOptions,l=t.defaultPlotOptions,h=t.defined,d=t.each,c=t.erase,p=t.error,u=t.extend,m=t.fireEvent,f=t.grep,g=t.isArray,v=t.isNumber,y=t.isString,_=t.merge,M=t.pick,b=t.removeEvent,x=t.splat,w=t.stableSort,k=t.SVGElement,C=t.syncTimeout,D=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textShadow:"1px 1px contrast, -1px -1px contrast, -1px 1px contrast, 1px -1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3},{isCartesian:!0,pointClass:t.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,i){var o,a,n=this,s=t.series,r=function(t,e){return M(t.options.index,t._i)-M(e.options.index,e._i)};n.chart=t,n.options=i=n.setOptions(i),n.linkedSeries=[],n.bindAxes(),u(n,{name:i.name,state:"",visible:!1!==i.visible,selected:!0===i.selected}),a=i.events;for(o in a)e(n,o,a[o]);(a&&a.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(t.runTrackerClick=!0),n.getColor(),n.getSymbol(),d(n.parallelArrays,function(t){n[t+"Data"]=[]}),n.setData(i.data,!1),n.isCartesian&&(t.hasCartesianSeries=!0),s.push(n),n._i=s.length-1,w(s,r),this.yAxis&&w(this.yAxis.series,r),d(s,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,i=e.options,o=e.chart;d(e.axisTypes||[],function(a){d(o[a],function(o){t=o.options,(i[a]===t.index||void 0!==i[a]&&i[a]===t.id||void 0===i[a]&&0===t.index)&&(o.series.push(e),e[a]=o,o.isDirty=!0)}),e[a]||e.optionalAxis===a||p(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,o=arguments,a=v(e)?function(o){var a="y"===o&&i.toYData?i.toYData(t):t[o];i[o+"Data"][e]=a}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(o,2))};d(i.parallelArrays,a)},autoIncrement:function(){var t,e=this.options,i=this.xIncrement,o=e.pointIntervalUnit,i=M(i,e.pointStart,0);return this.pointInterval=t=M(this.pointInterval,e.pointInterval,1),o&&(e=new s(i),"day"===o?e=+e[s.hcSetDate](e[s.hcGetDate]()+t):"month"===o?e=+e[s.hcSetMonth](e[s.hcGetMonth]()+t):"year"===o&&(e=+e[s.hcSetFullYear](e[s.hcGetFullYear]()+t)),t=e-i),this.xIncrement=i+t,i},setOptions:function(t){var e=this.chart,i=e.options.plotOptions,e=e.userOptions||{},o=e.plotOptions||{},a=i[this.type];return this.userOptions=t,i=_(a,i.series,t),this.tooltipOptions=_(r.tooltip,r.plotOptions[this.type].tooltip,e.tooltip,o.series&&o.series.tooltip,o[this.type]&&o[this.type].tooltip,t.tooltip),null===a.marker&&delete i.marker,this.zoneAxis=i.zoneAxis,t=this.zones=(i.zones||[]).slice(),!i.negativeColor&&!i.negativeFillColor||i.zones||t.push({value:i[this.zoneAxis+"Threshold"]||i.threshold||0,className:"highcharts-negative",color:i.negativeColor,fillColor:i.negativeFillColor}),t.length&&h(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),i},getCyclic:function(t,e,i){var o,a=this.userOptions,n=t+"Index",s=t+"Counter",r=i?i.length:M(this.chart.options.chart[t+"Count"],this.chart[t+"Count"]);e||(o=M(a[n],a["_"+n]),h(o)||(a["_"+n]=o=this.chart[s]%r,this.chart[s]+=1),i&&(e=i[o])),void 0!==o&&(this[n]=o),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||l[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,setData:function(t,e,i,o){var a,n=this,s=n.points,r=s&&s.length||0,l=n.options,h=n.chart,c=null,u=n.xAxis,m=l.turboThreshold,f=this.xData,_=this.yData,b=(a=n.pointArrayMap)&&a.length;if(t=t||[],a=t.length,e=M(e,!0),!1!==o&&a&&r===a&&!n.cropped&&!n.hasGroupedData&&n.visible)d(t,function(t,e){s[e].update&&t!==l.data[e]&&s[e].update(t,!1,null,!1)});else{if(n.xIncrement=null,n.colorCounter=0,d(this.parallelArrays,function(t){n[t+"Data"].length=0}),m&&a>m){for(i=0;null===c&&i<a;)c=t[i],i++;if(v(c))for(i=0;i<a;i++)f[i]=this.autoIncrement(),_[i]=t[i];else if(g(c))if(b)for(i=0;i<a;i++)c=t[i],f[i]=c[0],_[i]=c.slice(1,b+1);else for(i=0;i<a;i++)c=t[i],f[i]=c[0],_[i]=c[1];else p(12)}else for(i=0;i<a;i++)void 0!==t[i]&&(c={series:n},n.pointClass.prototype.applyOptions.apply(c,[t[i]]),n.updateParallelArrays(c,i));for(y(_[0])&&p(14,!0),n.data=[],n.options.data=n.userOptions.data=t,i=r;i--;)s[i]&&s[i].destroy&&s[i].destroy();u&&(u.minRange=u.userMinRange),n.isDirty=h.isDirtyBox=!0,n.isDirtyData=!!s,i=!1}"point"===l.legendType&&(this.processData(),this.generatePoints()),e&&h.redraw(i)},processData:function(t){var e,i=this.xData,o=this.yData,a=i.length;e=0;var n,s,r,l=this.xAxis,h=this.options;r=h.cropThreshold;var d,c,u=this.getExtremesFromAll||h.getExtremesFromAll,m=this.isCartesian,h=l&&l.val2lin,f=l&&l.isLog;if(m&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(l&&(t=l.getExtremes(),d=t.min,c=t.max),m&&this.sorted&&!u&&(!r||a>r||this.forceCrop)&&(i[a-1]<d||i[0]>c?(i=[],o=[]):(i[0]<d||i[a-1]>c)&&(e=this.cropData(this.xData,this.yData,d,c),i=e.xData,o=e.yData,e=e.start,n=!0)),r=i.length||1;--r;)a=f?h(i[r])-h(i[r-1]):i[r]-i[r-1],0<a&&(void 0===s||a<s)?s=a:0>a&&this.requireSorting&&p(15);this.cropped=n,this.cropStart=e,this.processedXData=i,this.processedYData=o,this.closestPointRange=s},cropData:function(t,e,i,o){var a,n=t.length,s=0,r=n,l=M(this.cropShoulder,1);for(a=0;a<n;a++)if(t[a]>=i){s=Math.max(0,a-l);break}for(i=a;i<n;i++)if(t[i]>o){r=i+l;break}return{xData:t.slice(s,r),yData:e.slice(s,r),start:s,end:r}},generatePoints:function(){var t,e,i,o,a=this.options.data,n=this.data,s=this.processedXData,r=this.processedYData,l=this.pointClass,h=s.length,d=this.cropStart||0,c=this.hasGroupedData,p=[];for(n||c||(n=[],n.length=a.length,n=this.data=n),o=0;o<h;o++)e=d+o,c?(p[o]=(new l).init(this,[s[o]].concat(x(r[o]))),p[o].dataGroup=this.groupMap[o]):(n[e]?i=n[e]:void 0!==a[e]&&(n[e]=i=(new l).init(this,a[e],s[o])),p[o]=i),p[o].index=e;if(n&&(h!==(t=n.length)||c))for(o=0;o<t;o++)o!==d||c||(o+=h),n[o]&&(n[o].destroyElements(),n[o].plotX=void 0);this.data=n,this.points=p},getExtremes:function(t){var e,i=this.yAxis,n=this.processedXData,s=[],r=0;e=this.xAxis.getExtremes();var l,h,d,c,p=e.min,u=e.max;for(t=t||this.stackedYData||this.processedYData||[],e=t.length,c=0;c<e;c++)if(h=n[c],d=t[c],l=(v(d,!0)||g(d))&&(!i.isLog||d.length||0<d),h=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(n[c+1]||h)>=p&&(n[c-1]||h)<=u,l&&h)if(l=d.length)for(;l--;)null!==d[l]&&(s[r++]=d[l]);else s[r++]=d;this.dataMin=a(s),this.dataMax=o(s)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,e,i,o,a=this.options,s=a.stacking,r=this.xAxis,l=r.categories,d=this.yAxis,c=this.points,p=c.length,u=!!this.modifyValue,m=a.pointPlacement,f="between"===m||v(m),g=a.threshold,y=a.startFromThreshold?g:0,_=Number.MAX_VALUE,a=0;a<p;a++){var b=c[a],x=b.x,w=b.y;e=b.low;var k,C=s&&d.stacks[(this.negStacks&&w<(y?0:g)?"-":"")+this.stackKey];d.isLog&&null!==w&&0>=w&&(b.isNull=!0),b.plotX=t=n(Math.min(Math.max(-1e5,r.translate(x,0,0,0,1,m,"flags"===this.type)),1e5)),s&&this.visible&&!b.isNull&&C&&C[x]&&(o=this.getStackIndicator(o,x,this.index),k=C[x],w=k.points[o.key],e=w[0],w=w[1],e===y&&o.key===C[x].base&&(e=M(g,d.min)),d.isLog&&0>=e&&(e=null),b.total=b.stackTotal=k.total,b.percentage=k.total&&b.y/k.total*100,b.stackY=w,k.setOffset(this.pointXOffset||0,this.barW||0)),b.yBottom=h(e)?d.translate(e,0,1,0,1):null,u&&(w=this.modifyValue(w,b)),b.plotY=e="number"==typeof w&&1/0!==w?Math.min(Math.max(-1e5,d.translate(w,0,1,0,1)),1e5):void 0,b.isInside=void 0!==e&&0<=e&&e<=d.len&&0<=t&&t<=r.len,b.clientX=f?n(r.translate(x,0,0,0,1,m)):t,b.negative=b.y<(g||0),b.category=l&&void 0!==l[b.x]?l[b.x]:b.x,b.isNull||(void 0!==i&&(_=Math.min(_,Math.abs(t-i))),i=t)}this.closestPointRangePx=_},getValidPoints:function(t,e){var i=this.chart;return f(t||this.points||[],function(t){return!(e&&!i.isInsidePlot(t.plotX,t.plotY,i.inverted))&&!t.isNull})},setClip:function(t){var e=this.chart,i=this.options,o=e.renderer,a=e.inverted,n=this.clipBox,s=n||e.clipBox,r=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,s.height,i.xAxis,i.yAxis].join(),l=e[r],h=e[r+"m"];l||(t&&(s.width=0,e[r+"m"]=h=o.clipRect(-99,a?-e.plotLeft:-e.plotTop,99,a?e.chartWidth:e.chartHeight)),e[r]=l=o.clipRect(s),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==i.clip&&(this.group.clip(t||n?l:e.clipRect),this.markerGroup.clip(h),this.sharedClipKey=r),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&r&&e[r]&&(n||(e[r]=e[r].destroy()),e[r+"m"]&&(e[r+"m"]=e[r+"m"].destroy())))},animate:function(t){var e,o=this.chart,a=i(this.options.animation);t?this.setClip(a):(e=this.sharedClipKey,(t=o[e])&&t.animate({width:o.plotSizeX},a),o[e+"m"]&&o[e+"m"].animate({width:o.plotSizeX+99},a),this.animate=null)},afterAnimate:function(){this.setClip(),m(this,"afterAnimate")},drawPoints:function(){var t,e,i,o,a,n,s,r,l=this.points,h=this.chart,d=this.options.marker,c=this.markerGroup,p=M(d.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>2*d.radius);if(!1!==d.enabled||this._hasPointMarkers)for(e=l.length;e--;)i=l[e],t=i.plotY,o=i.graphic,a=i.marker||{},n=!!i.marker,s=p&&void 0===a.enabled||a.enabled,r=i.isInside,s&&v(t)&&null!==i.y?(t=M(a.symbol,this.symbol),i.hasImage=0===t.indexOf("url"),s=this.markerAttribs(i,i.selected&&"select"),o?o[r?"show":"hide"](!0).animate(s):r&&(0<s.width||i.hasImage)&&(i.graphic=o=h.renderer.symbol(t,s.x,s.y,s.width,s.height,n?a:d).add(c)),o&&o.attr(this.pointAttribs(i,i.selected&&"select")),o&&o.addClass(i.getClassName(),!0)):o&&(i.graphic=o.destroy())},markerAttribs:function(t,e){var i=this.options.marker,o=t&&t.options,a=o&&o.marker||{},o=M(a.radius,i.radius);return e&&(i=i.states[e],e=a.states&&a.states[e],o=M(e&&e.radius,i&&i.radius,o+(i&&i.radiusPlus||0))),t.hasImage&&(o=0),t={x:Math.floor(t.plotX)-o,y:t.plotY-o},o&&(t.width=t.height=2*o),t},pointAttribs:function(t,e){var i,o=this.options.marker,a=t&&t.options,n=a&&a.marker||{},s=o.lineWidth,r=this.color,a=a&&a.color,l=t&&t.color;return t&&this.zones.length&&(t=t.getZone())&&t.color&&(i=t.color),r=a||i||l||r,i=n.fillColor||o.fillColor||r,r=n.lineColor||o.lineColor||r,e&&(o=o.states[e],e=n.states&&n.states[e]||{},s=o.lineWidth||s+o.lineWidthPlus,i=e.fillColor||o.fillColor||i,r=e.lineColor||o.lineColor||r),{stroke:r,"stroke-width":s,fill:i}},destroy:function(){var t,e,i,o,a=this,n=a.chart,s=/AppleWebKit\/533/.test(D.navigator.userAgent),r=a.data||[];for(m(a,"destroy"),b(a),d(a.axisTypes||[],function(t){(o=a[t])&&o.series&&(c(o.series,a),o.isDirty=o.forceRedraw=!0)}),a.legendItem&&a.chart.legend.destroyItem(a),t=r.length;t--;)(e=r[t])&&e.destroy&&e.destroy();a.points=null,clearTimeout(a.animationTimeout);for(i in a)a[i]instanceof k&&!a[i].survive&&(t=s&&"group"===i?"hide":"destroy",a[i][t]());n.hoverSeries===a&&(n.hoverSeries=null),c(n.series,a);for(i in a)delete a[i]},getGraphPath:function(t,e,i){var o,a,n=this,s=n.options,r=s.step,l=[],c=[];return t=t||n.points,(o=t.reversed)&&t.reverse(),(r={right:1,center:2}[r]||r&&3)&&o&&(r=4-r),!s.connectNulls||e||i||(t=this.getValidPoints(t)),d(t,function(o,d){var p=o.plotX,u=o.plotY,m=t[d-1];(o.leftCliff||m&&m.rightCliff)&&!i&&(a=!0),o.isNull&&!h(e)&&0<d?a=!s.connectNulls:o.isNull&&!e?a=!0:(0===d||a?d=["M",o.plotX,o.plotY]:n.getPointSpline?d=n.getPointSpline(t,o,d):r?(d=1===r?["L",m.plotX,u]:2===r?["L",(m.plotX+p)/2,m.plotY,"L",(m.plotX+p)/2,u]:["L",p,m.plotY],d.push("L",p,u)):d=["L",p,u],c.push(o.x),r&&c.push(o.x),l.push.apply(l,d),a=!1)}),l.xMap=c,n.graphPath=l},drawGraph:function(){var t=this,e=this.options,i=(this.gappedPath||this.getGraphPath).call(this),o=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]];d(this.zones,function(i,a){o.push(["zone-graph-"+a,"highcharts-graph highcharts-zone-graph-"+a+" "+(i.className||""),i.color||t.color,i.dashStyle||e.dashStyle])}),d(o,function(o,a){var n=o[0],s=t[n];s?(s.endX=i.xMap,s.animate({d:i})):i.length&&(t[n]=t.chart.renderer.path(i).addClass(o[1]).attr({zIndex:1}).add(t.group),s={stroke:o[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},o[3]?s.dashstyle=o[3]:"square"!==e.linecap&&(s["stroke-linecap"]=s["stroke-linejoin"]="round"),s=t[n].attr(s).shadow(2>a&&e.shadow)),s&&(s.startX=i.xMap,s.isArea=i.isArea)})},applyZones:function(){var t,e,i,o,a,n,s,r,l,h=this,c=this.chart,p=c.renderer,u=this.zones,m=this.clips||[],f=this.graph,g=this.area,v=Math.max(c.chartWidth,c.chartHeight),y=this[(this.zoneAxis||"y")+"Axis"],_=c.inverted,b=!1;u.length&&(f||g)&&y&&void 0!==y.min&&(a=y.reversed,n=y.horiz,f&&f.hide(),g&&g.hide(),o=y.getExtremes(),d(u,function(d,u){t=a?n?c.plotWidth:0:n?0:y.toPixels(o.min),t=Math.min(Math.max(M(e,t),0),v),e=Math.min(Math.max(Math.round(y.toPixels(M(d.value,o.max),!0)),0),v),b&&(t=e=y.toPixels(o.max)),s=Math.abs(t-e),r=Math.min(t,e),l=Math.max(t,e),y.isXAxis?(i={x:_?l:r,y:0,width:s,height:v},n||(i.x=c.plotHeight-i.x)):(i={x:0,y:_?l:r,width:v,height:s},n&&(i.y=c.plotWidth-i.y)),_&&p.isVML&&(i=y.isXAxis?{x:0,y:a?r:l,height:i.width,width:c.chartWidth}:{x:i.y-c.plotLeft-c.spacingBox.x,y:0,width:i.height,height:c.chartHeight}),m[u]?m[u].animate(i):(m[u]=p.clipRect(i),f&&h["zone-graph-"+u].clip(m[u]),g&&h["zone-area-"+u].clip(m[u])),b=d.value>o.max}),this.clips=m)},invertGroups:function(t){function i(){var e={width:o.yAxis.len,height:o.xAxis.len};d(["group","markerGroup"],function(i){o[i]&&o[i].attr(e).invert(t)})}var o=this,a=o.chart;o.xAxis&&(e(a,"resize",i),e(o,"destroy",function(){b(a,"resize",i)}),i(),o.invertGroups=i)},plotGroup:function(t,e,i,o,a){var n=this[t],s=!n;return s&&(this[t]=n=this.chart.renderer.g(e).attr({zIndex:o||.1}).add(a),n.addClass("highcharts-series-"+this.index+" highcharts-"+this.type+"-series highcharts-color-"+this.colorIndex+" "+(this.options.className||""))),n.attr({visibility:i})[s?"attr":"animate"](this.getPlotBox()),n},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,o=e.chart,a=e.options,n=!!e.animate&&o.renderer.isSVG&&i(a.animation).duration,s=e.visible?"inherit":"hidden",r=a.zIndex,l=e.hasRendered,h=o.seriesGroup,d=o.inverted;t=e.plotGroup("group","series",s,r,h),e.markerGroup=e.plotGroup("markerGroup","markers",s,r,h),n&&e.animate(!0),t.inverted=!!e.isCartesian&&d,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(d),!1===a.clip||e.sharedClipKey||l||t.clip(o.clipRect),n&&e.animate(),l||(e.animationTimeout=C(function(){e.afterAnimate()},n)),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,i=this.group,o=this.xAxis,a=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:M(o&&o.left,t.plotLeft),translateY:M(a&&a.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this.xAxis,o=this.yAxis,a=this.chart.inverted;return this.searchKDTree({clientX:a?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:a?o.len-t.chartX+o.pos:t.chartY-o.pos},e)},buildKDTree:function(){function t(i,o,a){var n,s;if(s=i&&i.length)return n=e.kdAxisArray[o%a],i.sort(function(t,e){return t[n]-e[n]}),s=Math.floor(s/2),{point:i[s],left:t(i.slice(0,s),o+1,a),right:t(i.slice(s+1),o+1,a)}}var e=this,i=e.kdDimensions;delete e.kdTree,C(function(){e.kdTree=t(e.getValidPoints(null,!e.directTouch),i,i)},e.options.kdNow?0:1)},searchKDTree:function(t,e){function i(t,e,r,l){var d,c,p=e.point,u=o.kdAxisArray[r%l],m=p;return c=h(t[a])&&h(p[a])?Math.pow(t[a]-p[a],2):null,d=h(t[n])&&h(p[n])?Math.pow(t[n]-p[n],2):null,d=(c||0)+(d||0),p.dist=h(d)?Math.sqrt(d):Number.MAX_VALUE,p.distX=h(c)?Math.sqrt(c):Number.MAX_VALUE,u=t[u]-p[u],d=0>u?"left":"right",c=0>u?"right":"left",e[d]&&(d=i(t,e[d],r+1,l),m=d[s]<m[s]?d:p),e[c]&&Math.sqrt(u*u)<m[s]&&(t=i(t,e[c],r+1,l),m=t[s]<m[s]?t:m),m}var o=this,a=this.kdAxisArray[0],n=this.kdAxisArray[1],s=e?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return i(t,this.kdTree,this.kdDimensions,this.kdDimensions)}})}(t),function(t){function e(t,e,i,o,a){var n=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=o,this.total=null,this.points={},this.stack=a,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(n?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(n?"middle":i?"bottom":"top"),y:h(e.y,n?4:i?14:-6),x:h(e.x,n?i?-6:6:0)},this.textAlign=e.textAlign||(n?i?"right":"left":"center")}var i=t.Axis,o=t.Chart,a=t.correctFloat,n=t.defined,s=t.destroyObjectProperties,r=t.each,l=t.format,h=t.pick;t=t.Series,e.prototype={destroy:function(){s(this,this.axis)},render:function(t){var e=this.options,i=e.format,i=i?l(i,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=this.axis,o=i.chart,a=o.inverted,n=i.reversed,n=this.isNegative&&!n||!this.isNegative&&n,s=i.translate(i.usePercentage?100:this.total,0,0,0,1),i=i.translate(0),i=Math.abs(s-i);t=o.xAxis[0].translate(this.x)+t;var r=o.plotHeight,a={x:a?n?s:s-i:t,y:a?r-t-e:n?r-s-i:r-s,width:a?i:e,height:a?e:i};(e=this.label)&&(e.align(this.alignOptions,null,a),a=e.alignAttr,e[!1===this.options.crop||o.isInsidePlot(a.x,a.y)?"show":"hide"](!0))}},o.prototype.getStacks=function(){var t=this;r(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),r(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+h(e.options.stack,""))})},i.prototype.buildStacks=function(){var t,e,i=this.series,o=h(this.options.reversedStacks,!0),a=i.length;if(!this.isXAxis){for(this.usePercentage=!1,e=a;e--;)i[o?e:a-e-1].setStackedPoints();for(e=a;e--;)t=i[o?e:a-e-1],t.setStackCliffs&&t.setStackCliffs();if(this.usePercentage)for(e=0;e<a;e++)i[e].setPercentStacks()}},i.prototype.renderStackTotals=function(){var t,e,i=this.chart,o=i.renderer,a=this.stacks,n=this.stackTotalGroup;n||(this.stackTotalGroup=n=o.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),n.translate(i.plotLeft,i.plotTop);for(t in a)for(e in i=a[t])i[e].render(n)},i.prototype.resetStacks=function(){var t,e,i=this.stacks;if(!this.isXAxis)for(t in i)for(e in i[t])i[t][e].touched<this.stacksTouched?(i[t][e].destroy(),delete i[t][e]):(i[t][e].total=null,i[t][e].cum=0)},i.prototype.cleanStacks=function(){var t,e,i;if(!this.isXAxis)for(e in this.oldStacks&&(t=this.stacks=this.oldStacks),t)for(i in t[e])t[e][i].cum=t[e][i].total},t.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t,i,o,s,r,l,d,c=this.processedXData,p=this.processedYData,u=[],m=p.length,f=this.options,g=f.threshold,v=f.startFromThreshold?g:0,y=f.stack,f=f.stacking,_=this.stackKey,M="-"+_,b=this.negStacks,x=this.yAxis,w=x.stacks,k=x.oldStacks;for(x.stacksTouched+=1,r=0;r<m;r++)l=c[r],d=p[r],t=this.getStackIndicator(t,l,this.index),s=t.key,o=(i=b&&d<(v?0:g))?M:_,w[o]||(w[o]={}),w[o][l]||(k[o]&&k[o][l]?(w[o][l]=k[o][l],w[o][l].total=null):w[o][l]=new e(x,x.options.stackLabels,i,l,y)),o=w[o][l],null!==d&&(o.points[s]=o.points[this.index]=[h(o.cum,v)],n(o.cum)||(o.base=s),o.touched=x.stacksTouched,0<t.index&&!1===this.singleStacks&&(o.points[s][0]=o.points[this.index+","+l+",0"][0])),"percent"===f?(i=i?_:M,b&&w[i]&&w[i][l]?(i=w[i][l],o.total=i.total=Math.max(i.total,o.total)+Math.abs(d)||0):o.total=a(o.total+(Math.abs(d)||0))):o.total=a(o.total+(d||0)),o.cum=h(o.cum,v)+(d||0),null!==d&&(o.points[s].push(o.cum),u[r]=o.cum);"percent"===f&&(x.usePercentage=!0),this.stackedYData=u,x.oldStacks={}}},t.prototype.setPercentStacks=function(){var t,e=this,i=e.stackKey,o=e.yAxis.stacks,n=e.processedXData;r([i,"-"+i],function(i){for(var s,r,l=n.length;l--;)s=n[l],t=e.getStackIndicator(t,s,e.index,i),(s=(r=o[i]&&o[i][s])&&r.points[t.key])&&(r=r.total?100/r.total:0,s[0]=a(s[0]*r),s[1]=a(s[1]*r),e.stackedYData[l]=s[1])})},t.prototype.getStackIndicator=function(t,e,i,o){return!n(t)||t.x!==e||o&&t.key!==o?t={x:e,index:0,key:o}:t.index++,t.key=[i,e,t.index].join(),t}}(t),function(t){var e=t.addEvent,i=t.animate,o=t.Axis,a=t.createElement,n=t.css,s=t.defined,r=t.each,l=t.erase,h=t.extend,d=t.fireEvent,c=t.inArray,p=t.isNumber,u=t.isObject,m=t.merge,f=t.pick,g=t.Point,v=t.Series,y=t.seriesTypes,_=t.setAnimation,M=t.splat;h(t.Chart.prototype,{addSeries:function(t,e,i){var o,a=this;return t&&(e=f(e,!0),d(a,"addSeries",{options:t},function(){o=a.initSeries(t),a.isDirtyLegend=!0,a.linkSeries(),e&&a.redraw(i)})),o},addAxis:function(t,e,i,a){var n=e?"xAxis":"yAxis",s=this.options;t=m(t,{index:this[n].length,isX:e}),new o(this,t),s[n]=M(s[n]||{}),s[n].push(t),f(i,!0)&&this.redraw(a)},showLoading:function(t){var o=this,s=o.options,r=o.loadingDiv,l=s.loading,d=function(){r&&n(r,{left:o.plotLeft+"px",top:o.plotTop+"px",width:o.plotWidth+"px",height:o.plotHeight+"px"})};r||(o.loadingDiv=r=a("div",{className:"highcharts-loading highcharts-loading-hidden"},null,o.container),o.loadingSpan=a("span",{className:"highcharts-loading-inner"},null,r),e(o,"redraw",d)),r.className="highcharts-loading",o.loadingSpan.innerHTML=t||s.lang.loading,n(r,h(l.style,{zIndex:10})),n(o.loadingSpan,l.labelStyle),o.loadingShown||(n(r,{opacity:0,display:""}),i(r,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),o.loadingShown=!0,d()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",i(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){n(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:["chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions"],update:function(t,e){var i,o,a,n={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},l=t.chart;if(l){m(!0,this.options.chart,l),"className"in l&&this.setClassName(l.className),("inverted"in l||"polar"in l)&&(this.propFromSeries(),o=!0);for(i in l)l.hasOwnProperty(i)&&(-1!==c("chart."+i,this.propsRequireUpdateSeries)&&(a=!0),-1!==c(i,this.propsRequireDirtyBox)&&(this.isDirtyBox=!0));"style"in l&&this.renderer.setStyle(l.style)}for(i in t)this[i]&&"function"==typeof this[i].update?this[i].update(t[i],!1):"function"==typeof this[n[i]]&&this[n[i]](t[i]),"chart"!==i&&-1!==c(i,this.propsRequireUpdateSeries)&&(a=!0);t.colors&&(this.options.colors=t.colors),t.plotOptions&&m(!0,this.options.plotOptions,t.plotOptions),r(["xAxis","yAxis","series"],function(e){t[e]&&r(M(t[e]),function(t){var i=s(t.id)&&this.get(t.id)||this[e][0];i&&i.coll===e&&i.update(t,!1)},this)},this),o&&r(this.axes,function(t){t.update({},!1)}),a&&r(this.series,function(t){t.update({},!1)}),t.loading&&m(!0,this.options.loading,t.loading),i=l&&l.width,l=l&&l.height,p(i)&&i!==this.chartWidth||p(l)&&l!==this.chartHeight?this.setSize(i,l):f(e,!0)&&this.redraw()},setSubtitle:function(t){this.setTitle(void 0,t)}}),h(g.prototype,{update:function(t,e,i,o){function a(){s.applyOptions(t),null===s.y&&l&&(s.graphic=l.destroy()),u(t,!0)&&(l&&l.element&&t&&t.marker&&t.marker.symbol&&(s.graphic=l.destroy()),t&&t.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy())),n=s.index,r.updateParallelArrays(s,n),d.data[n]=u(d.data[n],!0)?s.options:t,r.isDirty=r.isDirtyData=!0,!r.fixedBox&&r.hasCartesianSeries&&(h.isDirtyBox=!0),"point"===d.legendType&&(h.isDirtyLegend=!0),e&&h.redraw(i)}var n,s=this,r=s.series,l=s.graphic,h=r.chart,d=r.options;e=f(e,!0),!1===o?a():s.firePointEvent("update",{options:t},a)},remove:function(t,e){this.series.removePoint(c(this,this.series.data),t,e)}}),h(v.prototype,{addPoint:function(t,e,i,o){var a,n,s,r,l=this.options,h=this.data,d=this.chart,c=this.xAxis&&this.xAxis.names,p=l.data,u=this.xData;if(e=f(e,!0),a={series:this},this.pointClass.prototype.applyOptions.apply(a,[t]),r=a.x,s=u.length,this.requireSorting&&r<u[s-1])for(n=!0;s&&u[s-1]>r;)s--;this.updateParallelArrays(a,"splice",s,0,0),this.updateParallelArrays(a,s),c&&a.name&&(c[r]=a.name),p.splice(s,0,t),n&&(this.data.splice(s,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),i&&(h[0]&&h[0].remove?h[0].remove(!1):(h.shift(),this.updateParallelArrays(a,"shift"),p.shift())),this.isDirtyData=this.isDirty=!0,e&&d.redraw(o)},removePoint:function(t,e,i){var o=this,a=o.data,n=a[t],s=o.points,r=o.chart,l=function(){s&&s.length===a.length&&s.splice(t,1),a.splice(t,1),o.options.data.splice(t,1),o.updateParallelArrays(n||{series:o},"splice",t,1),n&&n.destroy(),o.isDirty=!0,o.isDirtyData=!0,e&&r.redraw()};_(i,r),e=f(e,!0),n?n.firePointEvent("remove",null,l):l()},remove:function(t,e,i){function o(){a.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),f(t,!0)&&n.redraw(e)}var a=this,n=a.chart;!1!==i?d(a,"remove",null,o):o()},update:function(t,e){var i,o=this,a=this.chart,n=this.userOptions,s=this.type,l=t.type||n.type||a.options.chart.type,d=y[s].prototype,c=["group","markerGroup","dataLabelsGroup"];(l&&l!==s||void 0!==t.zIndex)&&(c.length=0),r(c,function(t){c[t]=o[t],delete o[t]}),t=m(n,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1,null,!1);for(i in d)this[i]=void 0;h(this,y[l||s].prototype),r(c,function(t){o[t]=c[t]}),this.init(a,t),a.linkSeries(),f(e,!0)&&a.redraw(!1)}}),h(o.prototype,{update:function(t,e){var i=this.chart;t=i.options[this.coll][this.options.index]=m(this.userOptions,t),this.destroy(!0),this.init(i,h(t,{events:void 0})),i.isDirtyBox=!0,f(e,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,o=this.series,a=o.length;a--;)o[a]&&o[a].remove(!1);l(e.axes,this),l(e[i],this),e.options[i].splice(this.options.index,1),r(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,f(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(t),function(t){var e=t.color,i=t.each,o=t.map,a=t.pick,n=t.Series;(0,t.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(){var t,e,n,s=[],r=[],l=this.xAxis,h=this.yAxis,d=h.stacks[this.stackKey],c={},p=this.points,u=this.index,m=h.series,f=m.length,g=a(h.options.reversedStacks,!0)?1:-1;if(this.options.stacking){for(e=0;e<p.length;e++)c[p[e].x]=p[e];for(n in d)null!==d[n].total&&r.push(n);r.sort(function(t,e){return t-e}),t=o(m,function(){return this.visible}),i(r,function(o,a){var n,p,m=0;if(c[o]&&!c[o].isNull)s.push(c[o]),i([-1,1],function(i){var s=1===i?"rightNull":"leftNull",l=0,h=d[r[a+i]];if(h)for(e=u;0<=e&&e<f;)n=h.points[e],n||(e===u?c[o][s]=!0:t[e]&&(p=d[o].points[e])&&(l-=p[1]-p[0])),e+=g;c[o][1===i?"rightCliff":"leftCliff"]=l});else{for(e=u;0<=e&&e<f;){if(n=d[o].points[e]){m=n[1];break}e+=g}m=h.toPixels(m,!0),s.push({isNull:!0,plotX:l.toPixels(o,!0),plotY:m,yBottom:m})}})}return s},getGraphPath:function(t){var e,i,o,s,r=n.prototype.getGraphPath,l=this.options,h=l.stacking,d=this.yAxis,c=[],p=[],u=this.index,m=d.stacks[this.stackKey],f=l.threshold,g=d.getThreshold(l.threshold),l=l.connectNulls||"percent"===h,v=function(e,i,a){var n=t[e];e=h&&m[n.x].points[u];var s=n[a+"Null"]||0;a=n[a+"Cliff"]||0;var r,l,n=!0;a||s?(r=(s?e[0]:e[1])+a,l=e[0]+a,n=!!s):!h&&t[i]&&t[i].isNull&&(r=l=f),void 0!==r&&(p.push({plotX:o,plotY:null===r?g:d.getThreshold(r),isNull:n}),c.push({plotX:o,plotY:null===l?g:d.getThreshold(l),doCurve:!1}))};for(t=t||this.points,h&&(t=this.getStackPoints()),e=0;e<t.length;e++)i=t[e].isNull,o=a(t[e].rectPlotX,t[e].plotX),s=a(t[e].yBottom,g),(!i||l)&&(l||v(e,e-1,"left"),i&&!h&&l||(p.push(t[e]),c.push({x:e,plotX:o,plotY:s})),l||v(e,e+1,"right"));return e=r.call(this,p,!0,!0),c.reversed=!0,i=r.call(this,c,!0,!0),i.length&&(i[0]="L"),i=e.concat(i),r=r.call(this,p,!1,l),i.xMap=e.xMap,this.areaPath=i,r},drawGraph:function(){this.areaPath=[],n.prototype.drawGraph.apply(this);var t=this,o=this.areaPath,s=this.options,r=[["area","highcharts-area",this.color,s.fillColor]];i(this.zones,function(e,i){r.push(["zone-area-"+i,"highcharts-area highcharts-zone-area-"+i+" "+e.className,e.color||t.color,e.fillColor||s.fillColor])}),i(r,function(i){var n=i[0],r=t[n];r?(r.endX=o.xMap,r.animate({d:o})):(r=t[n]=t.chart.renderer.path(o).addClass(i[1]).attr({fill:a(i[3],e(i[2]).setOpacity(a(s.fillOpacity,.75)).get()),zIndex:0}).add(t.group),r.isArea=!0),r.startX=o.xMap,r.shiftUnit=s.step?2:1})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(t),function(t){var e=t.extendClass,i=t.merge,o=t.pick,a=t.Series,n=t.seriesTypes;t.defaultPlotOptions.spline=i(t.defaultPlotOptions.line),n.spline=e(a,{type:"spline",getPointSpline:function(t,e,i){var a=e.plotX,n=e.plotY,s=t[i-1];i=t[i+1];var r,l,h,d;if(s&&!s.isNull&&!1!==s.doCurve&&i&&!i.isNull&&!1!==i.doCurve){t=s.plotY,h=i.plotX,i=i.plotY;var c=0;r=(1.5*a+s.plotX)/2.5,l=(1.5*n+t)/2.5,h=(1.5*a+h)/2.5,d=(1.5*n+i)/2.5,h!==r&&(c=(d-l)*(h-a)/(h-r)+n-d),l+=c,d+=c,l>t&&l>n?(l=Math.max(t,n),d=2*n-l):l<t&&l<n&&(l=Math.min(t,n),d=2*n-l),d>i&&d>n?(d=Math.max(i,n),l=2*n-d):d<i&&d<n&&(d=Math.min(i,n),l=2*n-d),e.rightContX=h,e.rightContY=d}return e=["C",o(s.rightContX,s.plotX),o(s.rightContY,s.plotY),o(r,a),o(l,n),a,n],s.rightContX=s.rightContY=null,e}})}(t),function(t){var e=t.seriesTypes.area.prototype;(0,t.seriesType)("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,setStackCliffs:e.setStackCliffs,drawGraph:e.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(t),function(t){var e=t.animObject,i=t.color,o=t.each,a=t.extend,n=t.isNumber,s=t.merge,r=t.pick,l=t.Series,h=t.seriesType,d=t.stop,c=t.svg;h("column","line",{borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1,shadow:!1},select:{color:"#cccccc",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){l.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&o(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,i=e.options,a=e.xAxis,n=e.yAxis,s=a.reversed,l={},h=0;!1===i.grouping?h=1:o(e.chart.series,function(i){var o,a=i.options,s=i.yAxis;i.type===e.type&&i.visible&&n.len===s.len&&n.pos===s.pos&&(a.stacking?(t=i.stackKey,void 0===l[t]&&(l[t]=h++),o=l[t]):!1!==a.grouping&&(o=h++),i.columnIndex=o)});var d=Math.min(Math.abs(a.transA)*(a.ordinalSlope||i.pointRange||a.closestPointRange||a.tickInterval||1),a.len),c=d*i.groupPadding,p=(d-2*c)/h,i=Math.min(i.maxPointWidth||a.len,r(i.pointWidth,p*(1-2*i.pointPadding)));return e.columnMetrics={width:i,offset:(p-i)/2+(c+((e.columnIndex||0)+(s?1:0))*p-d/2)*(s?-1:1)},e.columnMetrics},crispCol:function(t,e,i,o){var a=this.chart,n=this.borderWidth,s=-(n%2?.5:0),n=n%2?.5:1;return a.inverted&&a.renderer.isVML&&(n+=1),i=Math.round(t+i)+s,t=Math.round(t)+s,o=Math.round(e+o)+n,s=.5>=Math.abs(e)&&.5<o,e=Math.round(e)+n,o-=e,s&&o&&(--e,o+=1),{x:t,y:e,width:i-t,height:o}},translate:function(){var t=this,e=t.chart,i=t.options,a=t.dense=2>t.closestPointRange*t.xAxis.transA,a=t.borderWidth=r(i.borderWidth,a?0:1),n=t.yAxis,s=t.translatedThreshold=n.getThreshold(i.threshold),h=r(i.minPointLength,5),d=t.getColumnMetrics(),c=d.width,p=t.barW=Math.max(c,1+2*a),u=t.pointXOffset=d.offset;e.inverted&&(s-=.5),i.pointPadding&&(p=Math.ceil(p)),l.prototype.translate.apply(t),o(t.points,function(i){var o,a=r(i.yBottom,s),l=999+Math.abs(a),l=Math.min(Math.max(-l,i.plotY),n.len+l),d=i.plotX+u,m=p,f=Math.min(l,a),g=Math.max(l,a)-f;Math.abs(g)<h&&h&&(g=h,o=!n.reversed&&!i.negative||n.reversed&&i.negative,f=Math.abs(f-s)>h?a-h:s-(o?h:0)),i.barX=d,i.pointWidth=c,i.tooltipPos=e.inverted?[n.len+n.pos-e.plotLeft-l,t.xAxis.len-d-m/2,g]:[d+m/2,l+n.pos-e.plotTop,g],i.shapeType="rect",i.shapeArgs=t.crispCol.apply(t,i.isNull?[i.plotX,n.len/2,0,0]:[d,f,m,g])})},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var o,a=this.options,n=this.pointAttrToOptions||{},s=n.stroke||"borderColor",r=n["stroke-width"]||"borderWidth",l=t&&t.color||this.color,h=t[s]||a[s]||this.color||l,n=a.dashStyle;return t&&this.zones.length&&(l=(l=t.getZone())&&l.color||t.options.color||this.color),e&&(e=a.states[e],o=e.brightness,l=e.color||void 0!==o&&i(l).brighten(e.brightness).get()||l,h=e[s]||h,n=e.dashStyle||n),t={fill:l,stroke:h,"stroke-width":t[r]||a[r]||this[r]||0},a.borderRadius&&(t.r=a.borderRadius),n&&(t.dashstyle=n),t},drawPoints:function(){var t,e=this,i=this.chart,a=e.options,r=i.renderer,l=a.animationLimit||250;o(e.points,function(o){var h=o.graphic;n(o.plotY)&&null!==o.y?(t=o.shapeArgs,h?(d(h),h[i.pointCount<l?"animate":"attr"](s(t))):o.graphic=h=r[o.shapeType](t).attr({class:o.getClassName()}).add(o.group||e.group),h.attr(e.pointAttribs(o,o.selected&&"select")).shadow(a.shadow,null,a.stacking&&!a.borderRadius)):h&&(o.graphic=h.destroy())})},animate:function(t){var i=this,o=this.yAxis,n=i.options,s=this.chart.inverted,r={};c&&(t?(r.scaleY=.001,t=Math.min(o.pos+o.len,Math.max(o.pos,o.toPixels(n.threshold))),s?r.translateX=t-o.len:r.translateY=t,i.group.attr(r)):(r[s?"translateX":"translateY"]=o.pos,i.group.animate(r,a(e(i.options.animation),{step:function(t,e){i.group.attr({scaleY:Math.max(.001,e.pos)})}})),i.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&o(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),l.prototype.remove.apply(t,arguments)}})}(t),function(t){(t=t.seriesType)("bar","column",null,{inverted:!0})}(t),function(t){var e=t.Series;(t=t.seriesType)("scatter","line",{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(t),function(t){var e=t.pick,i=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,o,a=this.options,n=this.chart,s=2*(a.slicedOffset||0),r=n.plotWidth-2*s,n=n.plotHeight-2*s,l=a.center,l=[e(l[0],"50%"),e(l[1],"50%"),a.size||"100%",a.innerSize||0],h=Math.min(r,n);for(t=0;4>t;++t)o=l[t],a=2>t||2===t&&/%$/.test(o),l[t]=i(o,[r,n,h,l[2]][t])+(a?s:0);return l[3]>l[2]&&(l[3]=l[2]),l}}}(t),function(t){var e=t.addEvent,i=t.defined,o=t.each,a=t.extend,n=t.inArray,s=t.noop,r=t.pick,l=t.Point,h=t.Series,d=t.seriesType,c=t.setAnimation;d("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,i=e.points,a=e.startAngleRad;t||(o(i,function(t){var i=t.graphic,o=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:a,end:a}),i.animate({r:o.r,start:o.start,end:o.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,i=0,o=this.points,a=o.length,n=this.options.ignoreHiddenPoint;for(t=0;t<a;t++)e=o[t],0>e.y&&(e.y=null),i+=n&&!e.visible?0:e.y;for(this.total=i,t=0;t<a;t++)e=o[t],e.percentage=0<i&&(e.visible||!n)?e.y/i*100:0,e.total=i},generatePoints:function(){h.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,o,a,n,s=0,l=this.options,h=l.slicedOffset,d=h+(l.borderWidth||0),c=l.startAngle||0,p=this.startAngleRad=Math.PI/180*(c-90),c=(this.endAngleRad=Math.PI/180*(r(l.endAngle,c+360)-90))-p,u=this.points,m=l.dataLabels.distance,l=l.ignoreHiddenPoint,f=u.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,i){return o=Math.asin(Math.min((e-t[1])/(t[2]/2+m),1)),t[0]+(i?-1:1)*Math.cos(o)*(t[2]/2+m)},a=0;a<f;a++)n=u[a],e=p+s*c,l&&!n.visible||(s+=n.percentage/100),i=p+s*c,n.shapeType="arc",n.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*i)/1e3},o=(i+e)/2,o>1.5*Math.PI?o-=2*Math.PI:o<-Math.PI/2&&(o+=2*Math.PI),n.slicedTranslation={translateX:Math.round(Math.cos(o)*h),translateY:Math.round(Math.sin(o)*h)},e=Math.cos(o)*t[2]/2,i=Math.sin(o)*t[2]/2,n.tooltipPos=[t[0]+.7*e,t[1]+.7*i],n.half=o<-Math.PI/2||o>Math.PI/2?1:0,n.angle=o,d=Math.min(d,m/5),n.labelPos=[t[0]+e+Math.cos(o)*m,t[1]+i+Math.sin(o)*m,t[0]+e+Math.cos(o)*d,t[1]+i+Math.sin(o)*d,t[0]+e,t[1]+i,0>m?"center":n.half?"right":"left",o]},drawGraph:null,drawPoints:function(){var t,e,i,n,s=this,r=s.chart.renderer,l=s.options.shadow;l&&!s.shadowGroup&&(s.shadowGroup=r.g("shadow").add(s.group)),o(s.points,function(o){if(null!==o.y){e=o.graphic,n=o.shapeArgs,t=o.sliced?o.slicedTranslation:{};var h=o.shadowGroup;l&&!h&&(h=o.shadowGroup=r.g("shadow").add(s.shadowGroup)),h&&h.attr(t),i=s.pointAttribs(o,o.selected&&"select"),e?e.setRadialReference(s.center).attr(i).animate(a(n,t)):(o.graphic=e=r[o.shapeType](n).addClass(o.getClassName()).setRadialReference(s.center).attr(t).add(s.group),o.visible||e.attr({visibility:"hidden"}),e.attr(i).attr({"stroke-linejoin":"round"}).shadow(l,h))}})},searchPoint:s,sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:t.CenteredSeriesMixin.getCenter,getSymbol:s},{init:function(){l.prototype.init.apply(this,arguments);var t,i=this;return i.name=r(i.name,"Slice"),t=function(t){i.slice("select"===t.type)},e(i,"select",t),e(i,"unselect",t),i},setVisible:function(t,e){var i=this,a=i.series,s=a.chart,l=a.options.ignoreHiddenPoint;e=r(e,l),t!==i.visible&&(i.visible=i.options.visible=t=void 0===t?!i.visible:t,a.options.data[n(i,a.data)]=i.options,o(["graphic","dataLabel","connector","shadowGroup"],function(e){i[e]&&i[e][t?"show":"hide"](!0)}),i.legendItem&&s.legend.colorizeItem(i,t),t||"hover"!==i.state||i.setState(""),l&&(a.isDirty=!0),e&&s.redraw())},slice:function(t,e,o){var a=this.series;c(o,a.chart),r(e,!0),this.sliced=this.options.sliced=t=i(t)?t:!this.sliced,a.options.data[n(this,a.data)]=this.options,t=t?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}})}(t),function(t){var e=t.addEvent,i=t.arrayMax,o=t.defined,a=t.each,n=t.extend,s=t.format,r=t.map,l=t.merge,h=t.noop,d=t.pick,c=t.relativeLength,p=t.Series,u=t.seriesTypes,m=t.stableSort,f=t.stop;t.distribute=function(t,e){function i(t,e){return t.target-e.target}var o,n,s=!0,l=t,h=[];for(n=0,o=t.length;o--;)n+=t[o].size;if(n>e){for(m(t,function(t,e){return(e.rank||0)-(t.rank||0)}),n=o=0;n<=e;)n+=t[o].size,o++;h=t.splice(o-1,t.length)}for(m(t,i),t=r(t,function(t){return{size:t.size,targets:[t.target]}});s;){for(o=t.length;o--;)s=t[o],n=(Math.min.apply(0,s.targets)+Math.max.apply(0,s.targets))/2,s.pos=Math.min(Math.max(0,n-s.size/2),e-s.size);for(o=t.length,s=!1;o--;)0<o&&t[o-1].pos+t[o-1].size>t[o].pos&&(t[o-1].size+=t[o].size,t[o-1].targets=t[o-1].targets.concat(t[o].targets),t[o-1].pos+t[o-1].size>e&&(t[o-1].pos=e-t[o-1].size),t.splice(o,1),s=!0)}o=0,a(t,function(t){var e=0;a(t.targets,function(){l[o].pos=t.pos+e,e+=l[o].size,o++})}),l.push.apply(l,h),m(l,i)},p.prototype.drawDataLabels=function(){var t,i,r,h,c=this,p=c.options,u=p.dataLabels,m=c.points,f=c.hasRendered||0,g=d(u.defer,!0),v=c.chart.renderer;(u.enabled||c._hasPointLabels)&&(c.dlProcessOptions&&c.dlProcessOptions(u),h=c.plotGroup("dataLabelsGroup","data-labels",g&&!f?"hidden":"visible",u.zIndex||6),g&&(h.attr({opacity:+f}),f||e(c,"afterAnimate",function(){c.visible&&h.show(!0),h[p.animation?"animate":"attr"]({opacity:1},{duration:200})})),i=u,a(m,function(e){var a,m,f,g,y=e.dataLabel,_=e.connector,M=!0,b={};if(t=e.dlOptions||e.options&&e.options.dataLabels,a=d(t&&t.enabled,i.enabled)&&null!==e.y,y&&!a)e.dataLabel=y.destroy();else if(a){if(u=l(i,t),g=u.style,a=u.rotation,m=e.getLabelConfig(),r=u.format?s(u.format,m):u.formatter.call(m,u),g.color=d(u.color,g.color,c.color,"#000000"),y)o(r)?(y.attr({text:r}),M=!1):(e.dataLabel=y=y.destroy(),_&&(e.connector=_.destroy()));else if(o(r)){y={fill:u.backgroundColor,stroke:u.borderColor,"stroke-width":u.borderWidth,r:u.borderRadius||0,rotation:a,padding:u.padding,zIndex:1},"contrast"===g.color&&(b.color=u.inside||0>u.distance||p.stacking?v.getContrast(e.color||c.color):"#000000"),p.cursor&&(b.cursor=p.cursor);for(f in y)void 0===y[f]&&delete y[f];y=e.dataLabel=v[a?"text":"label"](r,0,-9999,u.shape,null,null,u.useHTML,null,"data-label").attr(y),y.addClass("highcharts-data-label-color-"+e.colorIndex+" "+(u.className||"")),y.css(n(g,b)),y.add(h),y.shadow(u.shadow)}y&&c.alignDataLabel(e,y,u,null,M)}}))},p.prototype.alignDataLabel=function(t,e,i,o,a){var s,r=this.chart,l=r.inverted,h=d(t.plotX,-9999),c=d(t.plotY,-9999),p=e.getBBox(),u=i.rotation,m=i.align,g=this.visible&&(t.series.forceDL||r.isInsidePlot(h,Math.round(c),l)||o&&r.isInsidePlot(h,l?o.x+1:o.y+o.height-1,l)),v="justify"===d(i.overflow,"justify");g&&(s=i.style.fontSize,s=r.renderer.fontMetrics(s,e).b,o=n({x:l?r.plotWidth-c:h,y:Math.round(l?r.plotHeight-h:c),width:0,height:0},o),n(i,{width:p.width,height:p.height}),u?(v=!1,l=r.renderer.rotCorr(s,u),l={x:o.x+i.x+o.width/2+l.x,y:o.y+i.y+{top:0,middle:.5,bottom:1}[i.verticalAlign]*o.height},e[a?"attr":"animate"](l).attr({align:m}),h=(u+720)%360,h=180<h&&360>h,"left"===m?l.y-=h?p.height:0:"center"===m?(l.x-=p.width/2,l.y-=p.height/2):"right"===m&&(l.x-=p.width,l.y-=h?0:p.height)):(e.align(i,null,o),l=e.alignAttr),v?this.justifyDataLabel(e,i,l,p,o,a):d(i.crop,!0)&&(g=r.isInsidePlot(l.x,l.y)&&r.isInsidePlot(l.x+p.width,l.y+p.height)),i.shape&&!u&&e.attr({anchorX:t.plotX,anchorY:t.plotY})),g||(f(e),e.attr({y:-9999}),e.placed=!1)},p.prototype.justifyDataLabel=function(t,e,i,o,a,n){var s,r,l=this.chart,h=e.align,d=e.verticalAlign,c=t.box?0:t.padding||0;s=i.x+c,0>s&&("right"===h?e.align="left":e.x=-s,r=!0),s=i.x+o.width-c,s>l.plotWidth&&("left"===h?e.align="right":e.x=l.plotWidth-s,r=!0),s=i.y+c,0>s&&("bottom"===d?e.verticalAlign="top":e.y=-s,r=!0),s=i.y+o.height-c,s>l.plotHeight&&("top"===d?e.verticalAlign="bottom":e.y=l.plotHeight-s,r=!0),r&&(t.placed=!n,t.align(e,null,a))},u.pie&&(u.pie.prototype.drawDataLabels=function(){var e,o,n,s,l,h,c,u,m,f,g=this,v=g.data,y=g.chart,_=g.options.dataLabels,M=d(_.connectorPadding,10),b=d(_.connectorWidth,1),x=y.plotWidth,w=y.plotHeight,k=_.distance,C=g.center,D=C[2]/2,O=C[1],E=0<k,T=[[],[]],P=[0,0,0,0];g.visible&&(_.enabled||g._hasPointLabels)&&(p.prototype.drawDataLabels.apply(g),a(v,function(t){t.dataLabel&&t.visible&&(T[t.half].push(t),t.dataLabel._pos=null)}),a(T,function(i,o){var a,d,p,v,b,E=i.length;if(E)for(g.sortByAngle(i,o-.5),0<k&&(a=Math.max(0,O-D-k),d=Math.min(O+D+k,y.plotHeight),p=r(i,function(t){if(t.dataLabel)return b=t.dataLabel.getBBox().height||21,{target:t.labelPos[1]-a+b/2,size:b,rank:t.y}}),t.distribute(p,d+b-a)),f=0;f<E;f++)e=i[f],l=e.labelPos,n=e.dataLabel,m=!1===e.visible?"hidden":"inherit",v=l[1],p?void 0===p[f].pos?m="hidden":(h=p[f].size,u=a+p[f].pos):u=v,c=_.justify?C[0]+(o?-1:1)*(D+k):g.getX(u<a+2||u>d-2?v:u,o),n._attr={visibility:m,align:l[6]},n._pos={x:c+_.x+({left:M,right:-M}[l[6]]||0),y:u+_.y-10},l.x=c,l.y=u,null===g.options.size&&(s=n.width,c-s<M?P[3]=Math.max(Math.round(s-c+M),P[3]):c+s>x-M&&(P[1]=Math.max(Math.round(c+s-x+M),P[1])),0>u-h/2?P[0]=Math.max(Math.round(h/2-u),P[0]):u+h/2>w&&(P[2]=Math.max(Math.round(u+h/2-w),P[2])))}),0===i(P)||this.verifyDataLabelOverflow(P))&&(this.placeDataLabels(),E&&b&&a(this.points,function(t){var e;o=t.connector,(n=t.dataLabel)&&n._pos&&t.visible?(m=n._attr.visibility,(e=!o)&&(t.connector=o=y.renderer.path().addClass("highcharts-data-label-connector highcharts-color-"+t.colorIndex).add(g.dataLabelsGroup),o.attr({"stroke-width":b,stroke:_.connectorColor||t.color||"#666666"})),o[e?"attr":"animate"]({d:g.connectorPath(t.labelPos)}),o.attr("visibility",m)):o&&(t.connector=o.destroy())}))},u.pie.prototype.connectorPath=function(t){var e=t.x,i=t.y;return d(this.options.softConnector,!0)?["M",e+("left"===t[6]?5:-5),i,"C",e,i,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),i,"L",t[2],t[3],"L",t[4],t[5]]},u.pie.prototype.placeDataLabels=function(){a(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))})},u.pie.prototype.alignDataLabel=h,u.pie.prototype.verifyDataLabelOverflow=function(t){var e,i,o=this.center,a=this.options,n=a.center,s=a.minSize||80;return null!==n[0]?e=Math.max(o[2]-Math.max(t[1],t[3]),s):(e=Math.max(o[2]-t[1]-t[3],s),o[0]+=(t[3]-t[1])/2),null!==n[1]?e=Math.max(Math.min(e,o[2]-Math.max(t[0],t[2])),s):(e=Math.max(Math.min(e,o[2]-t[0]-t[2]),s),o[1]+=(t[0]-t[2])/2),e<o[2]?(o[2]=e,o[3]=Math.min(c(a.innerSize||0,e),e),this.translate(o),this.drawDataLabels&&this.drawDataLabels()):i=!0,i}),u.column&&(u.column.prototype.alignDataLabel=function(t,e,i,o,a){var n=this.chart.inverted,s=t.series,r=t.dlBox||t.shapeArgs,h=d(t.below,t.plotY>d(this.translatedThreshold,s.yAxis.len)),c=d(i.inside,!!this.options.stacking);r&&(o=l(r),0>o.y&&(o.height+=o.y,o.y=0),r=o.y+o.height-s.yAxis.len,0<r&&(o.height-=r),n&&(o={x:s.yAxis.len-o.y-o.height,y:s.xAxis.len-o.x-o.width,width:o.height,height:o.width}),c||(n?(o.x+=h?0:o.width,o.width=0):(o.y+=h?o.height:0,o.height=0))),i.align=d(i.align,!n||c?"center":h?"right":"left"),i.verticalAlign=d(i.verticalAlign,n||c?"middle":h?"top":"bottom"),p.prototype.alignDataLabel.call(this,t,e,i,o,a)})}(t),function(t){var e=t.Chart,i=t.each,o=t.pick,a=t.addEvent;e.prototype.callbacks.push(function(t){function e(){var e=[];i(t.series,function(t){var a=t.options.dataLabels,n=t.dataLabelCollections||["dataLabel"];(a.enabled||t._hasPointLabels)&&!a.allowOverlap&&t.visible&&i(n,function(a){i(t.points,function(t){t[a]&&(t[a].labelrank=o(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t[a]))})})}),t.hideOverlappingLabels(e)}e(),a(t,"redraw",e)}),e.prototype.hideOverlappingLabels=function(t){var e,o,a,n,s,r,l,h,d,c=t.length;for(o=0;o<c;o++)(e=t[o])&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),o=0;o<c;o++)for(a=t[o],e=o+1;e<c;++e)n=t[e],a&&n&&a.placed&&n.placed&&0!==a.newOpacity&&0!==n.newOpacity&&(s=a.alignAttr,r=n.alignAttr,l=a.parentGroup,h=n.parentGroup,d=2*(a.box?0:a.padding),s=function(t,e,i,o,a,n,s,r){return!(a>t+i||a+s<t||n>e+o||n+r<e)}(s.x+l.translateX,s.y+l.translateY,a.width-d,a.height-d,r.x+h.translateX,r.y+h.translateY,n.width-d,n.height-d))&&((a.labelrank<n.labelrank?a:n).newOpacity=0);i(t,function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&t.placed&&(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(t),function(t){var e,i=t.addEvent,o=t.Chart,a=t.createElement,n=t.css,s=t.defaultOptions,r=t.defaultPlotOptions,l=t.each,h=t.extend,d=t.fireEvent,c=t.hasTouch,p=t.inArray,u=t.isObject,m=t.Legend,f=t.merge,g=t.pick,v=t.Point,y=t.Series,_=t.seriesTypes,M=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,i=e.pointer,o=function(t){for(var i,o=t.target;o&&!i;)i=o.point,o=o.parentNode;void 0!==i&&i!==e.hoverPoint&&i.onMouseOver(t)};l(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(l(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(t){i.onTrackerMouseOut(t)}),c&&t[e].on("touchstart",o),t.options.cursor&&t[e].css(n).css({cursor:t.options.cursor}))}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,i=e.options,o=i.trackByArea,a=[].concat(o?e.areaPath:e.graphPath),n=a.length,s=e.chart,r=s.pointer,h=s.renderer,d=s.options.tooltip.snap,p=e.tracker,u=function(){s.hoverSeries!==e&&e.onMouseOver()},m="rgba(192,192,192,"+(M?1e-4:.002)+")";if(n&&!o)for(t=n+1;t--;)"M"===a[t]&&a.splice(t+1,0,a[t+1]-d,a[t+2],"L"),(t&&"M"===a[t]||t===n)&&a.splice(t,0,"L",a[t-2]+d,a[t-1]);p?p.attr({d:a}):e.graph&&(e.tracker=h.path(a).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:m,fill:o?m:"none","stroke-width":e.graph.strokeWidth()+(o?0:2*d),zIndex:2}).add(e.group),l([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",u).on("mouseout",function(t){r.onTrackerMouseOut(t)}),i.cursor&&t.css({cursor:i.cursor}),c&&t.on("touchstart",u)}))}},_.column&&(_.column.prototype.drawTracker=e.drawTrackerPoint),_.pie&&(_.pie.prototype.drawTracker=e.drawTrackerPoint),_.scatter&&(_.scatter.prototype.drawTracker=e.drawTrackerPoint),h(m.prototype,{setItemEvents:function(t,e,i){var o=this,a=o.chart,n="highcharts-legend-"+(t.series?"point":"series")+"-active";(i?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),a.seriesGroup.addClass(n),e.css(o.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?o.itemStyle:o.itemHiddenStyle),a.seriesGroup.removeClass(n),t.setState()}).on("click",function(e){var i=function(){t.setVisible&&t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,i):d(t,"legendItemClick",e,i)})},createCheckboxForItem:function(t){t.checkbox=a("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),i(t.checkbox,"click",function(e){d(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),s.legend.itemStyle.cursor="pointer",h(o.prototype,{showResetZoom:function(){var t=this,e=s.lang,i=t.options.chart.resetZoomButton,o=i.theme,a=o.states,n="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},o,a&&a.hover).attr({align:i.position.align,title:e.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(i.position,!1,n)},zoomOut:function(){var t=this;d(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,o=this.pointer,a=!1;!t||t.resetSelection?l(this.axes,function(t){e=t.zoom()}):l(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,n=i.isXAxis;(o[n?"zoomX":"zoomY"]||o[n?"pinchX":"pinchY"])&&(e=i.zoom(t.min,t.max),i.displayBtn&&(a=!0))}),i=this.resetZoomButton,a&&!i?this.showResetZoom():!a&&u(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(g(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,e){var i,o=this,a=o.hoverPoints;a&&l(a,function(t){t.setState()}),l("xy"===e?[1,0]:[1],function(e){e=o[e?"xAxis":"yAxis"][0];var a=e.horiz,n=t[a?"chartX":"chartY"],a=a?"mouseDownX":"mouseDownY",s=o[a],r=(e.pointRange||0)/2,l=e.getExtremes(),h=e.toValue(s-n,!0)+r,r=e.toValue(s+e.len-n,!0)-r,s=s>n;e.series.length&&(s||h>Math.min(l.dataMin,l.min))&&(!s||r<Math.max(l.dataMax,l.max))&&(e.setExtremes(h,r,!1,!1,{trigger:"pan"}),i=!0),o[a]=n}),i&&o.redraw(!1),n(o.container,{cursor:"move"})}}),h(v.prototype,{select:function(t,e){var i=this,o=i.series,a=o.chart;t=g(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,o.options.data[p(i,o.data)]=i.options,i.setState(t&&"select"),e||l(a.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,o.options.data[p(t,o.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t,e){var i=this.series,o=i.chart,a=o.tooltip,n=o.hoverPoint;this.series&&(e||(n&&n!==this&&n.onMouseOut(),o.hoverSeries!==i&&i.onMouseOver(),o.hoverPoint=this),!a||a.shared&&!i.noSharedTooltip?a||this.setState("hover"):(this.setState("hover"),a.refresh(this,t)),this.firePointEvent("mouseOver"))},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&-1!==p(this,e)||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var t,e=f(this.series.options.point,this.options).events;this.events=e;for(t in e)i(this,t,e[t]);this.hasImportedEvents=!0}},setState:function(e,i){var o,a=Math.floor(this.plotX),n=this.plotY,s=this.series,l=s.options.states[e]||{},d=r[s.type].marker&&s.options.marker,c=d&&!1===d.enabled,p=d&&d.states&&d.states[e]||{},u=!1===p.enabled,m=s.stateMarkerGraphic,f=this.marker||{},v=s.chart,y=s.halo;(e=e||"")===this.state&&!i||this.selected&&"select"!==e||!1===l.enabled||e&&(u||c&&!1===p.enabled)||e&&f.states&&f.states[e]&&!1===f.states[e].enabled||(d&&s.markerAttribs&&(o=s.markerAttribs(this,e)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),e&&this.graphic.addClass("highcharts-point-"+e),this.graphic.attr(s.pointAttribs(this,e)),o&&this.graphic.animate(o,g(v.options.chart.animation,p.animation,d.animation)),m&&m.hide()):(e&&p&&(d=f.symbol||s.symbol,m&&m.currentSymbol!==d&&(m=m.destroy()),m?m[i?"animate":"attr"]({x:o.x,y:o.y}):d&&(s.stateMarkerGraphic=m=v.renderer.symbol(d,o.x,o.y,o.width,o.height).add(s.markerGroup),m.currentSymbol=d),m&&m.attr(s.pointAttribs(this,e))),m&&(m[e&&v.isInsidePlot(a,n,v.inverted)?"show":"hide"](),m.element.point=this)),(a=l.halo)&&a.size?(y||(s.halo=y=v.renderer.path().add(s.markerGroup||s.group)),t.stop(y),y[i?"animate":"attr"]({d:this.haloPath(a.size)}),y.attr({class:"highcharts-halo highcharts-color-"+g(this.colorIndex,s.colorIndex)}),y.attr(h({fill:this.color||s.color,"fill-opacity":a.opacity,zIndex:-1},a.attributes))):y&&y.animate({d:this.haloPath(0)}),this.state=e)},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),h(y.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&d(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,o=e.hoverPoint;e.hoverSeries=null,o&&o.onMouseOut(),this&&t.events.mouseOut&&d(this,"mouseOut"),!i||t.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),this.setState()},setState:function(t){var e=this,i=e.options,o=e.graph,a=i.states,n=i.lineWidth,i=0;if(t=t||"",e.state!==t&&(l([e.group,e.markerGroup],function(i){i&&(e.state&&i.removeClass("highcharts-series-"+e.state),t&&i.addClass("highcharts-series-"+t))}),e.state=t,!a[t]||!1!==a[t].enabled)&&(t&&(n=a[t].lineWidth||n+(a[t].lineWidthPlus||0)),o&&!o.dashstyle))for(a={"stroke-width":n},o.attr(a);e["zone-graph-"+i];)e["zone-graph-"+i].attr(a),i+=1},setVisible:function(t,e){var i,o=this,a=o.chart,n=o.legendItem,s=a.options.chart.ignoreHiddenSeries,r=o.visible;i=(o.visible=t=o.options.visible=o.userOptions.visible=void 0===t?!r:t)?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(t){o[t]&&o[t][i]()}),a.hoverSeries!==o&&(a.hoverPoint&&a.hoverPoint.series)!==o||o.onMouseOut(),n&&a.legend.colorizeItem(o,t),o.isDirty=!0,o.options.stacking&&l(a.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),l(o.linkedSeries,function(e){e.setVisible(t,!1)}),s&&(a.isDirtyBox=!0),!1!==e&&a.redraw(),d(o,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),d(this,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(t),function(t){var e=t.Chart,i=t.each,o=t.inArray,a=t.isObject,n=t.pick,s=t.splat;e.prototype.setResponsive=function(t){var e=this.options.responsive;e&&e.rules&&i(e.rules,function(e){this.matchResponsiveRule(e,t)},this)},e.prototype.matchResponsiveRule=function(e,i){var o,a=this.respRules,s=e.condition;o=e.callback||function(){return this.chartWidth<=n(s.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=n(s.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=n(s.minWidth,0)&&this.chartHeight>=n(s.minHeight,0)},void 0===e._id&&(e._id=t.idCounter++),o=o.call(this),!a[e._id]&&o?e.chartOptions&&(a[e._id]=this.currentOptions(e.chartOptions),this.update(e.chartOptions,i)):a[e._id]&&!o&&(this.update(a[e._id],i),delete a[e._id])},e.prototype.currentOptions=function(t){function e(t,i,n){var r,l;for(r in t)if(-1<o(r,["series","xAxis","yAxis"]))for(t[r]=s(t[r]),n[r]=[],l=0;l<t[r].length;l++)n[r][l]={},e(t[r][l],i[r][l],n[r][l]);else a(t[r])?(n[r]={},e(t[r],i[r]||{},n[r])):n[r]=i[r]||null}var i={};return e(t,this.options,i),i}}(t),t})},199:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var o=i(8),a={transit:{menu:{checked:"transit"},button:{activate:!0}}},n=o.a.getData("propertyDetails"),s={};n.ny_exp&&(s.default=a);var r={overlayControlsDefaults:s}},21:function(t,e,i){"use strict";var o,a,n,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r="object"===("undefined"==typeof window?"undefined":s(window));!function(s){a=[i(12)],o=s,void 0!==(n="function"==typeof o?o.apply(e,a):o)&&(t.exports=n)}(function(t){r&&!window.console&&(window.console={}),r&&!window.console.log&&(window.console.log=function(){}),r&&!window.console.warn&&(window.console.warn=function(){});var e;return function(t){function e(){}var i=Array.prototype.slice;!function(t){function o(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function a(e,o){t.fn[e]=function(a){if("string"==typeof a){for(var s=i.call(arguments,1),r=0,l=this.length;r<l;r++){var h=this[r],d=t.data(h,e);if(d)if(t.isFunction(d[a])&&"_"!==a.charAt(0)){var c=d[a].apply(d,s);if(void 0!==c&&c!==d)return c}else n("no such method '"+a+"' for "+e+" instance");else n("cannot call methods on "+e+" prior to initialization; attempted to call '"+a+"'")}return this}var p=this.map(function(){var i=t.data(this,e);return i?(i.option(a),i._init()):(i=new o(this,a),t.data(this,e,i)),t(this)});return!p||p.length>1?p:p[0]}}if(t){var n="undefined"==typeof console?e:function(t){console.error(t)};t.bridget=function(t,e){o(e),a(t,e)},t.bridget}}(t)}(t),function(t){function i(e,i){this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof e?this.element=document.querySelector(e):e instanceof HTMLElement&&(this.element=e),i=i||{};for(var o=Object.keys(this.defaultOptions),n=0;n<o.length;n++){var s=o[n],r=i[s];r=void 0!==r?r:function(t,e){var i="data-slider-"+e.replace(/_/g,"-"),o=t.getAttribute(i);try{return JSON.parse(o)}catch(t){return o}}(this.element,s),r=null!==r?r:this.defaultOptions[s],this.options||(this.options={}),this.options[s]=r}"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.tooltip_position="right";var l,h,d,c,p,u=this.element.style.width,m=!1,f=this.element.parentNode;if(this.sliderElem)m=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var g=document.createElement("div");if(g.className="slider-track",h=document.createElement("div"),h.className="slider-track-low",l=document.createElement("div"),l.className="slider-selection",d=document.createElement("div"),d.className="slider-track-high",c=document.createElement("div"),c.className="slider-handle min-slider-handle",c.setAttribute("role","slider"),c.setAttribute("aria-valuemin",this.options.min),c.setAttribute("aria-valuemax",this.options.max),p=document.createElement("div"),p.className="slider-handle max-slider-handle",p.setAttribute("role","slider"),p.setAttribute("aria-valuemin",this.options.min),p.setAttribute("aria-valuemax",this.options.max),g.appendChild(h),g.appendChild(l),g.appendChild(d),this.rangeHighlightElements=[],Array.isArray(this.options.rangeHighlights)&&this.options.rangeHighlights.length>0)for(var v=0;v<this.options.rangeHighlights.length;v++){var y=document.createElement("div");y.className="slider-rangeHighlight slider-selection",this.rangeHighlightElements.push(y),g.appendChild(y)}var _=Array.isArray(this.options.labelledby);if(_&&this.options.labelledby[0]&&c.setAttribute("aria-labelledby",this.options.labelledby[0]),_&&this.options.labelledby[1]&&p.setAttribute("aria-labelledby",this.options.labelledby[1]),!_&&this.options.labelledby&&(c.setAttribute("aria-labelledby",this.options.labelledby),p.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",n=0;n<this.options.ticks.length;n++){var M=document.createElement("div");if(M.className="slider-tick",this.options.ticks_tooltip){var b=this._addTickListener(),x=b.addMouseEnter(this,M,n),w=b.addMouseLeave(this,M);this.ticksCallbackMap[n]={mouseEnter:x,mouseLeave:w}}this.ticks.push(M),this.ticksContainer.appendChild(M)}l.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",n=0;n<this.options.ticks_labels.length;n++){var k=document.createElement("div"),C=0===this.options.ticks_positions.length,D=this.options.reversed&&C?this.options.ticks_labels.length-(n+1):n;k.className="slider-tick-label",k.innerHTML=this.options.ticks_labels[D],this.tickLabels.push(k),this.tickLabelContainer.appendChild(k)}var O=function(t){var e=document.createElement("div");e.className="tooltip-arrow";var i=document.createElement("div");i.className="tooltip-inner",t.appendChild(e),t.appendChild(i)},E=document.createElement("div");E.className="tooltip tooltip-main",E.setAttribute("role","presentation"),O(E);var T=document.createElement("div");T.className="tooltip tooltip-min",T.setAttribute("role","presentation"),O(T);var P=document.createElement("div");P.className="tooltip tooltip-max",P.setAttribute("role","presentation"),O(P),this.sliderElem.appendChild(g),this.sliderElem.appendChild(E),this.sliderElem.appendChild(T),this.sliderElem.appendChild(P),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(c),this.sliderElem.appendChild(p),f.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(t&&(this.$element=t(this.element),this.$sliderElem=t(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),a[this.options.scale]&&(this.options.scale=a[this.options.scale]),!0===m&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top"),this._removeProperty(t,"margin-left"),this._removeProperty(t,"margin-top"),this._removeClass(t,"right"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=u,this.options.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=h||this.trackLow,this.trackSelection=l||this.trackSelection,this.trackHigh=d||this.trackHigh,"none"===this.options.selection&&(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")),this.handle1=c||this.handle1,this.handle2=p||this.handle2,!0===m)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),n=0;n<this.ticks.length;n++)this._removeClass(this.ticks[n],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),n=0;n<this.ticks.length;n++)this._addClass(this.ticks[n],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable&&(this.sliderElem.addEventListener("touchstart",this.touchstart,!1),this.sliderElem.addEventListener("touchmove",this.touchmove,!1)),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide");else if("always"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){var S=this._addTickListener(),A=S.addMouseEnter(this,this.handle1),L=S.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:A,mouseLeave:L},A=S.addMouseEnter(this,this.handle2),L=S.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:A,mouseLeave:L}}else this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1);this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)}this.options.enabled?this.enable():this.disable()}var o={formatInvalidInputErrorMsg:function(t){return"Invalid input value '"+t+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},a={linear:{toValue:function(t){var e=t/100*(this.options.max-this.options.min),i=!0;if(this.options.ticks_positions.length>0){for(var o,a,n,s=0,r=1;r<this.options.ticks_positions.length;r++)if(t<=this.options.ticks_positions[r]){o=this.options.ticks[r-1],n=this.options.ticks_positions[r-1],a=this.options.ticks[r],s=this.options.ticks_positions[r];break}e=o+(t-n)/(s-n)*(a-o),i=!1}var l=i?this.options.min:0,h=l+Math.round(e/this.options.step)*this.options.step;return h<this.options.min?this.options.min:h>this.options.max?this.options.max:h},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var e,i,o,a=0,n=0;n<this.options.ticks.length;n++)if(t<=this.options.ticks[n]){e=n>0?this.options.ticks[n-1]:0,o=n>0?this.options.ticks_positions[n-1]:0,i=this.options.ticks[n],a=this.options.ticks_positions[n];break}if(n>0){return o+(t-e)/(i-e)*(a-o)}}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=0===this.options.min?0:Math.log(this.options.min),i=Math.log(this.options.max),o=Math.exp(e+(i-e)*t/100);return o=this.options.min+Math.round((o-this.options.min)/this.options.step)*this.options.step,o<this.options.min?this.options.min:o>this.options.max?this.options.max:o},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var e=Math.log(this.options.max),i=0===this.options.min?0:Math.log(this.options.min);return 100*((0===t?0:Math.log(t))-i)/(e-i)}}};e=function(t,e){return i.call(this,t,e),this},e.prototype={_init:function(){},constructor:e,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(t,e,i){t||(t=0);var o=this.getValue();this._state.value=this._validateInputValue(t);var a=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=a(this._state.value[0]),this._state.value[1]=a(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=a(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var n=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(n),!0===e&&this._trigger("slide",n),o!==n&&!0===i&&this._trigger("change",{oldValue:o,newValue:n}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),t&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(t,e){return this._bindNonQueryEventHandler(t,e),this},off:function(e,i){t?(this.$element.off(e,i),this.$sliderElem.off(e,i)):this._unbindNonQueryEventHandler(e,i)},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,e){return this.options[t]=e,this},refresh:function(){return this._removeSliderEventHandlers(),i.call(this,this.element,this.options),t&&t.data(this.element,"slider",this),this},relayout:function(){return this._resize(),this._layout(),this},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var t=this.ticksContainer.getElementsByClassName("slider-tick"),e=0;e<t.length;e++)t[e].removeEventListener("mouseenter",this.ticksCallbackMap[e].mouseEnter,!1),t[e].removeEventListener("mouseleave",this.ticksCallbackMap[e].mouseLeave,!1);this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1)}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&(this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle2.removeEventListener("focus",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("blur",this.hideTooltip,!1)),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(t,e){void 0===this.eventToCallbackMap[t]&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_unbindNonQueryEventHandler:function(t,e){var i=this.eventToCallbackMap[t];if(void 0!==i)for(var o=0;o<i.length;o++)if(i[o]===e){i.splice(o,1);break}},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var i=t[e];delete this.eventToCallbackMap[i]}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this.alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_setToolTipOnMouseOver:function(t){function e(t,e){return e?[100-t.percentage[0],this.options.range?100-t.percentage[1]:t.percentage[1]]:[t.percentage[0],t.percentage[1]]}var i=this.options.formatter(t?t.value[0]:this._state.value[0]),o=t?e(t,this.options.reversed):e(this._state,this.options.reversed);this._setHtml(this.tooltipInner,i),this.tooltip.style[this.stylePos]=o[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px")},_addTickListener:function(){return{addMouseEnter:function(t,e,i){var o=function(){var e=t._state,o=i>=0?i:this.attributes["aria-valuenow"].value,a=parseInt(o,10);e.value[0]=a,e.percentage[0]=t.options.ticks_positions[a],t._setToolTipOnMouseOver(e),t._showTooltip()};return e.addEventListener("mouseenter",o,!1),o},addMouseLeave:function(t,e){var i=function(){t._hideTooltip()};return e.addEventListener("mouseleave",i,!1),i}}},_layout:function(){var t;if(t=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),this.handle2.style[this.stylePos]=t[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),this.rangeHighlightElements.length>0&&Array.isArray(this.options.rangeHighlights)&&this.options.rangeHighlights.length>0)for(var e=0;e<this.options.rangeHighlights.length;e++){var i=this._toPercentage(this.options.rangeHighlights[e].start),o=this._toPercentage(this.options.rangeHighlights[e].end);if(this.options.reversed){var a=100-o;o=100-i,i=a}var n=this._createHighlightRange(i,o);n?"vertical"===this.options.orientation?(this.rangeHighlightElements[e].style.top=n.start+"%",this.rangeHighlightElements[e].style.height=n.size+"%"):(this.rangeHighlightElements[e].style.left=n.start+"%",this.rangeHighlightElements[e].style.width=n.size+"%"):this.rangeHighlightElements[e].style.display="none"}if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var s="vertical"===this.options.orientation?"height":"width",r="vertical"===this.options.orientation?"marginTop":"marginLeft",l=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var h=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[r]=-l/2+"px"),h=this.tickLabelContainer.offsetHeight;else for(d=0;d<this.tickLabelContainer.childNodes.length;d++)this.tickLabelContainer.childNodes[d].offsetHeight>h&&(h=this.tickLabelContainer.childNodes[d].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=h+"px")}for(var d=0;d<this.options.ticks.length;d++){var c=this.options.ticks_positions[d]||this._toPercentage(this.options.ticks[d]);this.options.reversed&&(c=100-c),this.ticks[d].style[this.stylePos]=c+"%",this._removeClass(this.ticks[d],"in-selection"),this.options.range?c>=t[0]&&c<=t[1]&&this._addClass(this.ticks[d],"in-selection"):"after"===this.options.selection&&c>=t[0]?this._addClass(this.ticks[d],"in-selection"):"before"===this.options.selection&&c<=t[0]&&this._addClass(this.ticks[d],"in-selection"),this.tickLabels[d]&&(this.tickLabels[d].style[s]=l+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[d]?(this.tickLabels[d].style.position="absolute",this.tickLabels[d].style[this.stylePos]=c+"%",this.tickLabels[d].style[r]=-l/2+"px"):"vertical"===this.options.orientation&&(this.tickLabels[d].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style.marginTop=this.sliderElem.offsetWidth/2*-1+"px"))}}var p;if(this.options.range){p=this.options.formatter(this._state.value),this._setHtml(this.tooltipInner,p),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"),"vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");var u=this.options.formatter(this._state.value[0]);this._setHtml(this.tooltipInner_min,u);var m=this.options.formatter(this._state.value[1]);this._setHtml(this.tooltipInner_max,m),this.tooltip_min.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=t[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")}else p=this.options.formatter(this._state.value[0]),this._setHtml(this.tooltipInner,p),this.tooltip.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%",this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var f=this.tooltip_min.getBoundingClientRect(),g=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?f.right>g.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):f.right>g.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_createHighlightRange:function(t,e){return this._isHighlightRange(t,e)?t>e?{start:e,size:t-e}:{start:t,size:e-t}:null},_isHighlightRange:function(t,e){return 0<=t&&t<=100&&0<=e&&e<=100},_resize:function(t){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function(t){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var i=Math.abs(this._state.percentage[0]-e),o=Math.abs(this._state.percentage[1]-e);this._state.dragged=i<o?0:1,this._adjustPercentageForRangeSliders(e)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=e,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var a=this._calculateValue();return this._trigger("slideStart",a),this._setDataVal(a),this.setValue(a,!1,!0),this._pauseEvent(t),this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(t){if(void 0===t.changedTouches)return void this._mousedown(t);var e=t.changedTouches[0];this.touchX=e.pageX,this.touchY=e.pageY},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,e){if(!this._state.enabled)return!1;var i;switch(e.keyCode){case 37:case 40:i=-1;break;case 39:case 38:i=1}if(i){if(this.options.natural_arrow_keys){var o="vertical"===this.options.orientation&&!this.options.reversed,a="horizontal"===this.options.orientation&&this.options.reversed;(o||a)&&(i=-i)}var n=this._state.value[t]+i*this.options.step;return this.options.range&&(n=[t?this._state.value[0]:n,t?n:this._state.value[1]]),this._trigger("slideStart",n),this._setDataVal(n),this.setValue(n,!0,!0),this._setDataVal(n),this._trigger("slideStop",n),this._layout(),this._pauseEvent(e),!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,this._layout();var i=this._calculateValue(!0);return this.setValue(i,!0,!0),!1},_touchmove:function(t){if(void 0!==t.changedTouches){var e=t.changedTouches[0],i=e.pageX-this.touchX,o=e.pageY-this.touchY;this._state.inDrag||("vertical"===this.options.orientation&&i<=5&&i>=-5&&(o>=15||o<=-15)?this._mousedown(t):o<=5&&o>=-5&&(i>=15||i<=-15)&&this._mousedown(t))}},_adjustPercentageForRangeSliders:function(t){if(this.options.range){var e=this._getNumDigitsAfterDecimalPlace(t);e=e?e-1:0;var i=this._applyToFixedAndParseFloat(t,e);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],e)<i?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],e)>i&&(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0)}},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,!1===this._state.over&&this._hideTooltip();var t=this._calculateValue(!0);return this._layout(),this._setDataVal(t),this._trigger("slideStop",t),!1},_calculateValue:function(t){var e;if(this.options.range?(e=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(e[0]=this._toValue(this._state.percentage[0]),e[0]=this._applyPrecision(e[0])),100!==this._state.percentage[1]&&(e[1]=this._toValue(this._state.percentage[1]),e[1]=this._applyPrecision(e[1]))):(e=this._toValue(this._state.percentage[0]),e=parseFloat(e),e=this._applyPrecision(e)),t){for(var i=[e,1/0],o=0;o<this.options.ticks.length;o++){var a=Math.abs(this.options.ticks[o]-e);a<=i[1]&&(i=[this.options.ticks[o],a])}if(i[1]<=this.options.ticks_snap_bounds)return i[0]}return e},_applyPrecision:function(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(t,e){var i=t.toFixed(e);return parseFloat(i)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var e=t[this.mousePos],i=this._state.offset[this.stylePos],o=e-i,a=o/this._state.size*100;return a=Math.round(a/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(a=100-a),Math.max(0,Math.min(100,a))},_validateInputValue:function(t){if(isNaN(+t)){if(Array.isArray(t))return this._validateArray(t),t;throw new Error(o.formatInvalidInputErrorMsg(t))}return+t},_validateArray:function(t){for(var e=0;e<t.length;e++){var i=t[e];if("number"!=typeof i)throw new Error(o.formatInvalidInputErrorMsg(i))}},_setDataVal:function(t){this.element.setAttribute("data-value",t),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(e,i){i=i||0===i?i:void 0;var o=this.eventToCallbackMap[e];if(o&&o.length)for(var a=0;a<o.length;a++){var n=o[a];n(i)}t&&this._triggerJQueryEvent(e,i)},_triggerJQueryEvent:function(t,e){var i={type:t,value:e};this.$element.trigger(i),this.$sliderElem.trigger(i)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setHtml:function(t,e){void 0!==t.innerHTML?t.innerHTML=e:void 0!==t.innerText&&(t.innerText=e)},_setText:function(t,e){void 0!==t.textContent?t.textContent=e:void 0!==t.innerText&&(t.innerText=e)},_removeClass:function(t,e){for(var i=e.split(" "),o=t.className,a=0;a<i.length;a++){var n=i[a],s=new RegExp("(?:\\s|^)"+n+"(?:\\s|$)");o=o.replace(s," ")}t.className=o.trim()},_addClass:function(t,e){for(var i=e.split(" "),o=t.className,a=0;a<i.length;a++){var n=i[a];new RegExp("(?:\\s|^)"+n+"(?:\\s|$)").test(o)||(o+=" "+n)}t.className=o.trim()},_offsetLeft:function(t){return t.getBoundingClientRect().left},_offsetTop:function(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop,"BODY"!==t.tagName&&(e-=t.scrollTop);return e},_offset:function(t){return{left:this._offsetLeft(t),top:this._offsetTop(t)}},_css:function(e,i,o){if(t)t.style(e,i,o);else{var a=i.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()});e.style[a]=o}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var e=this.options.tooltip_position||"right",i="left"===e?"right":"left";t.forEach(function(t){this._addClass(t,e),t.style[i]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?t.forEach(function(t){this._addClass(t,"bottom"),t.style.top="22px"}.bind(this)):t.forEach(function(t){this._addClass(t,"top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},t&&function(){var i=void 0;t.fn.slider?i="bootstrapSlider":(t.bridget("slider",e),i="slider"),t.bridget("bootstrapSlider",e),t(function(){t("input[data-provide=slider]")[i]()})}()}(t),e})},290:function(t,e,i){t.exports=i.p+"pin-property@1x-a4fea9dd3452245072d91316c7f55af6.png"},30:function(t,e){MOVE.DateFormat=function(t){var e=function(t){var e=t.getFullYear(),i=(1+t.getMonth()).toString();i=i.length>1?i:"0"+i;var o=t.getDate().toString();return o=o.length>1?o:"0"+o,i+"/"+o+"/"+e};return t.DateFormat={getFormattedDate:e},t.DateFormat}(MOVE||{})},31:function(t,e){MOVE.PhotoGallery=function(){var t,e,i,o,a,n,s,r=!0,l=function(o){a=o,r&&(t(),e()),i(),MOVE.DOMHelper.highlightThumbnail(a,n),r=!1};return t=function(){s=$("#cmtPhotoGallery");var t={target:s,currentIndex:a,margin:50,navigationContainer:"#cmtPhotoGalleryNavigation"},e=function(t,e){MOVE.DOMHelper.highlightThumbnail(e,n),MOVE.Photos.loadPhoto(s)};MOVE.Photos.init(t,e)},e=function(){n=$("#photoCarousel","#cmt-fullscreen-gallery"),MOVE.DOMHelper.loadCarouselThumbnails(n),n.on("click",".owl-item",function(){var t=$(this),e=n.data("owl.carousel").relative(t.index());s.trigger("to.owl.carousel",[e,200,!0]),n.find("div.highlight").removeClass("highlight"),t.addClass("highlight"),s.hasClass("hide")&&o()})},$("#viewOriginal").on("click",function(){if(void 0!==s){var t=s.find(".owl-item.active img").attr("src");window.open(t.replace(/xd-(\w+)/,"r"),"_blank")}}),i=function(){s.trigger("to.owl.carousel",[a,200,!0]),s.hasClass("hide")&&o()},o=function(){s.toggleClass("hide")},MOVE.PhotoGallery={init:l},MOVE.PhotoGallery}(MOVE)},325:function(t,e){MOVE.LDP.AptlistRecommendationsModal=function(t){var e=$("#aptlist-recommendations-modal"),i=function(){var t="";MOVE.CONSTANTS.IS_IPAD&&(t="modal-scroll-fix"),e.on("shown.bs.modal",function(){$("body").addClass("modal-open "+t)}),e.on("hidden.bs.modal",function(){$("body").removeClass("modal-scroll-fix")}),e.modal()},o=function(t){MOVE_DATA.adobeDTM.modal={name:"post-lead:aptlist"},_satellite.track("modal:impression"),e.length?i():MOVE.ModalHelper.fetchModal("#aptlist-recommendations-modal",MOVE.LDP.model.getData(),{recommendations:t})};return t.AptlistRecommendationsModal={show:o},t.AptlistRecommendationsModal}(MOVE.LDP||{})},326:function(t,e){MOVE.LDP.BrowseModules=function(t){var e,i,o=$(".ldp-connected-listings"),a=$(".js-bm-container"),n=$("#ldp-homes-with-similar-mortgage"),s=["recommended_homes"],r=function(t){h(t),MOVE.DOMHelper.initPopOver(n)},l=function(){var t=o.filter("[data-is-load-complete='true']"),e=o.filter("[data-is-load-complete='false']"),i=function(t){var e=$(t);if(e.hasClass("hide")||0===e.find(".owl-carousel").children("div").length)return void e.addClass("hide");var i=e.find(".rdc-carousel");if(i.RdcHorizontalCarousel({items:5,loop:!1,showNav:"show",margin:15,moveBy:"set"}),e.find(".browse-module-card").on("tap",function(){$(this).find(".bm-link-overlay").trigger("click")}),MOVE.DOMHelper.unveilLoadImages("img",{},i),MOVE.LocalStorage.isAvailable)if(1===window.performance.navigation.type)window.localStorage.removeItem("browseModulesSavedListings");else if(2===window.performance.navigation.type){var o=MOVE.Common.getSavedListings();o.length&&_.each(o,function(t){var e=t.split(":"),i=e[0],o=e[1],a=$('div[data-listingid="'+i+'"]');a.length&&a.find(".hp-unsave").is(":hidden")&&a.find(".hp-unsave").data("res-id",o).show().end().find(".hp-save").hide()})}};e.on("load-complete",function(t){i(t.target)}),t.each(function(t,e){i(e)})},h=function(t){e=t.bmType,m().done(function(e){f(e,t)})},d=function(){i=MOVE.LDP.model.getData(),$.each(s,function(t,e){h(b(e))}),_.isEmpty(i.postal_code)?c()&&r(b("homes_near_street")):$.each(u(),function(t,e){r(b(e))})},c=function(){return!MOVE.FormatHelper.isEmpty(i.lat)&&!MOVE.FormatHelper.isEmpty(i.long)},p=function(){var t=($.cookie()["AMCV_8853394255142B6A0A4C98A4@AdobeOrg"]||"").split("|");return t[t.indexOf("MCMID")+1]},u=function(){var t=MOVE.LDP.model.getData()||{},e=["for_sale","not_for_sale"].indexOf(t.property_type)>-1,i="for_rent"===t.property_type,o=t.features_list||[],a=o.indexOf("Pool and Spa")>-1||o.indexOf("Pool")>-1,n=$("#homes-near-street-wrapper").length,s=[];return $("#ldp-detail-romance").length&&!a&&(a=$("#ldp-detail-romance").text().toLowerCase().indexOf("swimming pool")>-1),n&&c()&&(s=["homes_near_street"]),e&&a?s=s.concat(["homes_with_pool"]):i&&(s=s.concat(["homes_with_similar_mortgage"])),s},m=function(){var t=$.Deferred();return $.ajax({url:"/browse_modules/"+e,method:"recommended_homes"===e?"POST":"GET",data:v(),dataType:"JSON",success:function(e){t.resolve(e)},error:function(e){t.reject(e)}}),t},f=function(t,e){if(t&&t.properties&&t.properties.length>=3){var i=MOVE.LDP.model.getData()||{};if("homes_near_street"===e.bmType){if(MOVE.Helper.isPhone()&&t.neighborhood_highlights.length<4)e.bmContainerObj.addClass("hide");else if(t.properties.length>=4){var o,a;t.properties=_.filter(t.properties,function(t){return i.property_id!==t.property_id}),o=$.extend(i,{homes_near_street:t}),a=JST["templates/homes_near_street"]({property:o,is_mobile:MOVE.Helper.isPhone(),homes_around_title:o.homes_around_title,haven_cta_enabled:o.haven_cta_enabled,address_unavailable:o.address_unavailable,haven_myhome_tracking_enabled:o.haven_myhome_tracking_enabled,is_user_claimed_home:o.is_user_claimed_home,haven_property_cta:o.haven_property_cta,map:{recently_built:"ldp:neighborhood-highlights:for-sale:recently-built:card",smallest_size:"ldp:neighborhood-highlights:for-sale:smallest-size:card",largest_size:"ldp:neighborhood-highlights:for-sale:largest-size:card",recently_listed:"ldp:neighborhood-highlights:for-sale:recently-listed:card",hidden_gem:"ldp:neighborhood-highlights:for-sale:hidden-gem:card",most_affordable:"ldp:neighborhood-highlights:for-sale:most-affordable:card",most_expensive:"ldp:neighborhood-highlights:for-sale:most-expensive:card",sold_fastest:"ldp:neighborhood-highlights:recently-sold:sold-fastest:card",recent_sale:"ldp:neighborhood-highlights:recently-sold:recent-sale:card",sold_above_asking:"ldp:neighborhood-highlights:recently-sold:sold-above-asking:card",sold_below_asking:"ldp:neighborhood-highlights:recently-sold:sold-below-asking:card"}}),e.bmContainerObj.html(a),MOVE.LDP.HomesNearStreet.init(),$("#ldp-recently-sold-around").hasClass("hide")||MOVE.Helper.isPhone()||MOVE.LDP.Map.init("recentlySoldAroundMap",!0,!1)}}else{var n=t.description,s=t.properties,r=e.bmContainerObj.find(".owl-carousel"),l=e.bmContainerObj.find(".bm-view-more-card");l.hide(),e.bmObj.find(".js-bm").removeClass("hide"),"homes_with_similar_mortgage"===e.bmType&&e.bmObj.find(".js-bm-disclaimer").removeClass("hide"),$.each(s,function(i,o){var a=MOVE.LDP.model.getData()||{},n=a.saved_listings,h=_.find(n,function(t){return parseInt(t.sub_resource_id)===parseInt(o.listing_id)});h&&(o.saved_resource_id=h.id);var d=JST["templates/browse_modules_card"]({property:o,listing_class:"",listing_index:i,omtag:g(t.omniture_tag,e.omtag),browse_module_count:s.length,show_full_address:"recommended_homes"===e.bmType,is_mobile:MOVE.Helper.isPhone()});if(l.length&&s.length>=7?l.before(d):(l.remove(),r.append(d)),i==s.length-1&&s.length>=7)if("homes_with_similar_mortgage"===e.bmType){var c=e.bmContainerObj.find(".bm-view-more-card .listing-card-more");c.length>0&&void 0!==t.srp_url?(c.attr("href",t.srp_url+"?from_ldp=true"),l.show()):l.hide()}else l.show()}),n&&e.bmContainerObj.after('<p class="font-size-small color-gray">'+n+"</p>")}}else e.bmObj.addClass("hide");e.bmObj.data("is-load-complete",!0),e.bmObj.trigger("load-complete")},g=function(t,e){return void 0!==t?"ldp:browse-more:"+t+":by-user":e},v=function(){var t=MOVE.LDP.model.getData()||{},i=MOVE.DataStore.getData("median_listing_price"),o={id:t.property_id,price:t.price,postal_code:t.postal_code,median_price:i,type:e,vis_id:$.cookie("__vst"),mcm_id:p(),address:t.address_display,user_id:MOVE.DataStore.getData("memberId")};return"homes_with_similar_mortgage"===e&&$.extend(o,{mortgage_min:t.price_min||t.price,mortgage_max:t.price_max,state_code:t.state_code}),"recommended_homes"===e&&$.extend(o,y()),"homes_near_street"===e&&$.extend(o,{city:t.city,coordinates:t.lat+","+t.long}),o},y=function(){var t=MOVE.UserActivity.getSortedRecentSearches(),e=MOVE.UserActivity.getSortedRecentViews();return{recent_searches:JSON.stringify(_.first(_.filter(t,function(t){return"for_sale"===t.resource_type}),5)),recent_ldp_views:JSON.stringify(_.first(_.filter(e,function(t){return"for_sale"===t.sub_resource_type}),20)),total_ldp_cnt:_.reduce(e,function(t,e){return t+e.views},0),recommended_homes_variation:MOVE.DataStore.getData("recommendedHomesVariation")}},M=function(){o.appear(),o.is(":appeared")&&(o.off("appear"),$(window).scroll())},b=function(t){var e={};switch(t){case"homes_with_pool":e=x();break;case"homes_near_street":e=w();break;case"recommended_homes":e=C();break;case"homes_with_similar_mortgage":e=k()}return e.bmType=t,e},x=function(){return{bmObj:a.find("#ldp-homes-with-pool"),bmContainerObj:a.find(".js-ldp-homes-with-pool"),omtag:"ldp:browse-more:features-pools:within-zip"}},w=function(){return{bmObj:$("#homes-near-street"),bmContainerObj:$("#homes-near-street-wrapper")}},k=function(){return{bmObj:a.find("#ldp-homes-with-similar-mortgage"),bmContainerObj:a.find(".js-ldp-homes-with-similar-mortgage"),omtag:"ldp:homes-with-similar-mortgages:card"}},C=function(){return{bmObj:a.find("#ldp-recommended-homes"),bmContainerObj:a.find(".js-ldp-recommended-homes"),omtag:"ldp:browse-more:recommended-homes:by-user"}};return t.BrowseModules={init:r,getData:h,loadBrowseModulePhotos:M,lazyLoadBrowseModules:d,initCarousels:l},t.BrowseModules}(MOVE.LDP||{})},327:function(t,e){MOVE.LDP.CalendarEvent=function(t){var e,i=function(){e=MOVE.LDP.model.getData()||{}},o=function(t){var e,i=$(t).parents(".open-house-back"),o=$(t).parent().data("calendar"),a=i.data("starttime"),r=i.data("endtime");e="google"==o?n(a,r):s(a,r),$(t).attr("href",e)},a=function(t){return(t||"").replace(/-|:|\.\d+/g,"")},n=function(t,i){return encodeURI(["https://www.google.com/calendar/render","?action=TEMPLATE","&text=Visit Open House: "+(e.address_display||""),"&dates="+(a(t)||""),"/"+(a(i)||""),"&details=Visit this property: "+(e.full_address_display||""),"&location="+(e.full_address_display||""),"&sprop=&sprop=name:"].join(""))},s=function(t,i){return encodeURI("data:text/calendar;charset=utf8,"+["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","URL:"+document.URL,"DTSTART:"+(a(t)||""),"DTEND:"+(a(i)||""),"SUMMARY:Visit Open House: "+(e.address_display||""),"DESCRIPTION:Visit this property: "+(e.full_address_display||""),"LOCATION:"+(e.full_address_display||""),"END:VEVENT","END:VCALENDAR"].join("\n"))};return t.CalendarEvent={init:i,createUrl:o},t.CalendarEvent}(MOVE.LDP||{})},328:function(t,e){MOVE.LDP.CallLeads=function(t){var e,i,o,a=function(){e=MOVE.LDP.model.getData()||{},MOVE.Helper.isPhone()&&$(".phone-tracking").on("click",function(){o="LPS",i=this,l()})},n=function(){return MOVE_DATA.propertyDetails.status===MOVE.CONSTANTS.PROPERTY_STATUS.forRent?s():r()},s=function(){if(MOVE_DATA.adobeDTM.listing){var t;return"basic"===MOVE_DATA.adobeDTM.listing.leadDelivery&&"mls"===MOVE_DATA.adobeDTM.dataSourceType?(t="basic",o="LCS"):"showcase"===MOVE_DATA.adobeDTM.listing.leadDelivery?t="showcase":"advantage_pro"===MOVE_DATA.adobeDTM.listing.leadDelivery?(t=MOVE_DATA.adobeDTM.listing.leadDelivery,o="LCS"):"unit_rental"===MOVE_DATA.adobeDTM.dataSourceType?t="rental basic unit":"community"===MOVE_DATA.adobeDTM.dataSourceType&&(t="rental basic community"),t}},r=function(){var t;return MOVE_DATA.adobeDTM.listing&&"advantage_pro"===MOVE_DATA.adobeDTM.listing.leadDelivery?(t="advantage_pro",o="LCS"):(t="basic",o="LCS"),t},l=function(){var t="tfn"===$(i).attr("data-phone-number-type"),e=n();t||$.ajax({data:h(e),url:"/leads",type:"POST",success:function(){}})},h=function(t){var a=$(i).attr("data-business-card"),n={lead:{lead_service:o,lead_capture_product:t,guid:"",master_listing_id:e.listing_id,property_id:e.property_id,status:d(e.status,o),phone:$(i).attr("data-phone-number"),business_card:a,advertiser_id:MOVE_DATA.adobeDTM["advertiserID-office"],community_id:MOVE_DATA.propertyDetails.community_id,form_name:MOVE.CONSTANTS.ADVERTISER_FORM_NAME_MAPPING[a],target:MOVE.CONSTANTS.ADVERTISER_TARGET_MAPPING[a],recent_searches:JSON.stringify(MOVE.UserActivity.getRecentSearches()),recent_views:JSON.stringify(MOVE.UserActivity.getRecentViews())},call_lead:!0};return $.param(n)},d=function(t,e){return"for_rent"===t&&"LCS"===e?"rental":t};return t.CallLeads={init:a,_TEST_getLeadCaptureProduct:n},t.CallLeads}(MOVE.LDP||{})},329:function(t,e){MOVE.LDP.DetailsKeyFact=function(t){var e=$("#key-fact-carousel"),i=function(){var t={loop:!1,showNav:"show",moveBy:"set",responsive:{0:{items:1,autoWidth:!0},996:{items:6,autoWidth:!1},1280:{items:6,autoWidth:!1}}};e.RdcHorizontalCarousel(t)};return t.DetailsKeyFact={init:i},t.DetailsKeyFact}(MOVE.LDP||{})},33:function(t,e,i){var o,a,n;!function(s){a=[i(12)],o=s,void 0!==(n="function"==typeof o?o.apply(e,a):o)&&(t.exports=n)}(function(t,e){function i(){return new Date(Date.UTC.apply(Date,arguments))}function o(){var t=new Date;return i(t.getFullYear(),t.getMonth(),t.getDate())}function a(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function n(t){return function(){return this[t].apply(this,arguments)}}function s(t){return t&&!isNaN(t.getTime())}function r(e,i){function o(t,e){return e.toLowerCase()}var a,n=t(e).data(),s={},r=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in n)i.test(l)&&(a=l.replace(r,o),s[a]=n[l]);return s}function l(e){var i={};if(g[e]||(e=e.split("-")[0],g[e])){var o=g[e];return t.each(f,function(t,e){e in o&&(i[e]=o[e])}),i}}var h=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,o=this.length;o>i;i++)if(this[i].valueOf()===e)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new h;return t.replace(this),t}};return function(){var i=[];return i.push.apply(i,arguments),t.extend(i,e),i}}(),d=function(e,i){this._process_options(i),this.dates=new h,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(v.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};d.prototype={constructor:d,_process_options:function(a){this._o=t.extend({},this._o,a);var n=this.o=t.extend({},this._o),s=n.language;switch(g[s]||(s=s.split("-")[0],g[s]||(s=m.language)),n.language=s,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}switch(n.maxViewMode){case 0:case"days":n.maxViewMode=0;break;case 1:case"months":n.maxViewMode=1;break;default:n.maxViewMode=2}n.startView=Math.min(n.startView,n.maxViewMode),n.startView=Math.max(n.startView,n.minViewMode),!0!==n.multidate&&(n.multidate=Number(n.multidate)||!1,!1!==n.multidate&&(n.multidate=Math.max(0,n.multidate))),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var r=v.parseFormat(n.format);if(n.startDate!==-1/0&&(n.startDate?n.startDate instanceof Date?n.startDate=this._local_to_utc(this._zero_time(n.startDate)):n.startDate=v.parseDate(n.startDate,r,n.language):n.startDate=-1/0),n.endDate!==1/0&&(n.endDate?n.endDate instanceof Date?n.endDate=this._local_to_utc(this._zero_time(n.endDate)):n.endDate=v.parseDate(n.endDate,r,n.language):n.endDate=1/0),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],t.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=t.map(n.daysOfWeekDisabled,function(t){return parseInt(t,10)}),n.daysOfWeekHighlighted=n.daysOfWeekHighlighted||[],t.isArray(n.daysOfWeekHighlighted)||(n.daysOfWeekHighlighted=n.daysOfWeekHighlighted.split(/[,\s]*/)),n.daysOfWeekHighlighted=t.map(n.daysOfWeekHighlighted,function(t){return parseInt(t,10)}),n.datesDisabled=n.datesDisabled||[],!t.isArray(n.datesDisabled)){var l=[];l.push(v.parseDate(n.datesDisabled,r,n.language)),n.datesDisabled=l}n.datesDisabled=t.map(n.datesDisabled,function(t){return v.parseDate(t,r,n.language)});var h=String(n.orientation).toLowerCase().split(/\s+/g),d=n.orientation.toLowerCase();if(h=t.grep(h,function(t){return/^auto|left|right|top|bottom$/.test(t)}),n.orientation={x:"auto",y:"auto"},d&&"auto"!==d)if(1===h.length)switch(h[0]){case"top":case"bottom":n.orientation.y=h[0];break;case"left":case"right":n.orientation.x=h[0]}else d=t.grep(h,function(t){return/^left|right$/.test(t)}),n.orientation.x=d[0]||"auto",d=t.grep(h,function(t){return/^top|bottom$/.test(t)}),n.orientation.y=d[0]||"auto";if(n.defaultViewDate){var c=n.defaultViewDate.year||(new Date).getFullYear(),p=n.defaultViewDate.month||0,u=n.defaultViewDate.day||1;n.defaultViewDate=i(c,p,u)}else n.defaultViewDate=o();n.showOnFocus=n.showOnFocus===e||n.showOnFocus,n.zIndexOffset=n.zIndexOffset!==e?n.zIndexOffset:10},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var i,o,a,n=0;n<t.length;n++)i=t[n][0],2===t[n].length?(o=e,a=t[n][1]):3===t[n].length&&(o=t[n][1],a=t[n][2]),i.on(a,o)},_unapplyEvents:function(t){for(var i,o,a,n=0;n<t.length;n++)i=t[n][0],2===t[n].length?(a=e,o=t[n][1]):3===t[n].length&&(a=t[n][1],o=t[n][2]),i.off(o,a)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};!0===this.o.showOnFocus&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),e],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":t.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{mousedown:t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.picker.hasClass("datepicker-inline")||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var o=i||this.dates.get(-1),a=this._utc_to_local(o);this.element.trigger({type:e,date:a,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return v.formatDate(i,e,this.o.language)},this)})},show:function(){return this.element.attr("readonly")&&!1===this.o.enableOnReadonly?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this)},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var i;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==t.inArray("text/plain",e.originalEvent.clipboardData.types))i=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i),this.update(),e.preventDefault()},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return void 0!==t?new Date(t):null},clearDates:function(){var t;this.isInput?t=this.element:this.component&&(t=this.element.find("input")),t&&t.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:n("setDates"),setUTCDate:n("setUTCDates"),setValue:function(){var t=this.getFormattedDate();return this.isInput?this.element.val(t):this.component&&this.element.find("input").val(t),this},getFormattedDate:function(i){i===e&&(i=this.o.format);var o=this.o.language;return t.map(this.dates,function(t){return v.formatDate(t,i,o)}).join(this.o.multidateSeparator)},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){this._process_options({datesDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),i=this.picker.outerHeight(),o=t(this.o.container),a=o.width(),n=o.scrollTop(),s=o.offset(),r=[];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==e&&r.push(parseInt(e))});var l=Math.max.apply(Math,r)+this.o.zIndexOffset,h=this.component?this.component.parent().offset():this.element.offset(),d=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),c=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=h.left-s.left,u=h.top-s.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=e-c)):h.left<0?(this.picker.addClass("datepicker-orient-left"),p-=h.left-10):p+e>a?(this.picker.addClass("datepicker-orient-right"),p=h.left+c-e):this.picker.addClass("datepicker-orient-left");var m,f=this.o.orientation.y;if("auto"===f&&(m=-n+u-i,f=0>m?"bottom":"top"),this.picker.addClass("datepicker-orient-"+f),"top"===f?u-=i+parseInt(this.picker.css("padding-top")):u+=d,this.o.rtl){var g=a-(p+c);this.picker.css({top:u,right:g,zIndex:l})}else this.picker.css({top:u,left:p,zIndex:l});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),i=[],o=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),o=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=t.map(i,t.proxy(function(t){return v.parseDate(t,this.o.format,this.o.language)},this)),i=t.grep(i,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,o?this.setValue():i.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var t=this.o.weekStart,e="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(t,e){return parseInt(e)+1}),e+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)e+='<th class="dow">'+g[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+g[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],o=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),s=new Date;return e.getUTCFullYear()<o||e.getUTCFullYear()===o&&e.getUTCMonth()<n?i.push("old"):(e.getUTCFullYear()>o||e.getUTCFullYear()===o&&e.getUTCMonth()>n)&&i.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===s.getFullYear()&&e.getUTCMonth()===s.getMonth()&&e.getUTCDate()===s.getDate()&&i.push("today"),-1!==this.dates.contains(e)&&i.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&i.push("highlighted"),this.o.datesDisabled.length>0&&t.grep(this.o.datesDisabled,function(t){return a(e,t)}).length>0&&i.push("disabled","disabled-date"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&i.push("selected"),e.valueOf()===this.range[0]&&i.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},fill:function(){var o,a=new Date(this.viewDate),n=a.getUTCFullYear(),s=a.getUTCMonth(),r=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,l=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,h=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,d=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,c=g[this.o.language].today||g.en.today||"",p=g[this.o.language].clear||g.en.clear||"",u=g[this.o.language].titleFormat||g.en.titleFormat;if(!isNaN(n)&&!isNaN(s)){this.picker.find(".datepicker-days thead .datepicker-switch").text(v.formatDate(new i(n,s),u,this.o.language)),this.picker.find("tfoot .today").text(c).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot .clear").text(p).toggle(!1!==this.o.clearBtn),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var m=i(n,s-1,28),f=v.getDaysInMonth(m.getUTCFullYear(),m.getUTCMonth());m.setUTCDate(f),m.setUTCDate(f-(m.getUTCDay()-this.o.weekStart+7)%7);var y=new Date(m);m.getUTCFullYear()<100&&y.setUTCFullYear(m.getUTCFullYear()),y.setUTCDate(y.getUTCDate()+42),y=y.valueOf();for(var _,M=[];m.valueOf()<y;){if(m.getUTCDay()===this.o.weekStart&&(M.push("<tr>"),this.o.calendarWeeks)){var b=new Date(+m+(this.o.weekStart-m.getUTCDay()-7)%7*864e5),x=new Date(Number(b)+(11-b.getUTCDay())%7*864e5),w=new Date(Number(w=i(x.getUTCFullYear(),0,1))+(11-w.getUTCDay())%7*864e5),k=(x-w)/864e5/7+1;M.push('<td class="cw">'+k+"</td>")}if(_=this.getClassNames(m),_.push("day"),this.o.beforeShowDay!==t.noop){var C=this.o.beforeShowDay(this._utc_to_local(m));C===e?C={}:"boolean"==typeof C?C={enabled:C}:"string"==typeof C&&(C={classes:C}),!1===C.enabled&&_.push("disabled"),C.classes&&(_=_.concat(C.classes.split(/\s+/))),C.tooltip&&(o=C.tooltip)}_=t.unique(_),M.push('<td class="'+_.join(" ")+'"'+(o?' title="'+o+'"':"")+">"+m.getUTCDate()+"</td>"),o=null,m.getUTCDay()===this.o.weekEnd&&M.push("</tr>"),m.setUTCDate(m.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(M.join(""));var D=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?"Months":n).end().find("span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===n&&D.eq(e.getUTCMonth()).addClass("active")}),(r>n||n>h)&&D.addClass("disabled"),n===r&&D.slice(0,l).addClass("disabled"),n===h&&D.slice(d+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var O=this;t.each(D,function(e,i){if(!t(i).hasClass("disabled")){var o=new Date(n,e,1);!1===O.o.beforeShowMonth(o)&&t(i).addClass("disabled")}})}M="",n=10*parseInt(n/10,10);var E=this.picker.find(".datepicker-years").find(".datepicker-switch").text(n+"-"+(n+9)).end().find("td");n-=1;for(var T,P=t.map(this.dates,function(t){return t.getUTCFullYear()}),S=-1;11>S;S++){if(T=["year"],o=null,-1===S?T.push("old"):10===S&&T.push("new"),-1!==t.inArray(n,P)&&T.push("active"),(r>n||n>h)&&T.push("disabled"),this.o.beforeShowYear!==t.noop){var A=this.o.beforeShowYear(new Date(n,0,1));A===e?A={}:"boolean"==typeof A?A={enabled:A}:"string"==typeof A&&(A={classes:A}),!1===A.enabled&&T.push("disabled"),A.classes&&(T=T.concat(A.classes.split(/\s+/))),A.tooltip&&(o=A.tooltip)}M+='<span class="'+T.join(" ")+'"'+(o?' title="'+o+'"':"")+">"+n+"</span>",n+=1}E.html(M)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault(),e.stopPropagation();var o,a,n,s=t(e.target).closest("span, td, th");if(1===s.length)switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var r=v.modes[this.viewMode].navStep*("prev"===s[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,r),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,r),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=i(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var h="linked"===this.o.todayBtn?null:"view";this._setDate(l,h);break;case"clear":this.clearDates()}break;case"span":s.hasClass("disabled")||(this.viewDate.setUTCDate(1),s.hasClass("month")?(n=1,a=s.parent().find("span").index(s),o=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(a),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(i(o,a,n)),this.showMode()):this.showMode(-1)):(n=1,a=0,o=parseInt(s.text(),10)||0,this.viewDate.setUTCFullYear(o),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(o,a,n)),this.showMode(-1)),this.fill());break;case"td":s.hasClass("day")&&!s.hasClass("disabled")&&(n=parseInt(s.text(),10)||1,o=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),s.hasClass("old")?0===a?(a=11,o-=1):a-=1:s.hasClass("new")&&(11===a?(a=0,o+=1):a+=1),this._setDate(i(o,a,n)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):!1===this.o.multidate?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,e){if(!s(t))return this.o.defaultViewDate;if(!e)return t;var i,o,a=new Date(t.valueOf()),n=a.getUTCDate(),r=a.getUTCMonth(),l=Math.abs(e);if(e=e>0?1:-1,1===l)o=-1===e?function(){return a.getUTCMonth()===r}:function(){return a.getUTCMonth()!==i},i=r+e,a.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var h=0;l>h;h++)a=this.moveMonth(a,e);i=a.getUTCMonth(),a.setUTCDate(n),o=function(){return i!==a.getUTCMonth()}}for(;o();)a.setUTCDate(--n),a.setUTCMonth(i);return a},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(!this.picker.is(":visible"))return void((40===t.keyCode||27===t.keyCode)&&(this.show(),t.stopPropagation()));var e,i,a,n=!1,s=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||o(),e),a=this.moveYear(s,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||o(),e),a=this.moveMonth(s,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||o()),i.setUTCDate(i.getUTCDate()+e),a=new Date(s),a.setUTCDate(s.getUTCDate()+e)),this.dateWithinRange(a)&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||o(),e),a=this.moveYear(s,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||o(),e),a=this.moveMonth(s,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||o()),i.setUTCDate(i.getUTCDate()+7*e),a=new Date(s),a.setUTCDate(s.getUTCDate()+7*e)),this.dateWithinRange(a)&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:if(!this.o.forceParse)break;s=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(s),n=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),"function"==typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(n){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+t))),this.picker.children("div").hide().filter(".datepicker-"+v.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var c=function(e,i){this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,u.call(t(this.inputs),i).on("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var i=t(e.target).data("datepicker");if(void 0!==i){var o=i.getUTCDate(),a=t.inArray(e.target,this.inputs),n=a-1,s=a+1,r=this.inputs.length;if(-1!==a){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(o)}),o<this.dates[n])for(;n>=0&&o<this.dates[n];)this.pickers[n--].setUTCDate(o);else if(o>this.dates[s])for(;r>s&&o>this.dates[s];)this.pickers[s++].setUTCDate(o);this.updateDates(),delete this.updating}}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var p=t.fn.datepicker,u=function(i){var o=Array.apply(null,arguments);o.shift();var a;if(this.each(function(){var e=t(this),n=e.data("datepicker"),s="object"==typeof i&&i;if(!n){var h=r(this,"date"),p=t.extend({},m,h,s),u=l(p.language),f=t.extend({},m,u,h,s);if(e.hasClass("input-daterange")||f.inputs){var g={inputs:f.inputs||e.find("input").toArray()};e.data("datepicker",n=new c(this,t.extend(f,g)))}else e.data("datepicker",n=new d(this,f))}"string"==typeof i&&"function"==typeof n[i]&&(a=n[i].apply(n,o))}),a===e||a instanceof d||a instanceof c)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return a};t.fn.datepicker=u;var m=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:2,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body",immediateUpdates:!1,title:""},f=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=d;var g=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},v={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,v.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(o,a,n){function s(){var t=this.slice(0,p[h].length),e=p[h].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!o)return e;if(o instanceof Date)return o;if("string"==typeof a&&(a=v.parseFormat(a)),a.toValue)return a.toValue(o,a,n);var r,l,h,c=/([\-+]\d+)([dmwy])/,p=o.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(o)){for(o=new Date,h=0;h<p.length;h++)switch(r=c.exec(p[h]),l=parseInt(r[1]),r[2]){case"d":o.setUTCDate(o.getUTCDate()+l);break;case"m":o=d.prototype.moveMonth.call(d.prototype,o,l);break;case"w":o.setUTCDate(o.getUTCDate()+7*l);break;case"y":o=d.prototype.moveYear.call(d.prototype,o,l)}return i(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),0,0,0)}p=o&&o.match(this.nonpunctuation)||[],o=new Date;var u,m,f={},y=["yyyy","yy","M","MM","m","mm","d","dd"],_={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};_.M=_.MM=_.mm=_.m,_.dd=_.d,o=i(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0);var M=a.parts.slice();if(p.length!==M.length&&(M=t(M).filter(function(e,i){return-1!==t.inArray(i,y)}).toArray()),p.length===M.length){var b;for(h=0,b=M.length;b>h;h++){if(u=parseInt(p[h],10),r=M[h],isNaN(u))switch(r){case"MM":m=t(g[n].months).filter(s),u=t.inArray(m[0],g[n].months)+1;break;case"M":m=t(g[n].monthsShort).filter(s),u=t.inArray(m[0],g[n].monthsShort)+1}f[r]=u}var x,w;for(h=0;h<y.length;h++)(w=y[h])in f&&!isNaN(f[w])&&(x=new Date(o),_[w](x,f[w]),isNaN(x)||(o=x))}return o},formatDate:function(e,i,o){if(!e)return"";if("string"==typeof i&&(i=v.parseFormat(i)),i.toDisplay)return i.toDisplay(e,i,o);var a={d:e.getUTCDate(),D:g[o].daysShort[e.getUTCDay()],DD:g[o].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:g[o].monthsShort[e.getUTCMonth()],MM:g[o].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};a.dd=(a.d<10?"0":"")+a.d,a.mm=(a.m<10?"0":"")+a.m,e=[];for(var n=t.extend([],i.separators),s=0,r=i.parts.length;r>=s;s++)n.length&&e.push(n.shift()),e.push(a[i.parts[s]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=v,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=p,this},t.fn.datepicker.version="1.5.0",t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),u.call(i,"show"))}),t(function(){u.call(t('[data-provide="datepicker-inline"]'))})})},330:function(t,e){MOVE.LDP.FeaturesGallery=function(t){var e=function(){a()},i=function(t){switch(t){case"feature-fullscreen-gallery-bedrooms":return"bed";case"feature-fullscreen-gallery-bathrooms":return"bath";case"feature-fullscreen-gallery-kitchen_and_dining":return"kitch";case"feature-fullscreen-gallery-exterior_and_lot_features":return"extr";default:return""}},o=function(t){var e=i(t);MOVE.Medias.kruxPixel("K5qafkJ2",{category:e})},a=function(){$(".feature-image-tag-modal").on("shown.bs.modal",function(){MOVE.LDP.PhotoGallery.init(n($(this))),o($(this).attr("id"))}),$(".js-image-tag .feature-image-tag-modal").on("hide.bs.modal",function(){var t=$(".js-image-tag .feature-image-tag-modal").index(this);(MOVE.Helper.isMobile()&&1===t||!MOVE.Helper.isMobile()&&_.contains([2,3],t))&&"false"===$(".load-more-features").attr("aria-expanded")&&$(".load-more-features").readmore("toggle")})},n=function(t){var e,i=t.find(".feature-photo-gallery");return e=void 0===t.data("selectedIndex")?0:t.data("selectedIndex"),{selectedPhotoIndex:e,showAds:!1,galleryContainer:i,navContainer:i.closest(".feature-photo-gallery-navigation"),thumbnailContainer:t.find(".feature-thumbnails-photo-carousel"),photosCount:t&&t.find(".owl-lazy").length,showPhotoCount:!1}};return t.FeaturesGallery={init:e},t.FeaturesGallery}(MOVE.LDP||{})},331:function(t,e){MOVE.LDP.HideUnhide=function(t){var e,i,o,a,n,s={},r=function(t){l(t),e=$(".js-hide-listing-alert"),i=e.find(".js-already-hidden"),o=e.find(".js-just-hidden"),a=$(".js-close-hid-listing-alert"),n=$(".ldp-unsave:first"),a.click(function(){e.fadeOut("slow")}),$("body").on("click",".ldp-hide",h).on("click",".ldp-unhide",d).on("hideOnSavedProperty",h).on("click",".js-tracking .ldp-hide-not-logged-in",{is_listings:!0},function(t){$(".modal").is(":visible")&&$(".modal").find(".close").click();var e=$(this),i=function(){location.reload()};return window.raasLogin(function(){var o=e.closest(".js-tracking"),a={property_id:o.data("propertyid"),status:o.data("status")};MOVE.Common.hideListing(t,{listing:a,callBack:i,requireReload:!0})}),MOVE.Common.loginTracking(e),t.preventDefault(),!1})},l=function(t){s={property_id:t.property_id,status:t.status}},h=function(t){if(MOVE.FormatHelper.isEmpty(n.data("res-id"))){var a=function(){$(".ldp-hide").hide().removeAttr("disabled"),$(".ldp-unhide").show(),e.fadeIn("slow"),i.hide(),o.show(),c()};MOVE.Common.hideListing(t,{listing:s,callBack:a,requireReload:!1})}else n.data("triggerHide",!0),n.click()},d=function(t){var i=$(".ldp-hide"),o=$(".ldp-unhide"),a=function(){i.show(),o.hide().removeAttr("disabled"),e.fadeOut("slow")};MOVE.Common.unhideListing(t,{listing:s,callBack:a})},c=function(){var t=MOVE.Helper.getPropertyLinksFromStorage(),e=MOVE_DATA.propertyDetails&&MOVE_DATA.propertyDetails.permalink;if(t&&t.links&&e){var i=t.links,o=_.reject(i,function(t){return 1==t.includes(e)});o.length!==i.length&&MOVE.Helper.setPropertyLinksToStorage(o,t.totalCount,t.pageIndex)}};return t.HideUnhide={init:r},t.HideUnhide}(MOVE.LDP||{})},332:function(t,e){MOVE.LDP.HistoricalForecastGraph=function(t){var e=MOVE.LDP.model.getData(),i=MOVE.Helper.isPhone(),o=0,a=!1,n=function(){s()},s=function(){e.avm_trend&&e.avm_trend.history&&e.avm_trend.history.length>=36&&(Highcharts.Tooltip.prototype.hide=function(){},new window.Highcharts.chart($("#ldp-forecast-graph")[0],r()),k())},r=function(){var t=b(),o=x(t),a=w(t);return{chart:{events:{load:l},height:i?280:400},title:{text:null},xAxis:{type:"datetime",tickInterval:p(),plotBands:[{from:e.avm_trend.history[e.avm_trend.history.length-1][0],to:c(),color:"rgba(226, 227, 235, .5)"}],labels:{style:{color:"#6f6f6f",fontWeight:"bold",font:"12px Roboto, sans-serif"}}},yAxis:{title:{text:null},opposite:!0,labels:{formatter:g,style:{fontWeight:"bold",font:"12px Roboto, sans-serif"}},min:o,max:a},legend:{enabled:!1},tooltip:{useHTML:!0,positioner:v,formatter:y,borderColor:"#e2e2e2",shape:"square",style:{opacity:i?0:1},shadow:!i,backgroundColor:"rgba(255,255,255,1)",crosshairs:{dashStyle:"solid"}},plotOptions:{series:{point:{events:{mouseOver:h}}}},series:[f({name:"historicalForecast",data:d()})],credits:{enabled:!1}}},l=function(){var t=e.avm_trend.forecast?e.avm_trend.forecast.length:0,i=this.series[0].data;this.tooltip.refresh(t>0?i[i.length-t]:i[i.length-1])},h=function(){o<5&&5===(o+=1)&&(MOVE_DATA.adobeDTM.linkName="ldp:historical-value-graph:interact",_satellite.track("global:linkController"))},d=function(){return e.avm_trend.forecast&&e.avm_trend.forecast.length?e.avm_trend.history.concat(e.avm_trend.forecast):e.avm_trend.history},c=function(){return e.avm_trend.forecast&&e.avm_trend.forecast.length?e.avm_trend.forecast[e.avm_trend.forecast.length-1][0]:e.avm_trend.history[e.avm_trend.history.length-1][0]},p=function(){return i?94608e6:31536e6},u=function(){return{value:e.avm_trend.history[e.avm_trend.history.length-1][0],dashStyle:"solid",color:"#6473c8"}},m=function(){return e.avm_trend.forecast?{value:e.avm_trend.forecast[e.avm_trend.forecast.length-1][0],dashStyle:"shortdot",color:"#6473c8"}:{}},f=function(t){return{name:t.name||"",type:"area",data:t.data||[],zoneAxis:"x",zones:[u(),m()],fillColor:"rgba(246, 247, 253, .5)",lineColor:"#6473c8",cursor:"pointer",connectNulls:!0,marker:{enabled:!1,symbol:"circle",lineColor:"#5568c3",fillColor:"#5568c3",radius:3},states:{hover:{lineWidthPlus:0}}}},g=function(){return this.value<1e6?"$"+this.value/1e3+"K":"$"+this.value/1e6+"M"},v=function(){return{x:i?0:40,y:i?-40:20}},y=function(){return'<div style="line-height: 22px; font-family: roboto;">'+_(this.x)+'<span style="color:#7cb5ec">●</span> This home &emsp;<b>'+M(this.y)+"</b></div>"},_=function(t){var e=new Date(t);return'<div style="color:#9d9d9d">'+e.toLocaleString("en-us",{month:"long"})+" "+e.getFullYear().toString()+"</div>"},M=function(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(Math.floor(t))},b=function(){return e.avm_trend.history.concat(e.avm_trend.forecast||[]).map(function(t){return t[1]})},x=function(t){return Math.min.apply(Math,t)},w=function(t){var e=Math.max.apply(Math,t),i=x(t);return t.findIndex(function(t){return(t-i)/(e-i)>=.8})/t.length<.3?1.2*e:e},k=function(){i&&($(window).on("touchstart",function(t){"highcharts-tracker"===t.target.className.baseVal&&(a=!0)}),$(window).on("touchend",function(){a=!1}),$(window).on("touchmove",function(t){a&&t.preventDefault()}))};return t.HistoricalForecastGraph={init:n},t.HistoricalForecastGraph}(MOVE.LDP||{})},333:function(t,e){MOVE.LDP.HomesNearStreet=function(t){var e,i=MOVE.LDP.model.getData()||{},o=function(){0!==$("#ldp-home-around-highlight-wrapper").length&&(e=$("#ldp-home-around-hignlight-carousel"),e.on("click",".recently-sold-around-highlight-card",s).on("click",'a[data-disable-crabwalk="true"]',s),1===e.length&&(a(),n(),$(".recently-sold-around-highlight-card").on("tap",function(){$(this).find(".js-triggable").trigger("click")})))},a=function(){e.RdcHorizontalCarousel({loop:!1,showNav:"show",moveBy:"set",margin:20,lazyLoad:!0,items:5}),MOVE.DOMHelper.unveilLoadImages("img",{},e)},n=function(){if(MOVE.Helper.hasSessionStorage()){var t=JSON.parse(window.sessionStorage.getItem("homes-near-street-slider"));if(null!==t&&i.property_id===t.id){for(var o=r(t.pos),a=0;a<o.next;a++)e.find(".rdc-next-set").click();for(var n=0;n<o.prev;n++)e.find(".rdc-prev-set").click();window.sessionStorage.removeItem("homes-near-street-slider")}}},s=function(){var t=e.find(".owl-stage").css("transform");MOVE.Helper.hasSessionStorage()&&r(t).next>0&&window.sessionStorage.setItem("homes-near-street-slider",JSON.stringify({id:i.property_id,pos:t})),MOVE.DOMHelper.disableCrabwalk()},r=function(t){var e=t.match(/-?[\d\.]+/g),i=d(),o=h(),a=parseInt(e[4],10),n=Math.abs(a)/i;return a%i==0?{next:n,prev:0}:{next:o,prev:o-Math.ceil(n)}},l=function(){return e.find(".owl-stage").width()},h=function(){return Math.floor(l()/d())},d=function(){return 100*Math.floor(e.width()/100)};return t.HomesNearStreet={init:o},t.HomesNearStreet}(MOVE.LDP||{})},334:function(t,e){MOVE.LDP.HomesNearStreetCards=function(t){var e=function(){var e=t.model.getData()||{},i=(e.homes_near_street||{}).properties,o={results:{property:{count:0,type:"property",total:20,items:{}}}};return _.each(i,function(e){var a={};MOVE.Common.isValidLatLng(e.lon,e.lat)&&(a={ldpUrl:e.ldp_url,id:""+e.property_id,listing_id:e.listing_id,mprId:e.property_id,plot:!0,position:{coordinates:[e.lon,e.lat],type:"Point"},status:e.status,type:"property",search_flags:{},open_house_display:null,sort:0,bed:parseInt(e.beds,10),bed_display:i.beds?e.beds+" bd":null,bath_display:e.baths,bath:e.baths,photo:e.photo_url,price:e.price_display.replace("$","").replace(/\,/g,""),priceDisplay:e.price_display,propertyType:e.property_type,sqft:parseInt(e.sqft_display,10),sqft_display:e.sqft_display?e.sqft_display+" sq ft":null,address:e.full_address_display,city:e.city,state:e.state_code,zip:e.postal_code,pinPrice:null,priceDefaultDisplay:"recently_sold"===e.status?"Sold":void 0,isAddressSuppressed:""===e.address}),t.NearbyCardsToPins.noEstimateAvailable(a),o.results.property.items[""+a.id]=a,o.results.property.count++}),o};return t.HomesNearStreetCards={init:e},t.HomesNearStreetCards}(MOVE.LDP||{})},335:function(t,e){MOVE.LDP.RentalsFloorplanModal=function(t){var e,i,o,a=function(t){n(),s(t)},n=function(){e=$("#modal-rental-floorplan"),i=$("#modal-rental-floorplan-carousel",".modal-rental-floorplan"),o=$(".modal-rental-floorplan-lead-form",e)},s=function(t){e.on("shown.bs.modal",function(a){var n=a.relatedTarget?$(a.relatedTarget):$(t.currentTarget),s=n.data("floorplan"),r=$(".floorplan-"+s,e).index(".floorplan");i.on("initialized.owl.carousel changed.owl.carousel",function(t){var e=t.item.index,i=$(t.target).find(".owl-item").eq(e),a=$("h1 > span",".listing-header-main").first().text(),n=i.find(".floorplan-details h3").text(),s="I would like more information regarding the "+n+" at "+a+" that I found on realtor.com";o.find(".message").val(s),o.find("#leads_form_data_floor_plan_name").val(n)}),i.owlCarousel({items:1,loop:!0,autoplay:!1,animateOut:"fadeOut",startPosition:r,nav:!0,navText:["<i class='ra ra-chevron-left'></i>","<i class='ra ra-chevron-right'></i>"]})}),e.on("hide.bs.modal",function(t){$(t.target).is(e)&&i.owlCarousel("destroy")})};return t.RentalsFloorplanModal={init:a},t.RentalsFloorplanModal}(MOVE.LDP||{})},336:function(t,e){MOVE.LDP.StickyBar=function(t){var e=function(){i(),o()},i=function(){MOVE.Common.showStickyBar("#ldp-sticky-bar",610),MOVE.Helper.isMobile&&MOVE.Common.showStickyBar("#ldp-mobile-stickybar",75)},o=function(){$("#sticky-bar-scroll-spy .nav a, #sticky-anchor-nav-promotion a").click(function(t){var e=location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"");if(a($(this)),e||location.hostname===this.hostname){var i=MOVE.Helper.getPageNavTarget($(this.hash));if(i.length){var o=$(i).offset().top-108;$("html,body").animate({scrollTop:o},400),t.preventDefault()}}})},a=function(t){"#ldp-payment-options"===t.attr("href")&&_satellite.track("ldp:tabs:paymentOptions ")};return t.StickyBar={init:e},t.StickyBar}(MOVE.LDP||{})},337:function(t,e){MOVE.LDP.MatterportModal=function(t){var e=function(){var t=$("#matterportFrame");t.attr("src",t.data("src")),$("#ldp-matterport-modal").modal(),$(".js-matterport-branding").removeClass("no-show"),$("#matterport-headertoggle i").removeClass("ra-angle-right").addClass("ra-angle-left"),$("#matterport-headertoggle").off("click").on("click",function(){$("i",this).toggleClass("ra-angle-left ra-angle-right"),$(".js-matterport-branding").toggleClass("no-show")})};return t.MatterportModal={init:e},t.MatterportModal}(MOVE.LDP||{})},338:function(t,e){MOVE.LDP.NearbyCards=function(t){var e=function(e,i){var o={results:{property:{count:0,type:"property",total:20,items:{}}}};return $(e).find("#ldp-nearby-list .listing-card").each(function(){var e={},a=$(this),n=$(a.parent()),s=parseFloat(n.data("lon")),r=parseFloat(n.data("lat"));if(MOVE.Common.isValidLatLng(s,r)){var l=[];a.find(".listing-card-tags span").each(function(){l[l.length]=$(this).text()});var h=n.data("status")||i;e={agentId:n.data("agentid"),ldpUrl:n.data("url"),id:""+n.data("propertyid"),listing_id:parseInt(n.data("listingid"),10),isStatusPending:a.find('span[data-label="property-label-pending"]').length>0,isSaved:a.find(".addToSave").length>0&&"none"===a.find(".addToSave").css("display"),mprId:n.data("propertyid"),officeName:n.data("office-name"),plot:!0,position:{coordinates:[s,r],type:"Point"},status:h,type:"property",product_type:n.data("product-type"),search_flags:{},open_house_display:null,sort:0,isCoBroke:"cobroke"===n.data("product-type"),isEnhanced:n.hasClass("listing-showcase"),isForeclosure:_.indexOf(l,"Foreclosure")>-1,isPriceReduced:n.data("price-reduced"),bed:parseInt(a.find('li[data-label="property-meta-beds"] span').text().trim(),10),bed_display:a.find('li[data-label="property-meta-beds"] span').text().trim(),bath_display:a.find('li[data-label="property-meta-baths"] span').text().trim(),bath:parseInt(a.find('li[data-label="property-meta-baths"] span').text().trim(),10),lotSize:n.data("lot-size"),photo:a.find(".js-nearby-listing-photos").data("src"),photoCount:parseInt(a.find(".listing-photo").data("photo-count"),10),price:parseInt(a.find(".listing-info-price").text().replace("$","").replace(/\,/g,"").trim(),10),priceDisplay:a.find(".listing-info-price").text().trim(),propertyType:n.data("type"),sqft:parseInt(a.find('li[data-label="property-meta-sqft"] span').text().replace(/\,/g,""),10),sqft_display:a.find('li[data-label="property-meta-sqft"] span').text().trim(),address:n.data("address").trim(),city:n.data("city"),county:n.data("county"),state:n.data("state"),zip:n.data("zip"),pinPrice:null,agent_id:n.data("agentid"),priceDefaultDisplay:"recently_sold"===h?"Sold":void 0,isAddressSuppressed:""===e.address}}t.NearbyCardsToPins.noEstimateAvailable(e),o.results.property.items[""+e.id]=e,o.results.property.count++}),o};return t.NearbyCards={init:e},t.NearbyCards}(MOVE.LDP||{})},339:function(t,e){MOVE.LDP.NearbyCardsToPins=function(t){var e=function(){return MOVE_DATA.mapData={mapDataForSale:t.NearbyCards.init("#nearby-homes-for-sale","for_sale"),mapDataRecentlySold:t.NearbyCards.init("#nearby-recently-sold","not_for_sale"),mapDataOffMarket:t.NearbyCards.init("#nearby-home-values","not_for_sale"),mapDataForRent:t.NearbyCards.init("#nearby-for-rent","for_rent"),mapDataHomesNearStreet:t.HomesNearStreetCards.init()},MOVE_DATA.mapData},i=function(t){(isNaN(t.price)||"No Estimate Available"===t.priceDisplay)&&(delete t.price,delete t.priceDisplay)};return t.NearbyCardsToPins={init:e,noEstimateAvailable:i},t.NearbyCardsToPins}(MOVE.LDP||{})},340:function(t,e){MOVE.LDP.NearbyHomeValues=function(t){var e=function(){i()},i=function(){var t=$("#show-more-listing");0!==t.length&&t.click(function(){var t=$(this).text().toLowerCase().includes("see less");$(".load-more-nearby-home-values").toggleClass("show-all"),t&&$("html, body").animate({scrollTop:$("#ldp-nearby-home-values").offset().top-150},300),$(this).html(t?'See More <i class="ra ra-angle-down"></i>':'See Less <i class="ra ra-angle-up"></i>'),$(window).scroll()})};return t.NearbyHomeValues={init:e},t.NearbyHomeValues}(MOVE.LDP||{})},341:function(t,e){MOVE.LDP.NoteComponent=function(t){function e(){return!!MOVE.DataStore.getData("memberId")}function i(t){v.val(_.unescape(t))}var o,a,n,s,r,l,h,d,c,p=$("#property_note_save"),u=$("#property_note_cancel"),m=$(".ldp-save"),f=$(".ldp-unsave"),g=$(".js-ldp-note-delete"),v=$(".ldp-note-input"),y=$(".ldp-unhide"),M="Please enter less than 3000 characters",b=!1,x=function(){((MOVE_DATA.propertyDetails||{}).note_text||"").length&&k(),a=$(".ldp-note-section"),r=$(".ldp-note-close"),n=$("#hero-note"),o=$(".note-section-sidebar"),l=$(".note-section-sidebar #note-edit-btn"),s=$("#note-xs-sm"),d=$(".note-xs-sm-wrap"),h=$("#hero-note-mobile"),c=$(".note-mobile-wrap"),D()},w=function(){p=$("#property_note_save_modal"),u=$("#property_note_cancel_modal"),a=$(".ldp-note-section"),v=$(".ldp-note-input"),P(),E(),O()},k=function(){if(!b){for(var t=0;t<f.length;t++)new window.MoveConfirmBox("unsave-listing-"+t,f[t],{txtModalHeader:"Unsave a home?",txtModalBody:"Seems like you have a note saved. Unsaving a home will delete your note as well. Do you want to continue?",txtBtnConfirm:"Confirm"},C).initialize();b=!0}},C=function(){this.elmActionBtn.off("click").click()},D=function(){R(),j(),P(),E(),O(),V()},O=function(){v.off("keyup").on("keyup",function(){setTimeout(function(t){var e=_.escape(t.val());e.length>=3e3?z(t,M):""===e?z(t):F(t)}($(this)),2e3)}),$("body").on("removeFromSavedButton",H)},E=function(){u.off("click").on("click",function(t){var e=MOVE_DATA.propertyDetails.note_text,i=$(this).closest(".ldp-note-desktop-cta").find(".js-property-note-save");e&&e.length?($(".note-section-sidebar").is(":visible")&&G(t),T(e),i.prop("disabled",!1)):($(".note-section-sidebar").is(":visible")&&B(t),T(""),i.prop("disabled",!0))})},T=function(t){i(t),MOVE_DATA.propertyDetails.note_text=t},P=function(){p.off("click").on("click",function(t){var e=$(this).closest("form"),i=e.find("textarea"),o=e.find(".js-property-note-save"),a=_.escape(i.val());S(a,t,e,i,o)})},S=function(t,i,o,a,n){if(t.length>3e3&&a)return void z(a,M);e()&&(v.prop("disabled",!0),n&&n.prop("disabled",!0),y.is(":visible")&&y.first().click());var s={property_id:MOVE_DATA.propertyDetails.property_id,status:MOVE_DATA.propertyDetails.status,listing_id:MOVE_DATA.propertyDetails.listing_id,note:t,save_aware:!0},r=function(t){var e=t.meta||{},i=e.params||{},o=i.data||{},a=o.note||"";v.prop("disabled",!1),p.prop("disabled",!1),I(),a.length?A(a):H();var n=t.resources.id,s=o.sub_resource_id;m.hide().prop("disabled",!1),f.show().data("res-id",n),MOVE_DATA.propertyDetails.saved_resource_id=n,MOVE.Common.setSavedListings(s,n),window.GNAV.MYACCOUNT.getSavedResponse("my_properties")},l=function(t){var e=t.meta.errors||[];v.prop("disabled",!1),p.prop("disabled",!0);for(var i=0;i<e.length;i++)if("ValidationError"===e[i].code){v.next().html(e[i].message).removeClass("hide");break}},h=function(){L(),location.reload()};if(e())MOVE.Common.saveListing(i,{listing:s,callBack:r,onErrorCallBack:l,requireReload:!0});else{I();var d={source:"save_note",triggerLocation:"ldp:top:note_save_attempt"};MOVE.ModalHelper.raasSwapOrLogin(function(){MOVE.Common.unhideListing(i,{listing:s}),MOVE.Common.saveListing(i,{listing:s,callBack:h,onErrorCallBack:l,requireReload:!0})},d)}},A=function(t){k(),$(".note-section-sidebar").length&&(N(n,"Add Note","My Notes"),o.removeClass("input-mode"),$(".note-section-sidebar").length&&r.hasClass("no-show")&&r.toggleClass("no-show")),$(".note-section-tablet").length&&d.addClass("note-exist"),$(".note-section-mobile").length&&c.addClass("note-exist"),a.find(".note-content").html("<pre>"+t+"</pre>").end().find(".note-timestamp").html("less than a minute ago").end().removeClass("no-show").show(),T(t),L()},L=function(){MOVE_DATA.adobeDTM.raas=MOVE_DATA.adobeDTM.raas||{},MOVE_DATA.adobeDTM.saveItem="note",MOVE_DATA.adobeDTM.raas.placement="top",_satellite.track("raas:save:success")},V=function(){g.off("click").on("click",function(t){i(""),S("",t)})},I=function(){$(".modal").is(":visible")&&$(".modal").find(".close").click()},H=function(){T(""),$(".note-section-sidebar").length&&(N(n,"My Notes","Add Note"),a.hide(),o.addClass("input-mode"),r.addClass("no-show")),$(".note-section-tablet").length&&d.removeClass("note-exist"),$(".note-section-mobile").length&&c.removeClass("note-exist"),p.prop("disabled",!0),a.find(".note-content").html("").end().addClass("no-show").hide(),b=!1,$(".ldp-unsave").off("click"),$(".move-confirm-box").remove(),$("body").removeClass("modal-open")},N=function(t,e,i){var o=t.html();t.html(o.replace(e,i))},z=function(t,e){e&&(t.hasClass("error")||t.addClass("error").next().html(e).removeClass("hide")),t.closest("form").find(".js-property-note-save").prop("disabled",!0)},F=function(t){t.hasClass("error")&&t.removeClass("error").next().html("").addClass("hide"),t.closest("form").find(".js-property-note-save").prop("disabled",!1)},R=function(){n.click(B),r.click(B),h.click(B),s.click(B)},j=function(){l.click(G)},B=function(t){t.preventDefault(),a.slideToggle()},G=function(t){t.preventDefault(),o.toggleClass("input-mode"),$(".note-section-sidebar").is(":visible")&&r.toggleClass("no-show")};return t.NoteComponent={init:x,initModal:w},t.NoteComponent}(MOVE.LDP||{})},342:function(t,e){MOVE.LDP.Optimization=function(t){var e=function(){};return t.Optimization={init:e},t.Optimization}(MOVE.LDP||{})},343:function(t,e){MOVE.LDP.MortgagePaymentModal=function(t){var e,i,o,a,n=null,s=$("#estimate_dp_amount"),r=$("#estimate_mortgage_percent"),l=$("#monthly_payment_estimate"),h=$("#estimate_dp_percent"),d=$("#estimate_mortgage_type"),c=$("#ldp-est-downpayment-msg"),p=$("#top-label-msg"),u=$("#top-label-msg-alt"),m=$("#ldp-est-downpayment-amt"),f=$("#remember-settings"),g=$(".js-mortgagepymt-price"),v=$("#mortgagePaymentPriceSmall"),y=$("#mortgagePaymentModal"),M=!1,b=$("#modal-mortgage-form #apply-benefits-estimator"),x=$(".veterans-checkbox"),w="false",k=function(){$("#apply-benefits-estimator").on("click",function(){MOVE.VeteranBenefits.toggleVeteranBenefits("#apply-benefits-estimator","#estimate_mortgage_type","estimate_dp_percent","#veteranAdsInEstimatePayment");var t=$(this).prop("checked");MOVE.LDP.PaymentOptions.toggleVeteransLink({checked:t,veterans:x})})},C=function(){e=MOVE.LDP.model.getData(),i=MOVE.LDP.MortgagePayment.getHomePriceValue(e),D(),O(),H(),F(),J(),k(),MOVE.VeteranBenefits.showLoanTypeOption("#estimate_mortgage_type",!1),MOVE.DOMHelper.initPopOver($("#modal-mortgage-form"),"#modal-mortgage-form"),y.on("shown.bs.modal",function(){var t=$("#apply-benefits-estimator").prop("checked")?"Y":"N";window.googletag.pubads().setTargeting("VET",[t]),MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsEMP),MOVE.Medias.kruxPixel("JuePQcl8",{}),MOVE_DATA.adobeDTM.modal={name:"web:ldp:estpay"},_satellite.track("modal:impression")})},D=function(){g.click(function(){y.modal(),tt(),Mt()})},O=function(){var t=_.extend({downPaymentPercent:at()},e);MOVE.LDP.MortgagePayment.getEstimatedData(t).done(function(t){M=!0,tt("init"),E(t)})},E=function(t){var e=t.average_rate;d.find('option[value="30yr_fixed"]').attr("data-rate",e.thirty_year_fix),d.find('option[value="30yr_fha"]').attr("data-rate",e.thirty_year_fha),d.find('option[value="30yr_va"]').attr("data-rate",e.thirty_year_va),d.find('option[value="20yr_fixed"]').attr("data-rate",e.twenty_year_fix),d.find('option[value="15yr_fixed"]').attr("data-rate",e.fifteen_year_fix),d.find('option[value="10yr_fixed"]').attr("data-rate",e.ten_year_fix),d.find('option[value="51_arm"]').attr("data-rate",e.five_one_arm),d.find('option[value="71_arm"]').attr("data-rate",e.seven_one_arm),T(),I()},T=function(){var t=$("#estimate_mortgage_type :selected"),e=ft()||parseFloat(t.attr("data-rate")||"3").toFixed(3)+"%";P(e)},P=function(t){r.val(t)},S=function(){var t=$("#estimate_mortgage_type option:selected"),e={home_price:i,downPayment:MOVE.FormatHelper.formatPrice(s.val()),property_tax:Math.round(MOVE.FormatHelper.formatPrice($("#property_tax").val()||""))||0,hoa:0,hoi:0,rate:parseFloat(r.val()).toFixed(3)/100,loanType:t.val(),term:t.data("term")};MOVE.LDP.MortgagePayment.getCalculatedData(e).done(A)},A=function(t){null!==t&&(n=t,L(t))},L=function(t){var e=t.monthly_payment<=0?0:t.principal_and_interest;e>=0&&V("$"+MOVE.FormatHelper.commaDelimit(Math.round(e).toString()))},V=function(t){l.text(t),(gt()||vt())&&M&&Q(t)},I=function(){var t=h.val().replace(/\%/g,""),e=$("#estimate_mortgage_type :selected").val();t<20&&"30yr_va"!==e?(c.removeClass("no-show"),p.addClass("no-show"),u.removeClass("no-show")):(c.addClass("no-show"),p.removeClass("no-show"),u.addClass("no-show"))},H=function(){$("#estimate_dp_percent, #estimate_dp_amount, #estimate_mortgage_percent").keypress(function(t){var e=t.target.id;return"estimate_dp_percent"===e||"estimate_mortgage_percent"===e?N(t):"estimate_dp_amount"===e?z(t):void 0})},N=function(t){var e=t.which;return 8===e||0===e||!(e<48||e>57)||46===e},z=function(t){var e=t.which;return 8===e||0===e||!(e<48||e>57)},F=function(){var t=$("#mortgagePaymentModal .estimate_payment_fields");t.change(function(t){var e=t.target.id;R(e)}),t.keyup(function(t){if(13===t.which){var e=t.target.id;R(e)}})},R=function(t){switch(M=!1,t){case"estimate_dp_percent":U(),s.removeClass("error"),m.addClass("no-show"),I(),X(),q(),S();break;case"estimate_dp_amount":B()?(s.removeClass("error"),m.addClass("no-show"),G(),W(),Y(),I(),S()):(s.addClass("error"),m.removeClass("no-show"));break;case"estimate_mortgage_percent":j(),S();break;case"estimate_mortgage_type":var e=$("#estimate_mortgage_type option:selected"),i=e.data("rate").toFixed(3)+"%";e.val()===mt()&&(i=ft()||i),U(),s.removeClass("error"),m.addClass("no-show"),r.val(i),I(),X(),q(),S()}},j=function(){var t,e=MOVE.FormatHelper.formatMortgagePercent(r.val());!e||parseInt(e,10)<=0||"."===e?r.val("0.001%"):e>20?r.val("20%"):(t=parseFloat(e).toFixed(3),r.val(t+"%"))},B=function(){var t=MOVE.FormatHelper.formatPrice(s.val());if(t){if(parseInt(t,10)>parseInt(i,10))return!1}else s.val(0);return!0},G=function(){var t=MOVE.FormatHelper.formatPrice(s.val()),e=MOVE.FormatHelper.commaDelimit(t);s.val("$"+e)},W=function(){var t,e=MOVE.FormatHelper.formatPrice(s.val());i&&e&&(t=Math.round(100*parseInt(e,10)/parseInt(i,10)),h.val(t))},Y=function(){var t,e=h.val();e&&"%"!==e?(e=MOVE.FormatHelper.formatPercent(e),t=Math.round(parseFloat(e))):t=0,t<0?t=0:t>100&&(t=100),h.val(t+"%")},U=function(){var t,e=h.val();e&&"%"!==e?(e=MOVE.FormatHelper.formatPercent(e),t=Math.round(parseFloat(e))):t=0,t<0?t=0:t>100&&(t=100),h.val(t+"%")},X=function(){var t=MOVE.FormatHelper.formatPercent(h.val()),e=Math.round(parseInt(t,10)/100*parseInt(i,10));s.val(e)},q=function(){var t=MOVE.FormatHelper.formatPrice(s.val()),e=MOVE.FormatHelper.commaDelimit(t);s.val("$"+e)},J=function(){f.click(function(){$("#mortgagePaymentModal .estimate_payment_fields").focusout(),K(),Z(this)})},Z=function(t){var e=!0===b.prop("checked")?"ldp:estpay:va:save":"ldp:estpay:save";$(t).attr("data-omtag",e)},K=function(){setTimeout(function(){var t=$("input[name=down-payment-type]:checked").val(),e=$("#estimate_mortgage_type :selected").val(),i=l.text();window.Storage&&(ht(t),dt(e),ct(r.val()),pt(i),Q(i),lt(),nt("updateUserSetting")),y.modal("hide"),b.prop("checked")!==$("#apply-benefits").prop("checked")&&$("#apply-benefits").trigger("click")},500)},Q=function(t){gt()&&(g.html(' <i class="ra ra-calculator font-size-base"></i> <span class="ldp-mortgage-monthly-price-label font-size-small hide-est-helper">Est. Payment </span>'+t+"/mo"),v.html(' <span class="ldp-mortgage-monthly-price-label font-size-base hide-est-helper">Est. Payment </span>'+t+"/mo"),pt(t)),t&&$(document).trigger("saveEstimatedMonthly",t)},tt=function(t){var e=ut();"option1"===e&&"init"===t&&MOVE.LocalStorage.isAvailable&&(localStorage.removeItem("local_stored_estimate_dp_amount"),localStorage.removeItem("local_stored_estimated_monthly_dp"));var i=mt(),o=yt();$(":radio[value="+e+"]").prop("checked",!0),d.find("option[value="+i+"]").prop("selected",!0),d.selectpicker("refresh"),T(),ot(),o&&(l.text(o),"init"===t&&Q(o),$(document).trigger("saveEstimatedMonthly")),"init"!==t&&(w=_t(),it())},et=function(){return"true"===w},it=function(){var t=et();b.prop("checked")!==t&&(b.prop("checked",t),MOVE.LDP.PaymentOptions.toggleVeteransLink({checked:t,veterans:x}),window.gptAds.gptadslotsEMP.isLoaded=!1,$("#estimate_mortgage_percent").change())},ot=function(){var t=gt(),e=vt()||"20%",o=t?MOVE.FormatHelper.formatPrice(gt()):Math.round(MOVE.FormatHelper.formatPercent(e)/100*i);o>i&&(o=i,e="100%"),h.val(e),s.val("$"+MOVE.FormatHelper.commaDelimit(o))},at=function(){return MOVE.FormatHelper.formatPercent(h.val())},nt=function(t){var e=localStorage.local_stored_estimate_dp_percent,o=localStorage.local_stored_selected_mortgage_type,a=localStorage.local_stored_mortgage_percent,n=localStorage.local_stored_estimate_dp_amount;n&&MOVE.FormatHelper.formatPrice(n)>=i&&(e="100%",n="$"+MOVE.FormatHelper.commaDelimit(i)),e&&($("#down_payment_percent").attr("value",e),$("#down_payment_percent").val(e)),n&&($("#down_payment_amount").attr("value",n),$("#down_payment_amount").val(n)),o&&($("#mortgage_loan_type").val(o),$("#mortgage_loan_type").selectpicker("refresh")),a&&($("#mortgage_percent").attr("value",a),$("#mortgage_percent").val(a)),"updateUserSetting"===t&&MOVE.LDP.PaymentOptions.fetchFieldsFromService()},st=function(){localStorage.setItem("local_stored_estimate_dp_amount",s.val())},rt=function(){localStorage.setItem("local_stored_estimate_dp_percent",h.val())},lt=function(){MOVE.LocalStorage.isAvailable&&(rt(),st())},ht=function(t){MOVE.LocalStorage.isAvailable&&localStorage.setItem("local_stored_checked_radio_option",t)},dt=function(t){MOVE.LocalStorage.isAvailable&&localStorage.setItem("local_stored_selected_mortgage_type",t),$("#mortgage_loan_type").selectpicker("val",localStorage.local_stored_selected_mortgage_type)},ct=function(t){MOVE.LocalStorage.isAvailable&&localStorage.setItem("local_stored_mortgage_percent",t)},pt=function(t){MOVE.LocalStorage.isAvailable&&localStorage.setItem("local_stored_estimated_monthly_dp",t)},ut=function(){return localStorage.getItem("local_stored_checked_radio_option")||"option1"},mt=function(){return localStorage.getItem("local_stored_selected_mortgage_type")||"30yr_fixed"},ft=function(){return localStorage.getItem("local_stored_mortgage_percent")},gt=function(){return localStorage.getItem("local_stored_estimate_dp_amount")},vt=function(){return localStorage.getItem("local_stored_estimate_dp_percent")},yt=function(){var t=0;return n&&(t="$"+MOVE.FormatHelper.commaDelimit(Math.round(n.principal_and_interest).toString())),localStorage.getItem("local_stored_estimated_monthly_dp")||t},_t=function(){return localStorage.getItem("local_stored_veterans_checked")||"false"},Mt=function(){MOVE.Helper.isMobile()||y.on("click",b,function(){o=$('#modal-mortgage-form .dropdown-menu *[data-original-index="2"]'),a=o.find("a"),b.prop("checked")?o.children().length||o.append(a):o.find("a").remove()})};return t.MortgagePaymentModal={init:C,updateCalculations:A,syncPaymentOptions:nt,getSavedDpAmount:gt},t.MortgagePaymentModal}(MOVE.LDP||{})},344:function(t,e){MOVE.LDP.PaymentOptions=function(t){var e,i,o,a,n,s,r,l,h,d,c,p,u,m,f,g,v,y,_,M,b,x,w,k=!1,C=$("#ldp-payment-options"),D="session_stored_mortgage_fields_"+$("#ldp-top-ctas .header-cta-save").attr("data-propertyid"),O=null,E=null,T=!0,P=["#3fc478","#b3d675","#92a0e5","#7bcdf3","#d9d9d9"],S=localStorage.getItem("local_stored_veterans_checked")||"false",A=function(){e=MOVE.LDP.model.getData(),y=Lt(),y&&(O=y.monthly_property_taxes||null,E=y.monthly_home_insurance||null),L(e),V(),MOVE.VeteranBenefits.showVeteranAds("#veteranAds",!1),wt(),U()},L=function(t){if(MOVE.LocalStorage.isAvailable&&localStorage.local_stored_estimate_dp_percent){var e=("string"==typeof t.price?t.price_min:t.price)||0,i=parseFloat(localStorage.local_stored_estimate_dp_percent.replace("%",""))/100,o=e*i;localStorage.setItem("local_stored_estimate_dp_amount",MOVE.MORTGAGE.addDollarCommas(o))}},V=function(){j(),I(),N(),R(),kt(),$t()},I=function(){H(),MOVE.LDP.MortgagePaymentModal.syncPaymentOptions(),MOVE.LDP.MortgagePayment.initCalculations(),B()},H=function(){i=$("#home_price"),o=$("#down_payment_amount"),a=$("#down_payment_percent"),n=$("#mortgage_percent"),s=$("#property_tax"),c=$("#home_insurance"),r=$("#principle_interest"),h=$("#mortgage_insurance"),d=$("#mortgage_insurance_field"),p=$("#hoa_fees"),u=$("#ldp-downpayment-msg"),g=$("#pmytoptions-homeprice-err"),v=$("#pmytoptions-mortgamt-err"),m=$("#rent_per_month"),l=$("#mortgagePaymentPrice"),Mt(),MOVE.VeteranBenefits.showLoanTypeOption("#mortgage_loan_type",!1),MOVE.DOMHelper.initPopOver($(".veteran-benefits-question")),MOVE.DOMHelper.initPopOver($("#ldp-mortgage-chart-wrap"))},N=function(){C.on("keypress",".payment_option_fields",function(t){var e=t.target.id;return"home_price"===e||"down_payment_amount"===e||"property_tax"===e||"home_insurance"===e||"hoa_fees"===e?z(t):"down_payment_percent"===e||"mortgage_percent"===e?F(t):void 0}),C.on("change",".payment_option_fields",function(t){var e=t.target.id;$("#apply-benefits").prop("checked")&&$("#mortgage_loan_type").val().indexOf("_va")>-1&&"down_payment_percent"!==e?a.val("0%"):"mortgage_loan_type"===e&&"0%"===a.val()&&a.val("20%")})},z=function(t){var e=t.which;return 8===e||0===e||!(13!==e&&e<48||e>57)},F=function(t){var e=t.which;return 8===e||0===e||!(13!==e&&e<48||e>57)||46===e},R=function(){C.on("change",".payment_option_fields",function(t){var e=t.target.id;q(e)})},j=function(){C.on("click","#apply-benefits",function(){b=$("#veterans-checkbox"),$(this).prop("checked")?(W({checked:!0,veterans:b}),G(!0)):(W({checked:!1,veterans:b}),G(!1)),MOVE.VeteranBenefits.toggleVeteranBenefits("#apply-benefits","#mortgage_loan_type","down_payment_percent","#veteranAds"),Y()})},B=function(){"true"===S&&$("#apply-benefits").trigger("click")},G=function(t){MOVE.LocalStorage.isAvailable&&localStorage.setItem("local_stored_veterans_checked",t)},W=function(t){b=t.veterans,b.off("click"),!0===t.checked?(_=b.attr("href"),M=b.attr("data-omtag"),b.text(window.vu_button_text),b.attr("href",window.vu_button_link),b.attr("target","va_eligibility"),b.attr("data-omtag","ldp:paymentOptions:check-va-eligibility"),b.addClass("ad_container"),b.length>0&&"veterans-checkbox"===b[0].id&&MOVE.Medias.kruxPixel("Km5kHiqk",{}),MOVE.Medias.gptTracking("veteran_checkbox_checked",!0),b.on("click",function(){MOVE.Medias.gptTracking("veteran_button_clicked",!0)})):(b.text("Get Pre-Approved"),b.removeClass("ad_container"),b.attr("href",_),b.attr("data-omtag",M),b.attr("target","_blank"))},Y=function(){var t=$('#down_payment_percent,#down_payment_amount,[data-id="mortgage_loan_type"],#mortgage_percent');$("#ldp-payment-calculator").length&&(t.addClass("highlight-payment-calculator"),setTimeout(function(){t.removeClass("highlight-payment-calculator")},2e3))},U=function(){C.on("click",".advanced-calculator",function(){$("#mortgagePaymentPrice").click()})},X=function(){var t=MOVE.FormatHelper.formatPrice(i.val());t&&(s.val(Math.round(parseInt(t,10)*parseFloat(s.data("rate"))/12)),c.val(Math.round(parseInt(t,10)*parseFloat(c.data("rate"))/12))),vt(),yt()},q=function(t){switch(t){case"home_price":rt()&&(dt(),ut(),ct(),pt(),X(),Z());break;case"down_payment_amount":rt()&&(ct(),mt(),pt(),Mt(),Z());break;case"down_payment_percent":pt(),ut(),ct(),Mt(),Z();break;case"mortgage_loan_type":var e=$("#mortgage_loan_type option:selected");Mt();var i=parseFloat(e.data("rate")).toFixed(3),o=isNaN(i)?"":i+"%";n.val(o),pt(),ut(),ct(),Z(),Tt();break;case"mortgage_percent":ft()&&(gt(),Z());break;case"property_tax":vt(),Z();break;case"home_insurance":yt(),Z();break;case"hoa_fees":_t(),Z()}},J=function(){var t=$("#mortgage_loan_type option:selected");return{home_price:MOVE.FormatHelper.formatPrice($("#home_price").val()||""),downPayment:MOVE.FormatHelper.formatPrice($("#down_payment_amount").val()||""),property_tax:Math.round(MOVE.FormatHelper.formatPrice(s.val()||""))||0,hoa:MOVE.FormatHelper.formatPrice($("#hoa_fees").val()||"")||0,hoi:MOVE.FormatHelper.formatPrice($("#home_insurance").val()||"")||0,rate:parseFloat(n.val()).toFixed(3)/100,loanType:t.val(),term:t.data("term")}},Z=function(){var t=J();MOVE.LDP.MortgagePayment.getCalculatedData(t).done(K)},K=function(t){t&&nt(t)},Q=function(t){return T?parseInt(MOVE_DATA.propertyDetails.hoa_fees||0):t.hoa_fees},tt=function(t){var e={name:"Principal & Interest",y:Math.round(t.principal_and_interest),color:P[0]},i={name:"Property Tax",y:Math.round(t.monthly_property_taxes),color:P[1]},o={name:"Home Insurance",y:Math.round(t.monthly_home_insurance),color:P[2]},a={name:"HOA",y:Math.round(Q(t)),color:P[3]},n={name:"Mortgage Insurance",y:Math.round(t.monthly_mortgage_insurance),color:P[4]},s=[e,i,o,a,n];!0===T?(C.appear(),C.one("appear",function(){bt(s),T=!1})):f.series[0].setData(s)},et=function(t){return"$"+MOVE.FormatHelper.commaDelimit(Math.round(t.principal_and_interest).toString())+"/mo"},it=function(e){s.val("$"+MOVE.FormatHelper.commaDelimit(Math.round(e.monthly_property_taxes).toString())),c.val("$"+MOVE.FormatHelper.commaDelimit(Math.round(e.monthly_home_insurance).toString())),p.val("$"+MOVE.FormatHelper.commaDelimit(Math.round(Q(e)).toString())),m.text("$"+MOVE.FormatHelper.commaDelimit(Math.round(e.monthly_payment).toString())),r.text("$"+MOVE.FormatHelper.commaDelimit(Math.round(e.principal_and_interest).toString())),t.MortgagePaymentModal.getSavedDpAmount()&&l.html(' <i class="ra ra-calculator font-size-base"></i> <span class="ldp-mortgage-monthly-price-label font-size-small hide-est-helper">Est. Payment </span>'+et(e)),h.text("$"+MOVE.FormatHelper.commaDelimit(Math.round(e.monthly_mortgage_insurance).toString())),ot()},ot=function(){"$0"===h.text()?d.addClass("hide"):d.removeClass("hide")},at=function(t,e){return t?t-e:0},nt=function(t){if(!1===k){var e=at(O,t.monthly_property_taxes),i=at(E,t.monthly_home_insurance),o=parseInt(MOVE_DATA.propertyDetails.hoa_fees);t.monthly_property_taxes=O||t.monthly_property_taxes,t.monthly_home_insurance=E||t.monthly_home_insurance,o=Q(t),o=isNaN(o)?0:o,t.monthly_payment=t.monthly_payment+e+i+o,k=!0}tt(t),it(t),st()},st=function(){$("#ldp-mortgage-chart-wrap .mobile-dp-sentence").html('<span class="display-block"> <span class="font-semibold">'+a.val()+'</span> Down Payment </span> <span class="font-semibold">'+$("#mortgage_loan_type :selected")[0].label+'</span> Loan at <span class="font-semibold">'+n.val()+"</span>")},rt=function(){return lt()?(i.removeClass("error"),g.addClass("no-show"),ht()?(o.removeClass("error"),g.addClass("no-show"),!0):(o.addClass("error"),i.addClass("error"),g.removeClass("no-show").text("Purchase Price is less than Down Payment"),!1)):(i.addClass("error"),g.removeClass("no-show").text("Enter amount between $1000 - $999,999,999"),!1)},lt=function(){var t=i.val(),e=!0;return t&&"$"!==t?(t=MOVE.FormatHelper.formatPrice(t),(parseInt(t,10)<1e3||parseInt(t,10)>999999999)&&(e=!1)):e=!1,e},ht=function(){var t=!0,e=i.val(),a=o.val();return e=MOVE.FormatHelper.formatPriceToNumber(e),a=MOVE.FormatHelper.formatPrice(a),a?parseInt(a,10)>parseInt(e,10)&&(t=!1):o.val(0),t},dt=function(){var t=i.val();t=MOVE.FormatHelper.formatPrice(t);var e=MOVE.FormatHelper.commaDelimit(t);i.val("$"+e)},ct=function(){var t=o.val(),e=MOVE.FormatHelper.formatPrice(t),i=MOVE.FormatHelper.commaDelimit(e);o.val("$"+i),Ct()},pt=function(){var t=a.val(),e=null;t&&"%"!==t?(t=MOVE.FormatHelper.formatPercent(t),e=Math.round(parseFloat(t))):e=0,e<0?e=0:e>100&&(e=100),a.val(e+"%"),Ct()},ut=function(){var t=MOVE.FormatHelper.formatPrice(i.val()),e=MOVE.FormatHelper.formatPercent(a.val()),n=null;n=t?Math.round(parseInt(e,10)/100*parseInt(t,10)):0,o.val(n)},mt=function(){var t=i.val(),e=o.val(),n=null;if(t=MOVE.FormatHelper.formatPrice(t),e=MOVE.FormatHelper.formatPrice(e),!t||!e)return!1;n=Math.round(100*parseInt(e,10)/parseInt(t,10)),a.val(n)},ft=function(){var t=n.val();return!(t=MOVE.FormatHelper.formatMortgagePercent(t))||t<=0||t>20||"."===t?(n.addClass("error"),v.removeClass("no-show"),!1):(n.removeClass("error"),v.addClass("no-show"),!0)},gt=function(){var t=n.val();t=MOVE.FormatHelper.formatMortgagePercent(t),t=parseFloat(t).toFixed(3),t=isNaN(t)?"":t+"%",n.val(t)},vt=function(){var t=MOVE.FormatHelper.formatPrice(s.val()),e=MOVE.FormatHelper.commaDelimit(t);e||(e=0),s.val("$"+e)},yt=function(){var t=MOVE.FormatHelper.formatPrice(c.val()),e=MOVE.FormatHelper.commaDelimit(t);e||(e=0),c.val("$"+e)},_t=function(){var t=MOVE.FormatHelper.formatPrice(p.val()),e=MOVE.FormatHelper.commaDelimit(t);e||(e=0),p.val("$"+e)},Mt=function(){var t=a.val().replace(/\%/g,""),e=$("#mortgage_loan_type option:selected").val();t<20&&"30yr_va"!==e?u.removeClass("no-show"):u.addClass("no-show")},bt=function(t){var e=parseFloat(n.val().replace(/\%/g,"")).toFixed(3),i=isNaN(e)?"":e+"%";n.val(i),$("#mortgage_loan_type").selectpicker();var o=$("#ldp-mortgage-chart");window.Highcharts.setOptions({lang:{thousandsSep:","}}),f=new window.Highcharts.chart(o[0],{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},credits:{enabled:!1},title:{text:null},plotOptions:{series:{animation:{duration:1500}},pie:{shadow:!1,center:["50%","50%"],showInLegend:!1,dataLabels:{enabled:!1},allowPointSelect:!0,slicedOffset:0}},tooltip:{valuePrefix:"$",pointFormat:"<b>{point.y}</b><br/>",hideDelay:0,backgroundColor:"rgba(247,247,247,1)"},series:[{name:null,data:t,innerSize:"72%",states:{hover:{halo:!1}}}]}),xt()},xt=function(){$("#ldp-mortgage-chart-wrap .input-edit-inplace").prop("disabled",!0),$("#ldp-mortgage-chart-wrap").on("click",".editinplace-trigger",function(){$(this).parent().find(".input-edit-inplace").prop("disabled",!1).removeClass("input-inplace-noborder").select().focus()}),$(document).on("blur","#ldp-mortgage-chart-wrap .input-edit-inplace",function(){$(this).prop("disabled",!0).addClass("input-inplace-noborder").select().focus()}),$("#payment_options_mobile_modal").on("show.bs.modal",function(){$(".input-edit-inplace").prop("disabled",!1).removeClass("input-inplace-noborder")}),$("#payment_options_mobile_modal").on("hide.bs.modal",function(){$(window).scrollTop($("#ldp-payment-options").offset().top)})},wt=function(){Dt(),Ot(),Et()},kt=function(){C.on("change","#home_price, #property_tax, #home_insurance, #hoa_fees, #down_payment_amount, #down_payment_percent, #mortgage_percent, #mortgage_loan_type",function(){_satellite.track("finance:calculator:success")})},Ct=function(){MOVE.LocalStorage.isAvailable&&(localStorage.setItem("local_stored_estimate_dp_percent",$("#down_payment_percent").val()),localStorage.setItem("local_stored_estimate_dp_amount",$("#down_payment_amount").val()))},Dt=function(){C.on("change","#mortgage_loan_type",function(){var t=$("#mortgage_loan_type :selected").val();MOVE.LocalStorage.isAvailable&&localStorage.setItem("local_stored_selected_mortgage_type",t),$("#mortgage_loan_type").selectpicker("val",localStorage.local_stored_selected_mortgage_type)})},Ot=function(){C.on("change","#mortgage_percent, #apply-benefits",function(){MOVE.LocalStorage.isAvailable&&Tt()})},Et=function(){C.on("change","#home_price, #property_tax, #home_insurance, #hoa_fees",function(){Pt()})},Tt=function(){localStorage.setItem("local_stored_mortgage_percent",$("#mortgage_percent").val())},Pt=function(){Vt.home_price=$("#home_price").val().replace(/\D/g,""),Vt.monthly_property_taxes=St($("#property_tax")),Vt.monthly_home_insurance=St($("#home_insurance")),Vt.hoa_fees=St($("#hoa_fees")),At()},St=function(t){return parseInt(t.val().replace(/\D/g,""),10)},At=function(){MOVE.LocalStorage.isAvailable&&window.sessionStorage.setItem(D,JSON.stringify(Vt))},Lt=function(){var t=window.sessionStorage.getItem(D);return t?JSON.parse(t):{}},Vt=Lt(),$t=function(){MOVE.Helper.isMobile()||C.on("click",".payment_option_fields",function(){x=$('#ldp-mortgage-form .dropdown-menu *[data-original-index="2"]'),w=x.find("a"),$("#apply-benefits").prop("checked")?x.children().length||x.append(w):x.find("a").remove()})};return t.PaymentOptions={init:A,updateCalculations:K,mortgageOptions:J,toggleVeteransLink:W,fetchFieldsFromService:Z},t.PaymentOptions}(MOVE.LDP||{})},345:function(t,e){MOVE.LDP.ComparableSection=function(t){var e=MOVE.LDP.model.getData()||{},i=function(){var t=$("#pdp-comparable-homes-section");0!==$("#pdp-comparable-homes-section").length&&(MOVE.DOMHelper.unveilLoadImages(".comparable-property-photo img.active",{scrollContainer:t},t),o(),n(),$(".horizontal-scroll-panel").on("scroll",n),$(".nav-left",".comparable-tab-content").on("click",s),$(".arrow-left:after",".comparable-tab-content").on("click",s),$(".nav-right",".comparable-tab-content").on("click",r),$(".arrow-right:after",".comparable-tab-content").on("click",r),$("a[data-disable-crabwalk='true']",".comparable-property-card").on("click",a),$(".horizontal-scroll-panel").scrollLeft()>0&&h())},o=function(){if(MOVE.Helper.hasSessionStorage()){var t=JSON.parse(window.sessionStorage.getItem("comparable-homes-slider"));null!==t&&e.property_id===t.id&&($(".horizontal-scroll-panel").scrollLeft(t.pos),h(),window.sessionStorage.removeItem("comparable-homes-slider"))}},a=function(){var t=$(".horizontal-scroll-panel").scrollLeft();MOVE.Helper.hasSessionStorage()&&t>0&&window.sessionStorage.setItem("comparable-homes-slider",JSON.stringify({id:e.property_id,pos:t})),MOVE.DOMHelper.disableCrabwalk()},n=function(){var t=$(".horizontal-scroll-panel-wrap"),e=$(".horizontal-scroll-panel"),i=$(".comparable-property-photo").width()/2,o=$(".section-comparable-properties-img.active");e.scrollLeft()>0?t.addClass("arrow-left"):t.removeClass("arrow-left"),e[0].scrollWidth-e.scrollLeft()-e.width()<1?t.removeClass("arrow-right"):t.addClass("arrow-right"),(MOVE.Helper.isMobile()||"small"===MOVE.Helper.detectViewPort()||"medium"===MOVE.Helper.detectViewPort())&&(_.isEmpty(o)||$(this).scrollLeft()/o.length>=i&&h(3))},s=function(){var t=l(),e=$(".horizontal-scroll-panel");e.scrollLeft()+e.width()===e[0].scrollWidth&&(t-=30),e.animate({scrollLeft:e.scrollLeft()-t},300,"swing")},r=function(){var t=l(),e=$(".horizontal-scroll-panel");0===e.scrollLeft()&&(t-=30),h(5),e.animate({scrollLeft:e.scrollLeft()+t},300,"swing")},l=function(){return 215*Math.floor($(".horizontal-scroll-panel").width()/215)},h=function(t){var e=$(".section-comparable-properties-img").not(".active").slice(0,t),i=$("#pdp-comparable-homes-section");e.length>0&&(MOVE.DOMHelper.unveilLoadImages(e,{scrollContainer:i},i),e.addClass("active"))};return t.ComparableSection={init:i},t.ComparableSection}(MOVE.LDP||{})},346:function(t,e){MOVE.LDP.PdpTimelineSection=function(t){var e,i,o,a=function(){e(),i(),o(),$(".timeline-image-gallery .rdc-carousel").each(function(){$(this).RdcHorizontalCarousel({loop:!1,showNav:"show",moveBy:"set",margin:10,lazyLoad:!0})})};return e=function(){0!==$(".js-timeline-gallery").length&&$(".js-timeline-gallery").on("click",function(){var t=$(this).data("index"),e=$(this).data("target"),i=$("#timeline-fullscreen-gallery-"+e);i.data("selectedIndex",t),i.modal("show")})},i=function(){$(".timeline-icon").on("click",function(t){$(this).siblings(".timeline-text").children(".pdp-view-more").toggleClass("hide show"),$(this).children(".js-expand").toggleClass("ra-circle-plus ra-circle-minus"),t.preventDefault()})},o=function(){$(".pdp-timeline-show-more").on("click",function(){$(this).addClass("hide"),$(".pdp-timeline-show-less").removeClass("hide"),$(".js-mobile-view-more").removeClass("hide")}),$(".pdp-timeline-show-less").on("click",function(){$(this).addClass("hide"),$(".pdp-timeline-show-more").removeClass("hide"),$(".js-mobile-view-more").addClass("hide"),$("html,body").animate({scrollTop:$(".section-pdp-timeline").offset().top-40},"slow")})},t.PdpTimelineSection={init:a},t.PdpTimelineSection}(MOVE.LDP||{})},347:function(t,e){MOVE.LDP.RateTable=function(t){var e=$(".js-rate-table-items .row"),i=$(".js-rate-table-popover"),o=$(".js-rate-table-graph"),a=MOVE.DataStore.getData("propertyDetails"),n=function(){u().done(function(t){t.meta.success&&t.rate_table?r(t):s()}).fail(function(){s()})},s=function(){e.empty(),o.removeClass("hide"),f(),MOVE.MortgageGraph.init()},r=function(t){o.addClass("hide"),f(t),g(t)},l=function(){var t=localStorage.local_stored_selected_mortgage_type;return($("#mortgage_loan_type option:selected").length>0?$("#mortgage_loan_type option:selected").val():void 0)||t||"30yr_fixed"},h=function(){var t=localStorage.local_stored_downpayment_percent_value;return($("#down_payment_percent").length>0?$("#down_payment_percent").val().replace("%",""):void 0)||t||20},d=function(t){return 100-t},c=function(){return parseInt($("#ldp-payment-options").find("#home_price").val().replace(/\$|,/g,"").trim(),10)},p=function(){var t=l(),e={};switch(t){case"30yr_fixed":e={request_parameter:"30YrFixed",text_field:"30-Year Fixed"};break;case"30yr_fha":e={request_parameter:"30YrFixed_FHA",text_field:"30-Year Fixed FHA"};break;case"30yr_va":e={request_parameter:"30YrFixed_VA",text_field:"30-Year Fixed VA"};break;case"20yr_fixed":e={request_parameter:"20YrFixed",text_field:"20-Year Fixed"};break;case"15yr_fixed":e={request_parameter:"15YrFixed",text_field:"15-Year Fixed"};break;case"10yr_fixed":e={request_parameter:"10YrFixed",text_field:"10-Year Fixed"};break;case"51_arm":e={request_parameter:"5Arm",text_field:"5/1 ARM"};break;case"71_arm":e={request_parameter:"7Arm",text_field:"7/1 ARM"}}return e},u=function(){var t=$.Deferred();return $.ajax({url:"/mrtg_handler/mini_rates",method:"GET",dataType:"JSON",data:{property_price:c(),ltv:d(h()),zip:a.postal_code,loan_purpose:"purchase",state:a.state_code,loan_types:p().request_parameter,source:"ldp",limit:"3"},success:function(e){t.resolve(e)},error:function(e){t.reject(e)}}),t},m=function(){var t="/mortgage/rates/#zip="+a.postal_code;return t+="&property_price="+c(),t+="&dper="+h(),window.location.href=t,!1},f=function(t){var e="",o="http://www.bankrate.com",a="Bankrate.com",n="bank-rate";t&&t.rate_table[0]&&t.rate_table[0].Provider&&(a=t.rate_table[0].Provider.Name,n="bankrate"!==a.toLowerCase()?t.rate_table[0].Provider.Name.toLowerCase():"bank-rate",e=t.rate_table[0].Provider.Logo,o=t.rate_table[0].Provider.Url),e?$(".js-rate-table-popover").html('<img src="'+e+'" alt="'+a+'logo" />'):$(".js-rate-table-popover").html(a),$(".js-rate-table-info span:first").text("Local rates for "+p().text_field+" loan after a "+h()+"% down payment."),$(".js-rate-table-view-more").attr("data-omtag","ldp:rr:rate-table:"+n+":view-more"),$(".js-rate-table-view-more").on("click",m),i.popover({html:"true",placement:"bottom",content:JST["templates/mortgage_rate_header_popover"]({providerName:a,providerUrl:o,providerOmnitureName:n}),trigger:"click"}).on("click",function(t){t.preventDefault()}),$("body").on("click touchstart",function(t){var e=$(t.target);!e.is(i)&&0===e.parents(".popover").length&&i.length>0&&i.popover("hide")})},g=function(t){e.empty(),$.each(t.rate_table,function(t,i){var o=i.Rate.toFixed(3),a=i.AprVal.toFixed(3),n=i.DateVal.substring(4),s=i.Provider&&"bankrate"!==i.Provider.Name.toLowerCase()?i.Provider.Name.toLowerCase():"bank-rate",r="ldp:rr:rate-table:"+s+":arm-rate:learn-more",l="";i.LoanTypeDisplayName.indexOf("ARM")<0&&(r="ldp:rr:rate-table:"+s+":fixed-rate:learn-more"),l=$(".js-rate-table-items.variant").length?"templates/mortgage_rate_item_variant":"templates/mortgage_rate_item";var h=JST[l]({advertiser:i,rate:o,apr:a,date:n,omtagLearnMore:r});e.append(h)})};return t.RateTable={init:n},t.RateTable}(MOVE.RateTable||{})},348:function(t,e){MOVE.LDP.RecentSoldHomes=function(t){var e=function(){i()},i=function(){var t=$(".view-more-recently-sold");0!==t.length&&t.click(function(e){$(".recently-sold-group-1").removeClass("hidden"),MOVE.Common.endsWith(t.prop("href"),"#")?t.remove():(t.text("See all listings"),t.off()),$(window).scroll(),e.preventDefault()})};return t.RecentSoldHomes={init:e},t.RecentSoldHomes}(MOVE.LDP||{})},349:function(t,e){MOVE.LDP.RentalLeadFreeMovingQuotesModal=function(t){var e,i,o,a,n,s,r,l,h,d,c=function(){l=MOVE.LDP.model.getData()||{},p(),m(),f(),MOVE.Common.openModalMovingLeadOmniture()},p=function(){if(e=$("#rental-lead-free-moving-quotes-modal"),i=e.find(".submit"),o=e.find("form"),n=o.find("#rental-free-moving-name"),a=o.find("#rental-free-moving-phone"),s=o.find("#rental-free-moving-date-picker"),r=o.find("#rental-free-moving-email"),MOVE.LocalStorage.isAvailable&&(h=localStorage.getItem(MOVE.CONSTANTS.CACHED_USER_INPUT_STOREAGE_NAME))){var t=JSON.parse(h);void 0!==t.fullName&&""!==t.fullName?(n.val(t.fullName),t.fullName.indexOf(" ")>=0&&o.find(".rental-moving-name-parent").hide()):o.find(".rental-moving-name-parent").show(),void 0!==t.phone&&""!==t.phone?(a.val(t.phone),o.find(".rental-moving-phone-parent").hide()):o.find(".rental-moving-phone-parent").show(),void 0!==t.email&&""!==t.email?(r.val(t.email),o.find(".rental-moving-email-parent").hide()):o.find(".rental-moving-email-parent").show()}},u=function(){e.modal("hide");var t=$("#thank-you-moving-quote");t.find(".close").on("click",function(){t.addClass("hide")}),t.removeClass("hide").show(),t.fadeTo(1e4,100).fadeOut("slow")},m=function(){var t=new Date;t.setDate(t.getDate()+14),s.datepicker({orientation:"auto",autoclose:!0,startDate:"+1d",endDate:"+6m"}),s.datepicker("setDate",t),s.datepicker("update")},f=function(){var t={"rental-free-moving-move-from":{required:"Please enter zip code",pattern:"Please enter a valid zip code",invalid:"Please enter a valid zip code"},"rental-free-moving-name":{required:"Please enter your full name",pattern:"Please enter a valid full name",invalid:"Please enter a valid full name"},"rental-free-moving-phone":{required:"Please enter your phone number",phoneUS:"Please enter a valid phone number",invalid:"Please enter a valid phone number"},"rental-free-moving-email":{required:"Please enter your email",email:"Please enter a valid email",invalid:"Please enter a valid email",pattern:"Please enter a valid email"},"rental-free-moving-move-in-date":{required:"Please enter a date"}};d=o.validate({rules:{"rental-free-moving-move-from":{required:!0,pattern:/^\d{5}(-\d{4})?$/},"rental-free-moving-name":{required:!0,pattern:/^[a-zA-Z.+-.']+\s+[a-zA-Z.+-. ']+$/},"rental-free-moving-phone":{required:!0,phoneUS:!0},"rental-free-moving-email":{required:!0,email:!0,pattern:/^.+@.+\..+$/},"rental-free-moving-move-in-date":{required:!0}},messages:t,errorPlacement:function(t,e){MOVE.DOMHelper.movingQuoteErrorPlacement(t,e)},submitHandler:function(){var e=MOVE.DateFormat.getFormattedDate(s.datepicker("getDate")),i=n.val().split(" "),h={from_zip:o.find("#rental-free-moving-move-from").val(),to_zip:l.postal_code,last_name:i[1],first_name:i[0],email:r.val(),phone_home:a.val(),move_date:e,move_size:o.find("#rental-free-moving-move-size").val(),lead_source:"rdc-mod-ldp"};v(!1),$.ajax({url:"/moving/lead",method:"POST",data:h,dataType:"JSON",success:function(e){if(MOVE.Common.cacheInputs(n,r,a),v(!0),e.meta.success)return g(),u();_.each(e.meta.errors,function(e){var i={},n=MOVE.Helper.mapMovingAPIErrorCodeToName(e.code);if("unsupported"===n)return g(),u();n="first-name"===n||"last-name"===n?"name":n,"phone"===n?(o.find(".rental-moving-phone-parent").show(),a.one("keyup",function(){$(this).valid()})):"email"===n&&(o.find(".rental-moving-email-parent").show(),r.one("keyup",function(){$(this).valid()})),n="rental-free-moving-"+n,i[n]=t[n].invalid,d.showErrors(i)})}})}})},g=function(){MOVE.Helper.updateOmnitureLeadJson({leadType:"moving",leadPlacement:"ldp:top"}),MOVE.Common.successMovingLeadOmniture()},v=function(t){i.attr("disabled",!t)};return t.RentalLeadFreeMovingQuotesModal={init:c,showThankyou:u},t.RentalLeadFreeMovingQuotesModal}(MOVE.LDP||{})},350:function(t,e){MOVE.LDP.rentalLeadMovingForm=function(t){var e,i,o,a,n,s,r,l,h,d,c,p,u,m,f,g,v,y,M,b,x,w,k,C,D=function(i){O(i),V(),E(),$("#modal-movingquote-back").off("click").on("click",function(){t.RentalLeadMovingModal.resetMovingQuotes()}),$("#modal-movingquote-submit").off("click").on("click",function(){var t=$('input[name="movinghelp"]:checked').val();t&&("none"===t?(MOVE.LDP.RentalLeadMovingModal.closeModal(),MOVE_DATA.adobeDTM.modal={selfIdentify:"no-moving-help"},MOVE.Common.openModalMovingLeadOmniture()):(w=$.extend(w,{move_type:t}),S(function(){A(!0),p.removeClass("hide").siblings().addClass("hide"),e.find(".modal-title").html("Thank You"),MOVE_DATA.adobeDTM.modal={name:"movingQuote.step3",selfIdentify:"labor"===t?"moving-labor":"moving-full"},MOVE.Common.openModalMovingLeadOmniture(),L()})))})},O=function(t){if(u=MOVE.LDP.model.getData()||{},g=t,e=$("#rental-lead-moving-modal"),i=e.find("#rental-lead-moving-submit-btn"),o=e.find("#modal-movingquote-submit"),c=$("#modal-movingquote-content1"),p=$("#modal-movingquote-content3"),a=e.find("form"),s=a.find("#rental-moving-name"),n=a.find("#rental-moving-phone"),d=a.find("#rental-moving-email"),r=a.find("#rental-moving-date-picker"),l=a.find("#rental-moving-move-from"),h=a.find("#rental-moving-move-size"),MOVE.LocalStorage.isAvailable&&(m=localStorage.getItem(MOVE.CONSTANTS.CACHED_USER_INPUT_STOREAGE_NAME))){var f=JSON.parse(m);MOVE.FormatHelper.isEmpty(f.fullName)?a.find(".rental-moving-name-parent").show():(s.val(f.fullName),a.find(".rental-moving-name-parent").hide()),MOVE.FormatHelper.isEmpty(f.phone)?a.find(".rental-moving-phone-parent").show():(n.val(f.phone),a.find(".rental-moving-phone-parent").hide()),MOVE.FormatHelper.isEmpty(f.email)?a.find(".rental-moving-email-parent").show():(d.val(f.email),a.find(".rental-moving-email-parent").hide())}},E=function(){k={"rental-moving-move-from":{required:"Please enter zip code",pattern:"Please enter a valid zip code",invalid:"Please enter a valid zip code"},"rental-moving-name":{required:"Please enter your full name",pattern:"Please enter a valid full name",invalid:"Please enter a valid full name"},"rental-moving-phone":{required:"Please enter your phone number",phoneUS:"Please enter a valid phone number",invalid:"Please enter a valid phone number"},"rental-moving-email":{required:"Please enter your email",email:"Please enter a valid email",invalid:"Please enter a valid email"},"rental-moving-move-in-date":{required:"Please enter a date"},"rental-moving-move-size":{required:"Please enter a valid move size",pattern:"Please enter a valid move size"}},f=a.validate({ignore:"",rules:{"rental-moving-move-from":{required:!0,pattern:/^\d{5}(-\d{4})?$/},"rental-moving-name":{required:!0,pattern:/^[a-zA-Z.+-.']+\s+[a-zA-Z.+-. ']+$/},email:{required:!0,email:!0},"rental-moving-phone":{required:!0,phoneUS:!0},"rental-moving-move-in-date":{required:!0},"rental-moving-move-size":{required:!0,pattern:/^[1-9]\d*$/}},messages:k,errorPlacement:function(t,e){e.parent(".input-group").hasClass("date")?t.insertAfter(e.parent(".input-group")):"rental-moving-move-size"===e.attr("id")?e.parent().append(t):t.insertAfter(e)},submitHandler:T})},T=function(){v=MOVE.DateFormat.getFormattedDate(r.datepicker("getDate")),y=l.val(),M=h.val(),b=u.postal_code,x=s.val().split(" "),C=MOVE_DATA.propertyDetails.flags.is_costar?"apt-rnt":"rdc-rnt",w={from_zip:y,to_zip:b,last_name:x[1],first_name:x[0],email:d.val(),phone_home:n.val(),move_date:v,move_size:M,property_type:C,product_type:MOVE_DATA.adobeDTM.productType,parent_lead_form_position:g,move_type:"company"},$.ajax({url:"/moving/area/zipcode",method:"POST",data:{zipcode:y},dataType:"JSON",success:function(t){t&&t.state&&t.state.toLowerCase()===u.state_code.toLowerCase()?P():(w=$.extend(w,{move_type:"company"}),S(function(t){if(MOVE.Common.cacheInputs(s,d,n),A(!0),t.meta.success)return L(),MOVE.LDP.RentalLeadMovingModal.showThankyou();_.each(t.meta.errors,function(t){var e={},i=MOVE.Helper.mapMovingAPIErrorCodeToName(t.code);if("unsupported"===i)return L(),MOVE.LDP.RentalLeadMovingModal.showThankyou();i="first-name"===i||"last-name"===i?"name":i,"phone"===i?(a.find(".rental-moving-phone-parent").show(),n.one("keyup",function(){$(this).valid()})):"email"===i&&(a.find(".rental-moving-email-parent").show(),d.one("keyup",function(){$(this).valid()})),i="rental-moving-"+i,e[i]=k[i].invalid,f.showErrors(e)})}))}})},P=function(){$.ajax({url:"/moving/calculate_cost",method:"POST",data:{from_zip:y,to_zip:b,move_weight_lbs:M,packing_option:"none"},dataType:"JSON",success:function(t){t.calculation&&$("#movingquote-estimate").html(t.calculation.low_estimate+" - "+t.calculation.high_estimate).closest("h3").removeClass("hide")},complete:function(){c.addClass("hide").next().removeClass("hide"),e.find(".modal-title").html("Free Moving Quotes"),MOVE_DATA.adobeDTM.modal={name:"movingQuote.step2"},_satellite.track("moving-quote:modal")}})},S=function(t){A(!1),$.ajax({url:"/moving/lead",method:"POST",data:w,dataType:"JSON",success:t})},A=function(t){$(o,i).attr("disabled",!t)},L=function(){MOVE.Helper.updateOmnitureLeadJson({leadType:"moving",leadPlacement:"post-lead"}),MOVE.Common.successMovingLeadOmniture()},V=function(){r.datepicker({orientation:"auto",autoclose:!0,startDate:"+1d",endDate:"+6m"}).on("hide",function(){a.valid()}),r.datepicker("update")};return t.RentalLeadMovingForm={init:D,submitHandler:T},t.RentalLeadMovingForm}(MOVE.LDP||{})},351:function(t,e){MOVE.LDP.RentalLeadMovingModal=function(t){var e,i,o=function(t){i=MOVE.LDP.model.getData()||{},a(),MOVE.LDP.RentalLeadMovingForm.init(t),e.off("hidden.bs.modal").on("hidden.bs.modal",function(){n()}),MOVE_DATA.adobeDTM.modal={name:"movingQuote.step1"},MOVE.Common.openModalMovingLeadOmniture()},a=function(){e=$("#rental-lead-moving-modal")},n=function(){$("#modal-movingquote-content1").removeClass("hide").siblings().addClass("hide"),$("#movingquote-estimate").closest("h3").addClass("hide"),e.find(".modal-title").html("Thank You")},s=function(){e.modal("hide");var t=$("#thank-you-moving-quote");t.find(".close").on("click",function(){t.addClass("hide")}),t.removeClass("hide").show(),t.fadeTo(1e4,100).fadeOut("slow")},r=function(){e.modal("hide")},l=function(){e.modal()},h=function(t){$("#rental-lead-moving-modal").length?(o(t),l()):MOVE.ModalHelper.fetchModal("#rental-lead-moving-modal",i,{position:t})};return t.RentalLeadMovingModal={init:o,show:h,showThankyou:s,closeModal:r,resetMovingQuotes:n},t.RentalLeadMovingModal}(MOVE.LDP||{})},352:function(t,e){MOVE.LDP.ReportListing=function(t){"use strict";var e,i,o,a=!0,n=function(){$("#aReportListing").hover(i),$("#aReportListing").click(e)};return i=function(t){t.preventDefault();var e=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),i=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);(!0===a&&!0===e||!0===a&&!0===i)&&(o(),a=!1)},e=function(){var t=$(this);t.addClass("disabled"),o(),setTimeout(function(){t.removeClass("disabled")},3e3)},o=function(){var t,e="SI_8iDQlV0kpz2qXOd",i=document.getElementById(e);i?(i.innerHTML="",t=i):(t=document.createElement("div"),t.id=e);var o=document.createElement("script");o.type="text/javascript",o.src="//zn_1svmh5y7lkb0axz-move.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_SIID=SI_8iDQlV0kpz2qXOd&Q_LOC="+encodeURIComponent(window.location.href),t.appendChild(o),document.body&&document.body.appendChild(t)},t.ReportListing={init:n},t.ReportListing}(MOVE.LDP||{})},353:function(t,e){MOVE.LDP.SaveDelete=function(t){var e=function(t){MOVE.Common.showSaveAwarePopUpOnRefresh(),void 0!==$(".ldp-unsave").data("res-id")&&o(),$("body").on("click",".ldp-save",{listing:t},i).on("click",".ldp-unsave",a).on("click",".js-tracking .ldp-save-not-logged-in, .js-tracking .save-not-logged-in",{is_listings:!0},function(e){$(".modal").is(":visible")&&$(".modal").find(".close").click();var i=$(this),o=function(){location.reload()},a={source:"save_home",triggerLocation:"ldp:top:save"};return MOVE.ModalHelper.raasSwapOrLogin(function(){var a=i.closest(".js-tracking"),n={property_id:a.data("propertyid"),status:a.data("status"),listing_id:a.data("listingid"),save_aware:t.save_aware};MOVE.Common.saveListing(e,{listing:n,callBack:o,requireReload:!0})},a),MOVE.Common.loginTracking(i),e.preventDefault(),!1})},i=function(t){var e=t.data.listing,i={property_id:e.property_id,status:e.status,listing_id:e.listing_id,save_aware:e.save_aware||!1},a=function(t){var e=t.resources.id,i=t.meta.params.data.sub_resource_id;$(".ldp-save").hide().removeAttr("disabled"),$(".ldp-unsave").show().data("res-id",e),MOVE_DATA.propertyDetails.saved_resource_id=e,GNAV.MYACCOUNT.getSavedResponse("my_properties"),MOVE_DATA.adobeDTM.raas=MOVE_DATA.adobeDTM.raas||{},MOVE_DATA.adobeDTM.saveItem="listing",MOVE_DATA.adobeDTM.raas.placement="top",_satellite.track("raas:save:success"),o(),MOVE.Common.setSavedListings(i,e)};MOVE.Common.saveListing(t,{listing:i,callBack:a,requireReload:!1})},o=function(){$(".ldp-unhide").is(":visible")&&$(".ldp-unhide").first().click()},a=function(t){var e=$(".ldp-save"),i=$(".ldp-unsave"),o=function(){var t=MOVE.LDP.model.getData()||{};e.show(),i.hide().data("res-id",null).removeAttr("disabled"),MOVE_DATA.propertyDetails.saved_resource_id=null,GNAV.MYACCOUNT.getSavedResponse("my_properties"),$("body").trigger("removeFromSavedButton"),MOVE.Common.deleteSavedListings(t.listing_id)};MOVE.Common.deleteListing(t,{id:i.data("res-id"),callBack:o})};return t.SaveDelete={init:e},t.SaveDelete}(MOVE.LDP||{})},354:function(t,e){MOVE.LDP.UnitModules=function(t){var e=$(".single-browse-module-description"),i=$("#ldp-unit-wrapper .listing-card-more"),o=function(){$("#ldp-unit-wrapper").RdcHorizontalCarousel({loop:!1,showNav:"show",moveBy:"set",margin:10,lazyLoad:!0,items:5}),e.each(function(){var t=$(this).text();t.length>205&&$(this).text(t.substr(0,t.lastIndexOf(" ",202))+" ...")}),i.click(function(){void 0!==MOVE_DATA.propertyDetails.building_srp_url&&i.attr("href",MOVE_DATA.propertyDetails.building_srp_url)}),e.removeClass("hide")};return t.UnitModules={init:o},t.UnitModules}(MOVE.LDP||{})},355:function(t,e){MOVE.LDP.MortgagePayment=function(t){var e=function(){var t=MOVE.LDP.model.getData();t.price||(t.price=t.price_min),MOVE.LDP.PaymentOptions.init(),MOVE.LDP.MortgagePaymentModal.init()},i=function(){a(MOVE.LDP.PaymentOptions.mortgageOptions()).done(function(t){MOVE.LDP.MortgagePaymentModal.updateCalculations(t),MOVE.LDP.PaymentOptions.updateCalculations(t)})},o=function(t){var e=$.Deferred();return $.ajax({url:"/mrtg_handler/payment_estimate",method:"GET",dataType:"JSON",data:{home_price:t.price,dp_percent:t.downPaymentPercent||20,hoa:t.hoa_fees,location:t.postal_code+", "+t.city+", "+t.state_code},success:function(t){e.resolve(t)}}),e},a=function(t){var e=$.Deferred(),i=!0;return t.loanType.indexOf("_va")>-1&&(i=!1),$.ajax({type:"GET",url:"/mrtg_handler/calculators/loan/calculate",data:{price:t.home_price,down_payment:t.downPayment,rate:t.rate,term:t.term,tax_rate:12*t.property_tax/t.home_price,hoi:t.hoi||0,hoa:t.hoa||0,is_fees_included:!0,is_pmi_included:i,exclude_amortization_table:!0},success:function(t){e.resolve(t.mortgage)}}),e},n=function(t){var e=void 0;return e=-1===t.price_display.search("-")?isNaN(t.price)?parseInt(t.price.replace(/[^0-9\.]+/g,""),10):t.price:t.price_min,isNaN(e)?0:e};return t.MortgagePayment={init:e,getEstimatedData:o,getCalculatedData:a,initCalculations:i,getHomePriceValue:n},t.MortgagePayment}(MOVE.LDP||{})},356:function(t,e){MOVE.LDP.PropertyDetailsView=function(t){var e,i=this,o=MOVE.LDP.model,a=MOVE_DATA.propertyDetails.is_mobile,n=function(){var t=o.getData()||{};i.search_criteria={city:t.city,postal:t.postal_code,state:t.state_code,address:t.address,mlslid:t.mlslid,searchType:"address"},MOVE.LDP.BrowseModules.initCarousels();var a=$(".property_details.show");if(1===a.length&&a.ready(s),MOVE.Helper.hasSessionStorage()&&("true"===window.sessionStorage.getItem("isLDPSearch")||i.search_criteria.mlslid)){var n=i.search_criteria.mlslid?{mlslid:i.search_criteria.mlslid}:i.search_criteria;MOVE.UserActivity.updateRecentSearches({searchType:MOVE.Helper.getPropertyStatusForSearch(t.search_controller),criteria:n},!0),window.sessionStorage.setItem("isLDPSearch","false")}var r=MOVE.UserActivity.getSortedRecentSearches().splice(0,1);MOVE.LDP.PropertyDetails.fillSearchBox($.fn.autocomplete.formatRecentSearches(r,!0)),MOVE.UserActivity.updateRecentViews(e,e.property_type),MOVE.AutoComplete.init($("#searchBox"),{latitude:t.lat,longitude:t.long},!0),MOVE.LDP.BrowseModules.loadBrowseModulePhotos(),MOVE.LDP.NearbyHomeValues.init(),MOVE.LDP.RecentSoldHomes.init(),MOVE.LDP.HistoricalForecastGraph.init()},s=function(){e=MOVE.LDP.model.getData(),MOVE.LDP.LeadForm.init("primary_request_more_details",e),MOVE.LDP.LeadForm.init("secondary_request_more_details",e),MOVE.LDP.LeadForm.init("secondary_request_more_details_mobile_sticky",e),MOVE.LDP.LeadForm.init("photo_gallery_request_more_details",e),MOVE.LDP.LeadForm.init("full_bleed_secondary_request_more_details",e),MOVE.LDP.LeadForm.init("full_bleed_inline_request_more_details",e),e.status!==MOVE.CONSTANTS.PROPERTY_STATUS.forSale&&e.status!==MOVE.CONSTANTS.PROPERTY_STATUS.newCommunity&&e.status!==MOVE.CONSTANTS.PROPERTY_STATUS.newPlan||MOVE.LDP.MortgagePayment.init(),MOVE.LDP.StickyBar.init(),MOVE.LDP.HideUnhide.init(e),MOVE.LDP.SaveDelete.init(e),MOVE.LDP.ReportListing.init(),MOVE.LDP.CallLeads.init(),MOVE.Common.savePropertyCards(),a?(MOVE.LDP.MobileHeroCarousel.init(),MOVE.DOMHelper.closeTooltips(),MOVE.LDP.OptimizationMobile.init()):(MOVE.LDP.NearbyHomes.init(),MOVE.MovingEstimateWidget.init(),MOVE.LDP.RightRail.init(),MOVE.EditorsPicks.init(),MOVE.LDP.AdditionalCommunities.init(),MOVE.LDP.DesktopHeroCarousel.init(),MOVE.LDP.OptimizationDesktop.init()),MOVE.LDP.Optimization.init(),MOVE.LDP.MapLayers.init(),MOVE.LifeStyleGallery.init(),MOVE.Common.showStickyBar("#ldp-sticky-buyer-lead",610),$(window).one("scroll",function(){MOVE.LDP.BrowseModules.lazyLoadBrowseModules()}),MOVE.LDP.LdpPageSpecific.init(),MOVE.LDP.FeaturesGallery.init(),MOVE.LDP.NoteComponent.init(),MOVE.LDP.ComparableSection.init(),MOVE.LDP.PdpTimelineSection.init(),1===$("#key-fact-carousel").length&&MOVE.LDP.DetailsKeyFact.init(),$('.key-fact-data[data-toggle="tooltip"]').tooltip(),MOVE.Common.readMore(".details-load-more",60,"Read"),MOVE.LDP.PrintPage.init(),MOVE.LDP.FsMapModal.init(),MOVE.LDP.UnitModules.init()};return t.PropertyDetailsView={init:n},t.PropertyDetailsView}(MOVE.LDP||{}),MOVE.LDP.PropertyDetailsView.init()},50:function(t,e){MOVE.LifeStyleGallery=function(t){var e=void 0,i=function(){e()};return e=function(){var e,i=$(".js-local-widget-number").data("temp"),o=i>5?i-4:0,a=i>3?i-2:0;e=t.Helper.isMobile()?i>4?i-3:0:i>8?i-7:0,$("#local_community_images").find(".js-local-fsgallery-toggle").last().find("img").after("<span class='js-local-numbers'>+"+o+"</span>"),$("#ldp_community_images").find(".js-local-fsgallery-toggle").last().find("img").after("<span class='js-local-numbers-ldp'>+"+e+"</span>"),$("#widget_community_images").find(".js-local-fsgallery-toggle").last().find("img").after("<span class='js-local-widget'>+"+a+"</span>"),0===o&&($(".js-local-numbers").addClass("hide"),$(".js-local-images").removeClass("local-lifestyle")),0===a&&($(".js-local-widget").addClass("hide"),$(".local-widget-photo-item").removeClass("local-lifestyle")),0===e&&($(".js-local-numbers-ldp").addClass("hide"),$(".js-local-images-ldp").removeClass("local-lifestyle"))},t.DOMHelper.unveilLoadImages("img:not(.section-comparable-properties-img)",{},$(".js-community-images")),t.DOMHelper.unveilLoadImages("img:not(.section-comparable-properties-img)",{},$("#cmt-fullscreen-gallery #photoCarousel")),t.LifeStyleGallery={init:i},t.LifeStyleGallery}(MOVE||{})},502:function(t,e){MOVE.LDP.AdditionalCommunities=function(t){var e,i,o=$(".listing-cta .additional-community-save"),a=$(".listing-cta .additional-community-unsave"),n=function(){o.on("click",e),a.on("click",i)};return e=function(t){var e=$(this),i=e.parent(),o={property_id:i.data("property-id"),status:i.data("status"),listing_id:i.data("listing-id")},a=function(t){e.hide(),i.find(".additional-community-unsave").show(),i.find(".additional-community-unsave").data("res-id",t.resources.id),e.removeAttr("disabled"),GNAV.MYACCOUNT.getSavedResponse("my_properties")};MOVE.Common.saveListing(t,{listing:o,callBack:a})},i=function(t){t.stopPropagation();var e=this,i=function(){$(e).hide(),$(e).parent().find(".additional-community-save").show(),$(e).data("res-id",null),$(e).removeAttr("disabled"),GNAV.MYACCOUNT.getSavedResponse("my_properties")};return MOVE.Common.deleteListing(t,{id:$(e).data("res-id"),callBack:i}),t.stopPropagation(),!1},t.AdditionalCommunities={init:n},t.AdditionalCommunities}(MOVE.LDP||{})},503:function(t,e){MOVE.LDP.DesktopHeroCarousel=function(t){var e=$("#primary_request_more_details"),i=$("#ldpHeroCarousel"),o=$(".js-hero-photo-controls"),a=$("#hero-carousel-sm-cta"),n=$("#firstPhotoCount"),s=$("#ldpPhotoMrect"),r=$("#ldpPhotoHeroGalleryNavigation"),l=MOVE_DATA.propertyDetails.photo_count,h=function(){c(),d()},d=function(){1===l&&r.css("display","block")},c=function(){var t=l>=1,r={target:i,items:2,currentIndex:0,margin:0,navigationContainer:"#ldpPhotoHeroGalleryNavigation",touchDrag:t,mouseDrag:t,showPhotoCount:!0,responsiveClass:!0,responsive:{0:{items:1,nav:!0},996:{items:2,nav:!0}}},h=function(t,i){var r=0;r="large"===MOVE.Helper.detectViewPort()?600:485;var l=$("#ldp-herocarousel-lead").length?1:0,h=s.length?1:0;t>i+h+l?(n.text(i+1),e.animate({right:0},"fast"),o.removeClass("hide"),s.addClass("hide")):(o.addClass("hide"),t>i+h?(n.text(i),e.animate({right:r},"fast"),$("#ldp-herocarousel-lead").parent().addClass("click-disabled"),a.click(),s.addClass("hide")):(n.text(i-l),e.animate({right:0},"fast"),MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsPhotoGallery),s.removeClass("hide")))};MOVE_DATA.propertyDetails.photos&&MOVE_DATA.propertyDetails.photos.length&&MOVE.LDP.Photos.init(r,h,MOVE.LDP.PropertyDetails.dragPhotoEvent);var d=function(){var t=parseInt(n.html(),10)-1,e=isNaN(t);$("#ldp-fullscreen-gallery").modal({show:!0});var i={selectedPhotoIndex:t,showAds:!e,galleryContainer:$("#ldpPhotoGallery"),navContainer:$("#ldpPhotoGalleryNavigation"),thumbnailContainer:$("#photoCarousel","#ldp-fullscreen-gallery"),showPhotoCount:!e,noPhotos:e};MOVE.LDP.PhotoGallery.init(i)};$("body").on("click","#ldpHeroCarousel .owl-item.active:first",function(){$(this).children().hasClass("ldp-herocarousel-leadwrapper")||d()})};return t.DesktopHeroCarousel={init:h},t.DesktopHeroCarousel}(MOVE.LDP||{})},504:function(t,e){MOVE.LDP.OptimizationDesktop=function(t){var e=function(){};return t.OptimizationDesktop={init:e},t.OptimizationDesktop}(MOVE.LDP||{})},505:function(t,e,i){"use strict";var o=i(150);MOVE.LDP.NearbyHomes=function(t){var e,i,a,n=$(".listing-cta .nearby-save"),s=$(".listing-cta .nearby-unsave"),r=function(){a(),MOVE.LDP.Map.init("nearbyLDPMap",!1,!1),n.on("click",e),s.on("click",i)};a=function(){if(!$(".nearby-home-values").hasClass("hide")){MOVE.LDP.Map.init("nearbyHomeValuesMap",!1,!1);var t=$(".js-nearby-widget-tabs"),e=t.find(".js-nearby-home-values");e.hasClass("active")&&(e.removeClass("active"),t.find(".js-nearby-homes-for-sale").addClass("active"),$("#nearby-home-values").removeClass("active"),$("#nearby-homes-for-sale").addClass("active"))}},e=function(t){var e=this,i=$(this).parents(".js-tracking").first(),a={property_id:i.data("propertyid"),status:i.data("status"),listing_id:i.data("listingid")},n=function(t){$(e).hide(),$(e).parent().find(".nearby-unsave").show(),$(e).parent().find(".nearby-unsave").data("res-id",t.resources.id),$(e).removeAttr("disabled");var a=i.data().propertyId,n=i.data().status;a&&n&&o.a.addSavedPin({propId:a,propertyStatus:n}),h({propid:a,isSaved:!0}),GNAV.MYACCOUNT.getSavedResponse("my_properties")};MOVE.Common.saveListing(t,{listing:a,callBack:n})},i=function(t){t.stopPropagation();var e=this,i=$(this).parents(".js-tracking").first(),o=function(){$(e).hide(),$(e).parent().find(".nearby-save").show(),$(e).data("res-id",null),$(e).removeAttr("disabled");var t=i.data().propertyid;$(".map-property-pin[data-id="+t+"]").find(".pinIcon").removeClass("saved-pin").addClass("pin-dot"),h({propid:t,isSaved:!1}),GNAV.MYACCOUNT.getSavedResponse("my_properties")};return MOVE.Common.deleteListing(t,{id:$(e).data("res-id"),callBack:o}),t.stopPropagation(),!1};var l={"js-nearby-homes-for-sale":"mapDataForSale","js-nearby-recently-sold":"mapDataRecentlySold","js-nearby-home-values":"mapDataOffMarket","js-nearby-for-rent":"mapDataForRent","js-ldp-recently-sold-around":"mapDataRecentlySoldOptimization"},h=function(t){if(t.propid&&$(".js-nearby-widget-tabs").length&&$(".js-nearby-widget-tabs").children(".active").length){var e=$(".js-nearby-widget-tabs").children(".active").attr("class").replace(" active",""),i=l[e.trim()],o=MOVE_DATA.mapData[i];o&&o.results&&o.results.property&&o.results.property.items&&o.results.property.items[t.propid]&&(o.results.property.items[t.propid].isSaved=t.isSaved)}};return t.NearbyHomes={init:r},t.NearbyHomes}(MOVE.LDP||{})},506:function(t,e){MOVE.LDP.RightRail=function(t){var e=function(){$(window).width()>=996&&(o(),a())},i=function(){e(),$(window).on("resize orientationchange",e)},o=function(){MOVE.Common.stickyAd($("#ldp-sticky-ad2"),{wrapper:"#ldp-sticky-ad2-container",offsetTop:100})},a=function(){MOVE.Common.stickyAd($("#ldp-sticky-ad3"),{wrapper:"#ldp-sticky-ad3-container",offsetTop:115})};return t.RightRail={init:i},t.RightRail}(MOVE.LDP||{})},507:function(t,e){MOVE.EditorsPicks=function(t){var e=function(){var e=$("#editors-picks-widget");if(e.length>0){var i={},o=t.Helper.detectViewPort();if(window.gptAds&&window.gptAds.pageName){if(window.gptAds.pageName.match(/\/LDP\//)&&"medium"!==o&&"large"!==o)return;i.ad_unit=window.gptAds.pagePath+"/"+window.gptAds.device,i.is_ldp="ldp"===t.DOMHelper.detectPageType()}$.ajax({url:"/news_and_advice/editors_picks",data:i,dataType:"html",method:"GET",success:function(i){e.html(i),t.DOMHelper.unveilLoadImages("img",{},e)}})}};return t.EditorsPicks={init:e},t.EditorsPicks}(MOVE||{})},51:function(t,e){MOVE.Photos=function(){"use strict";var t,e,i=function(t,i){e=t.target,e.owlCarousel({items:1,loop:!0,margin:t.margin,startPosition:t.currentIndex,animateOut:"fadeOut",navSpeed:100,lazyLoad:!0,dots:!1,nav:!0,navText:["<div class='gallery-arrows arrow-left hidden-xs hidden-xxs' ><i class='ra ra-chevron-left'></i></div>","<div class='gallery-arrows arrow-right hidden-xs hidden-xxs' ><i class='ra ra-chevron-right'></i></div>"],navContainer:t.navigationContainer&&$(t.navigationContainer).length>0?t.navigationContainer:"",onChanged:function(t){if(t.namespace&&"position"===t.property.name){var e=t.relatedTarget.relative(t.item.index);i(t.item.count,e)}}})};return $(document).keydown(function(t){var e=$("#cmtPhotoGallery",t.target);0!==e.length&&(37===t.keyCode?e.trigger("prev.owl.carousel"):39===t.keyCode&&e.trigger("next.owl.carousel"))}),t=function(t){if(t){var e=t.find("img");e.hasClass("hide")&&e.removeClass("hide")}},MOVE.Photos={init:i,loadPhoto:t},MOVE.Photos}(MOVE)},54:function(t,e){MOVE.MortgageGraph=function(){"use strict";var t=function(){$(".home-mortage-plots").addClass("hide"),$(".js-mortgage-search-container").addClass("col-lg-8 col-md-8 col-sm-offset-2 text-center")},e=function(){var e=$.Deferred();return $.ajax({url:"/mrtg_handler/get_trends_data",success:function(i){!1===i.meta.success&&t(),e.resolve(i)},error:function(i){t(),e.reject(i)}}),e},i=function(t,e,i){return new Date(t,e-1,i,0,0,0,0).getTime()},o=function(){return{series:{lines:{show:!0,steps:!1}},legend:{show:!1},grid:{hoverable:!0,borderColor:"none",borderWidth:0,backgroundColor:"transparent",lineWidth:3,autoHighlight:!1},crosshair:{mode:null,color:"#8f8f8f",lineWidth:3},xaxis:{show:!1,mode:"time",timeformat:"%b %d",tickSize:[4,"day"],tickLength:0,color:"black",axisLabelUseCanvas:!0,axisLabelFontSizePixels:12,axisLabelFontFamily:"Verdana, Arial",axisLabelPadding:10},yaxis:{show:!1,color:"#e1e1e1",position:"right",tickDecimals:2,tickSize:.25,tickFormatter:function(t,e){return MOVE.FormatHelper.commaDelimit(t.toFixed(e.tickDecimals))+"%"},axisLabelUseCanvas:!0,axisLabelFontSizePixels:12,axisLabelFontFamily:"Verdana, Arial",axisLabelPadding:5}}},a=function(t){t=t||{},this.selector=t.selector||null,this.dataset=t.dataset||null,this.color=t.color||null,this.plotGraph(),this.updateRate(),this.updatePercentage(),$(this.selector).addClass("active")};a.prototype.getRateChange=function(){var t=this.dataset.length-1;return this.dataset[t][1]-this.dataset[t-1][1]},a.prototype.getRateChangeArrow=function(){var t=this.getRateChange();return t<0?"down":0===t?"flat":t>0?"up":void 0},a.prototype.getOverallPercent=function(){var t=this.dataset.length-1;return this.dataset[t][1].toFixed(2)+"%"},a.prototype.plotGraph=function(){$.plot(this.selector+" .mortgage-plot",[{data:this.dataset,color:this.color,lines:{show:!0}}],o())},a.prototype.updateRate=function(){$(this.selector+" .js-difference").html(Math.abs(this.getRateChange()).toFixed(2)),"down"===this.getRateChangeArrow()&&$(this.selector+" .js-difference").prepend("<span class='ra ra-arrow-down' aria-hidden='true'></span>"),"up"===this.getRateChangeArrow()&&$(this.selector+" .js-difference").prepend("<span class='ra ra-arrow-up' aria-hidden='true'></span>")},a.prototype.updatePercentage=function(){$(this.selector+" .js-percentage").html(this.getOverallPercent())};var n=function(t){var e,o={fixed30:[],fixed15:[],arm51:[],arm71:[]};_.each(t.rate_trends,function(t){e=i(t.Y,t.M,t.D),o.fixed30.push([e,t.R30]),o.fixed15.push([e,t.R15]),o.arm51.push([e,t.A51]),o.arm71.push([e,t.A71])}),new a({selector:"#mortgage-trends-30y",dataset:o.fixed30,color:"#dcb165"}),new a({selector:"#mortgage-trends-15y",dataset:o.fixed15,color:"#ed6a62"}),new a({selector:"#mortgage-trends-51a",dataset:o.arm51,color:"#4d73a3"}),new a({selector:"#mortgage-trends-71a",dataset:o.arm71,color:"#380b6b"})},s=function(t){var e,o=[];_.each(t.rate_trends,function(t){e=i(t.Y,t.M,t.D),o.push([e,t.R30])}),new a({selector:"#mortgage-rate-widget",dataset:o,color:"#ed6a62"})},r=function(){e().done(function(t){MOVE.Helper.isPageType("ldp")?s(t):n(t)})};return MOVE.MortgageGraph={init:r,getNativeDate:i,getRatesFuture:e},MOVE.MortgageGraph}(MOVE)},55:function(t,e){MOVE.ShareEmailModal=function(t){var e,i,o,a,n,s,r,l,h=function(){e=$("#js-trigger-fields"),i=$("#shareEmailModal"),o=$("#share_via_email"),a=$("#js-trigger-facebook"),n=$("#js-trigger-twitter"),s=$("#js-trigger-google-plus"),r=$("#js-trigger-linkedin"),l=$("#js-trigger-pinterest"),u(),d(),p(),c(),m(),y()},d=function(){a.on("click",function(){t.Medias.kruxPixel("KAVW8ly2",{type:"facebook"})}),n.on("click",function(){t.Medias.kruxPixel("KAVW8ly2",{type:"twitter"})}),s.on("click",function(){t.Medias.kruxPixel("KAVW8ly2",{type:"google+1"})}),r.on("click",function(){t.Medias.kruxPixel("KAVW8ly2",{type:"linkedin+1"})}),l.on("click",function(){t.Medias.kruxPixel("KAVW8ly2",{type:"pinterest"})})},c=function(){$(".js-mobile-share").click(function(){$("#mobileShareOptionsModal").modal("hide")}),i.on("shown.bs.modal",function(){$("body").addClass("modal-open")})},p=function(){i.on("hide.bs.modal",function(){$(".js-email-new-inputs").val(""),$(".js-email-new-div").remove(),e.is(":visible")||e.show()})},u=function(){if(t.LocalStorage.isAvailable){var e=localStorage.getItem(t.CONSTANTS.CACHED_USER_INPUT_STOREAGE_NAME);if(e){var i=JSON.parse(e);void 0===i.fullName&&""===i.fullName||o.find("#name").val(i.fullName),void 0===i.email&&""===i.email||o.find("#email").val(i.email)}}},m=function(){o.validate({debug:!0,rules:{send_to_email:{required:!0,multiEmails:!0,maxFourEmails:!0},name:{required:!0,pattern:/^[a-zA-Z.+-.']+\s+[a-zA-Z.+-. ']+$/},email:{email:!0,required:!0,pattern:/^.+@.+\..+$/}},messages:{send_to_email:{required:"Please enter your friend's email(s)",multiEmails:"One or more email address(es) is not valid",maxFourEmails:"Only 4 email addresses is allowed"},name:{required:"Please enter your full name",pattern:"Please enter valid full name"},email:{required:"Please enter your email",email:"Please enter a valid email",pattern:"Please enter a valid email"}},errorPlacement:function(t,e){t.insertAfter(e)}})},f=function(e,a){var n=void 0!==t.LDP&&void 0!==t.LDP.model&&t.LDP.model.getData()||{};"ok"===e?(t.Common.cacheInputs(o.find("#name"),o.find("#email")),i.modal("hide"),_satellite.track(a),n.status&&"for_rent"===n.status?v():g()):alert("Failed to send email. Please try again.")},g=function(){$("#shareEmailThankYou").length?(t.ModalHelper.removeSaveInThankYouModal(),$("#shareEmailThankYou").modal()):t.ModalHelper.fetchModal("#shareEmailThankYou",t.LDP.model.getData(),{})};$.validator.addMethod("multiEmails",function(t){var e=t.split(/[,]+/),i=!0;for(var o in e)i=i&&/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/.test($.trim(e[o]));return i},$.validator.messages.email),$.validator.addMethod("maxFourEmails",function(t){return t.split(/[;,]+/).length<=4},$.validator.messages.email);var v=function(){t.LDP.RentalLeadMovingModal.show("sf")},y=function(){$(document).on("click","#save-content-wrapper .ldp-save-not-logged-in",function(){$("#shareEmailThankYou").modal("hide")})};return t.ShareEmailModal={init:h,afterSubmit:f},t.ShareEmailModal}(MOVE||{})},56:function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"c",function(){return a}),i.d(e,"b",function(){return n});var o=/^(?! *$)[a-zA-Z.+ '-]+$/,a=/^[a-zA-Z.+-.']+\s+[a-zA-Z.+-. ']+$/,n=/^.+@.+\..+$/},65:function(t,e,i){"use strict";var o=i(49);MOVE.MORTGAGE.CrossSellThankyouModal=function(t){var e,i,a,n,s,r,l=!1,h=$.noop(),d=void 0,c=function(t){i=t.selector,e=$(i),t.after_submit&&(h=t.after_submit),d={listing_id:t.listing_id,email:t.email,phone:t.phone,first_name:t.first_name,last_name:t.last_name,street:t.street,city:t.city,state_code:t.state,zip_code:t.zip_code,property_type:t.property_type||"single_family",price:t.price,lcs_guid:t.lead_id,lead_id_token:null,mortgage_rate:3,monthly_payment:null,credit_score:"good"},D(),O(),p(),u(),f(),g(),v(),P("post-lead:cross_sell")},p=function(){e.modal()},u=function(){$(".mortgage-thankyou-modal-payment .payment").html(m(d.monthly_payment))},m=function(t){return"$"+t.toFixed(0).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")},f=function(){a=$(".thankyou-get-pre-approved"),n=$(".mortgage-thank-you-modal-get-pre-approved-cta"),s=$(".mortgage-thank-you-modal-credit-score-cta"),r=$(".mortgage-thank-you-modal-credit-score-cta .thankyou-submit")},g=function(){a.on("click",M),s.find("li").on("click",b),r.on("click",T)},v=function(){e.find('[data-dismiss="modal"]').on("click",y)},y=function(){s.hide(),n.show()},M=function(){n.slideUp("fast",function(){s.slideDown("fast",function(){w(),MOVE.DOMHelper.unveilLoadImages("img.js-secure-rights",{}),P("post-lead:cross_sell:credit_score")})})},b=function(t){d.credit_score=$(t.currentTarget).data("value"),s.find("li").removeClass("active"),s.find('li[data-value="'+d.credit_score+'"]').addClass("active")},x=function(){r.attr("disabled",!0),r.html("Contacting...")},w=function(){if(!l){var t=document.createElement("script");t.id="LeadiDscript_campaign",t.type="text/javascript",t.async=!0,t.src=document.location.protocol+"//d1tprjo2w7krrh.cloudfront.net/campaign/01836014-7527-fd48-9b7f-1a40a9705cfe.js",$("body").append(t),l=!0}},k=function(){window.LeadiD&&window.LeadiD.snap()},C=function(){d.lead_id_token=$("#leadid_token").val()},D=function(){$.ajax({type:"GET",url:"/mrtg_handler/get_trends_data",async:!1,data:{state_code:d.state_code,re_finance_rates:!1},success:function(t){t.meta.success&&t.rate_trends&&(d.mortgage_rate=_.last(t.rate_trends).R30)}})},O=function(){$.ajax({type:"GET",url:"/mrtg_handler/calculators/loan/calculate",async:!1,data:{price:d.price,down_payment:.2*d.price,rate:d.mortgage_rate/100,term:30,tax_rate:0,hoi:0,hoa:0,is_fees_included:!0,is_pmi_included:!0},success:function(t){t.meta.success&&t.mortgage&&(d.monthly_payment=t.mortgage.monthly_payment)}})},E=function(){d.last_name&&0!==d.last_name.length||(d.last_name="(not available)")},T=function(){E(),C(),x(),k(),$.ajax({type:"POST",url:"/mrtg_handler/cross_sell_leads",data:{loan_type:"Purchase",listing_id:d.listing_id,loan_price:d.price,loan_state:d.state_code,property_type:d.property_type,credit_score:d.credit_score,email:d.email,phone:d.phone,first_name:d.first_name,last_name:d.last_name,city:d.city,street:d.street,zip_code:d.zip_code,request_guid:d.lcs_guid,lead_id_token:d.lead_id_token,source:"RDC-Cross-Sell"},success:function(){e.modal("hide"),S(),h()},error:function(t,e){o.a.error(e)}})},P=function(t){MOVE_DATA.adobeDTM.modal={name:t},_satellite.track("modal:impression")},S=function(){MOVE_DATA.leadAdobeDTM={leadCreditScore:d.credit_score,leadPlacement:"post-lead",leadType:"rcm"},MOVE_DATA.adobeDTM.listingZip=d.zip_code,MOVE_DATA.adobeDTM.listingState=d.state_code,MOVE_DATA.adobeDTM.listingCity=d.city,_satellite.track("rcm:lead")};return t.CrossSellThankyouModal={init:c},t.CrossSellThankyouModal}(MOVE.MORTGAGE||{})},66:function(t,e){MOVE.MapMiniCard=function(){var t,e,i,o,a,n=$(".map-mini-card"),s={card:n,visible:!1,innerCard:n.find(".mini-card-inner-container")},r=MOVE.Helper.isPhone();t=function(){return MOVE.MapMiniCard.infoWindowCard};var l=function(t){void 0!==t&&(MOVE.MapMiniCard.infoWindowCard={card:t,visible:!1,innerCard:t.find(".mini-card-inner-container")})};e=function(t,e){var i;return e?(i=t.leftPosition,t.leftPosition<170?t.leftPosition+=60:t.leftPosition>=170&&t.leftPosition<230?t.leftPosition-=70:t.leftPosition>=230&&t.leftPosition<260?t.leftPosition-=90:t.leftPosition>=260&&t.leftPosition<330?t.leftPosition-=140:t.leftPosition-=340,i>=170&&i<330?t.topPosition<230?t.topPosition+=5:t.topPosition-=285:t.topPosition<300?t.topPosition-=25:t.topPosition-=265,t):r?(t.topPosition=0,t.leftPosition=0,t):(i=t.leftPosition,t.leftPosition<66?t.leftPosition+=50:t.leftPosition>=66&&t.leftPosition<120?t.leftPosition-=60:t.leftPosition>=120&&t.leftPosition<200?t.leftPosition-=80:t.leftPosition>=200&&t.leftPosition<225?t.leftPosition-=140:t.leftPosition-=225,i>=66&&i<225?t.topPosition<120?t.topPosition+=5:t.topPosition-=215:t.topPosition<68?t.topPosition-=30:t.topPosition-=70,t)},i=function(t,e){var i="";if("ldp"===MOVE.DOMHelper.detectPageType()){var o=$(".js-nearby-homes-for-sale").hasClass("active"),a=$(".js-nearby-recently-sold").hasClass("active"),n=$(".js-nearby-home-values").hasClass("active");void 0!==e&&e.hasClass("js-ldp-nearby-homevalues-mini-card")?(t.omTag="ldp:bottom:home-estimates:map:card",t.dataStatus="not_for_sale"):void 0!==e&&e.hasClass("js-ldp-recently-sold-around-mini-card")?(t.omTag="ldp:bottom:recently-sold-by-address:map:card",t.dataStatus="not_for_sale"):o?(t.omTag="ldp:bottom:nearby-homes:for_sale:card",t.dataStatus="for_sale"):a?(t.omTag="ldp:bottom:nearby-homes:recently_sold:card",t.dataStatus="recently_sold"):n&&(t.omTag="ldp:bottom:nearby-homes:not_for_sale:card",t.dataStatus="not_for_sale")}return t instanceof Array?_.each(t,function(t){i+=JST["templates/map_card_small"]({property:t})}):i=JST["templates/map_card_small"]({property:t}),i};var h=function(t){return MOVE.Helper.isPhone()?t:t.replace("xd-w225_h169_q80.jpg","xd-r1_w480_h480_q80.jpg")},d=function(){return"large"===MOVE.Helper.detectViewPort()?"coming-soon-lg":"coming-soon-sm"},c=function(t){return"for_sale"===t||"not_for_sale"===t?"mini-card-float-meta":""},p=function(t){return"for_rent"===t?"":"no-show"};return o=function(t){if("ldp"!==MOVE.DOMHelper.detectPageType()&&!MOVE.Helper.isPhone()){var e=new Image;e.src=t,e.onload=function(){e.naturalWidth<e.naturalHeight&&$(".mini-card-photo img").addClass("mini-card-streched-photo")}}},a=function(t){return MOVE.Helper.isPageType("ldp")?$("#homes-near-street").length?"ldp:homes-around-address:pin:card-"+t:"ldp:homes-near-address:pin:card-"+t:"srp-listMap:listing:pin:card:"+t},MOVE.MapMiniCard={miniCard:n,infoWindowCard:s,getInfoWindowCard:t,getMiniCardPhoto:h,getComingSoonPhoto:d,getMiniCardPriceClass:c,getMiniCardPriceTagClass:p,setMapPinStrechedImageClass:o,loadHtmlTemplate:i,setInfoCardPosition:e,getHomeValuesInfoCard:l,setOmTag:a},MOVE.MapMiniCard}()},666:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=(i(10),i(66)),a=(i.n(o),i(67)),n=(i.n(a),i(99)),s=(i.n(n),i(54)),r=(i.n(s),i(68)),l=(i.n(r),i(100),i(69)),h=(i.n(l),i(50)),d=(i.n(h),i(51)),c=(i.n(d),i(31)),p=(i.n(c),i(33)),u=(i.n(p),i(21)),m=(i.n(u),i(134)),f=(i.n(m),i(72)),g=(i.n(f),i(30)),v=(i.n(g),i(55)),y=(i.n(v),i(86)),_=(i.n(y),i(28)),M=(i(9),i(65),i(122)),b=(i.n(M),i(502)),x=(i.n(b),i(503)),w=(i.n(x),i(504)),k=(i.n(w),i(505),i(506)),C=(i.n(k),i(507)),D=(i.n(C),i(88)),O=(i.n(D),i(326)),E=(i.n(O),i(329)),T=(i.n(E),i(328)),P=(i.n(T),i(327)),S=(i.n(P),i(116)),A=(i.n(S),i(330)),L=(i.n(A),i(338)),V=(i.n(L),i(334)),$=(i.n(V),i(333)),I=(i.n($),i(117),i(102),i(335)),H=(i.n(I),i(336)),N=(i.n(H),i(82),i(83)),z=(i.n(N),i(337)),F=(i.n(z),i(118),i(339)),R=(i.n(F),i(340)),j=(i.n(R),i(341)),B=(i.n(j),i(342)),G=(i.n(B),i(343)),W=(i.n(G),i(344)),Y=(i.n(W),i(332)),U=(i.n(Y),i(345)),X=(i.n(U),i(346)),q=(i.n(X),i(354)),J=(i.n(q),i(119)),Z=(i.n(J),i(89)),K=(i.n(Z),i(347)),Q=(i.n(K),i(348)),tt=(i.n(Q),i(349)),et=(i.n(tt),i(350)),it=(i.n(et),i(351)),ot=(i.n(it),i(325)),at=(i.n(ot),i(352)),nt=(i.n(at),i(353)),st=(i.n(nt),i(331)),rt=(i.n(st),i(84)),lt=(i.n(rt),i(120)),ht=(i.n(lt),i(121)),dt=(i.n(ht),i(355)),ct=(i.n(dt),i(356));i.n(ct);i.i(_.a)("templates/map_card_small"),i.i(_.a)("templates/amenity_map_card"),i.i(_.a)("templates/amenity_ads_map_card"),i.i(_.a)("templates/mortgage_rate_header_popover"),i.i(_.a)("templates/mortgage_rate_item"),i.i(_.a)("templates/mortgage_rate_item_variant"),i.i(_.a)("local/templates/communityTile"),i.i(_.a)("local/templates/community_photo_gallery"),i.i(_.a)("local/templates/community_small_photo_gallery"),i.i(_.a)("local/templates/community_widget"),i.i(_.a)("templates/saving_over_limit_warning"),i.i(_.a)("templates/modal_error"),i.i(_.a)("templates/browse_modules_card"),i.i(_.a)("templates/homes_near_street")},67:function(t,e){!function(t){var e,i;e=function(t){MOVE.MapMiniCard.getHomeValuesInfoCard(t),!1!==MOVE.MapMiniCard.infoWindowCard.visible&&(MOVE.MapMiniCard.infoWindowCard.card.addClass("hide"),MOVE.MapMiniCard.infoWindowCard.innerCard.html(""),MOVE.MapMiniCard.infoWindowCard.visible=!1,$(".map-mini-card-wrap").addClass("no-show"))},i=function(t,e,i,o,a,n,s){void 0!==n&&n.hasClass("js-ldp-recently-sold-around-mini-card")&&n.parents("#homes-near-street").length&&(t instanceof Array?(t.dataStreetHome=!0,_.each(t,function(t){t.dataStreetHome=!0})):t.dataStreetHome=!0);var r=MOVE.MapMiniCard.setInfoCardPosition({leftPosition:parseInt(e,10),topPosition:parseInt(i,10)},o),l=r.leftPosition.toString()+"px",h=r.topPosition.toString()+"px",d=document.createElement("div");if($(d).css({left:l,top:h}),n&&(n.hasClass("js-ldp-nearby-homevalues-mini-card")||n.hasClass("js-ldp-recently-sold-around-mini-card"))&&MOVE.MapMiniCard.getHomeValuesInfoCard(n),!0===MOVE.MapMiniCard.infoWindowCard.visible&&MOVE.MapMiniCard.infoWindowCard.card.css("left")===$(d).css("left")&&MOVE.MapMiniCard.infoWindowCard.card.css("top")===$(d).css("top"))MOVE.MapMiniCard.Helper.closeInfoWindowCard(),"direct"===a&&MOVE.SRP.MapView.map.properties.select({type:"property"}),s&&s();else{var c=MOVE.MapMiniCard.loadHtmlTemplate(t,n);MOVE.MapMiniCard.infoWindowCard.innerCard.html(c),t.dataStreetHome&&MOVE.MapMiniCard.infoWindowCard.card.addClass("pdp-recently-sold-around-mini-card"),MOVE.MapMiniCard.infoWindowCard.card.removeClass("hide"),$(".map-mini-card-wrap").removeClass("no-show"),MOVE.MapMiniCard.infoWindowCard.visible=!0,MOVE.MapMiniCard.infoWindowCard.card.css({left:l,top:h}),MOVE.MapMiniCard.infoWindowCard.innerCard.find(".mini-card-item").click(function(){"ldp"!=MOVE_DATA.pageType&&MOVE.UserActivity.updateSrpListingClicked({turboStatus:"organic",dataSource:"map-pin"});var t=$(this).data("ldpurl");window.location=t})}MOVE.MapMiniCard.Tracking.init(t)},t.Helper={closeInfoWindowCard:e,openInfoWindowCard:i}}(MOVE.MapMiniCard||{})},68:function(t,e){MOVE.MovingEstimateModal=function(t){var e,i,o,a,n,s,r,l=function(t){d(t),c(t),r.click(p)},h=function(){e=$("#moving-calculator-modal"),i=e.find(".js-moving-estimated-cost"),o=e.find(".js-moving-distance"),a=e.find(".js-moving-weight"),n=e.find(".js-moving-from"),s=e.find(".js-moving-to"),r=e.find("#divDisclaimer")},d=function(t){h(),i.html(t.low_estimate+" - "+t.high_estimate),o.html(t.distance_display+" miles"),a.html(t.weight_range_low_display+" - "+t.weight_range_high_display+" lbs"),n.html(t.from_zip+" - "+t.from_city+", "+t.from_state),s.html(t.to_zip+" - "+t.to_city+", "+t.to_state)},c=function(e){t.Medias.manualLoadAds(window.gptAds.gptadslotsMCCModal,"#moving-calculator-modal .ads"),t.MovingQuoteModal.init(e)},p=function(t){$("#divMoreDisclaimer").removeClass("hide"),$("#divDisclaimer").addClass("hide"),t.preventDefault()},u=function(){e.modal()},m=function(e){$("#moving-calculator-modal").length?(l(e),u()):t.ModalHelper.fetchModal("#moving-calculator-modal",{},{calculation:e})};return t.MovingEstimateModal={init:l,show:m},t.MovingEstimateModal}(MOVE||{})},69:function(t,e){MOVE.MovingQuoteModal=function(t){var e,i,o,a,n,s,r,l,h,d=t.DOMHelper.detectPageType(),c=function(e){p(e),u(),y(),MOVE_DATA.adobeDTM.modal={name:"movingCostEstimate"},t.Common.openModalMovingLeadOmniture()},p=function(t){e=t,o=$("#moving-calculator-modal"),a=$("#moving-calc-submit-btn"),n=o.find(".js-phone"),s=o.find(".js-email"),r=o.find(".js-first-name"),l=o.find(".js-last-name"),h=$("#datepicker1")},u=function(){var a=o.find("form");n.on("keypress",t.DOMHelper.validatePhone),i=a.validate({rules:{"first-name":{required:!0,pattern:/^[a-zA-Z.+-. ']+$/},"last-name":{required:!0,pattern:/^[a-zA-Z.+-. ']+$/},email:{required:!0,pattern:/^.+@.+\..+$/},phone:{required:!0,phoneUS:!0},"date-picker":{required:!0}},messages:{"first-name":{required:"Please enter your first name",pattern:"Please enter a valid first name"},"last-name":{required:"Please enter your last name",pattern:"Please enter a valid last name"},email:{required:"Please enter your email",pattern:"Please enter a valid email address"},phone:{required:"Please enter your phone number",phoneUS:"Please enter a valid phone number"},"date-picker":{required:"Please enter a date"}},errorPlacement:function(e,i){t.DOMHelper.movingQuoteErrorPlacement(e,i)},submitHandler:function(){var o=t.DateFormat.getFormattedDate(h.datepicker("getDate")),a={from_zip:e.from_zip,to_zip:e.to_zip,last_name:l.val(),first_name:r.val(),packing_option:e.packing_option,email:s.val(),phone_home:n.val(),move_date:o,move_size:e.move_weight_lbs,lead_source:m(d)};g(!1),$.ajax({url:"/moving/lead",method:"POST",data:a,dataType:"JSON",success:function(e){if(g(!0),e.meta.success)return f(),v();_.each(e.meta.errors,function(e){var o={},a=t.Helper.mapMovingAPIErrorCodeToName(e.code);if("unsupported"===a)return f(),v();o[a]=e.message,i.showErrors(o)})}})}})},m=function(t){var e="sel";return"recently_sold"===MOVE_DATA.adobeDTM.propertyStatus&&"recently_sold"===MOVE_DATA.adobeDTM.propertyStatusSub?e="rsld":"new_community"===MOVE_DATA.adobeDTM.propertyStatus&&null===MOVE_DATA.adobeDTM.propertyStatusSub?e="nh":"for_rent"===MOVE_DATA.adobeDTM.propertyStatus&&(e="rnt"),"rdc-CostCalc-"+e+"-"+t},f=function(){t.Helper.updateOmnitureLeadJson({leadType:"moving",leadPlacement:"srp"===d?"srp":"ldp:rr"}),t.Common.successMovingLeadOmniture()},g=function(t){a.attr("disabled",!t)},v=function(){o.modal("hide");var t=$("#thank-you-moving-quote");t.find(".close").on("click",function(){t.addClass("hide")}),t.removeClass("hide").show(),t.fadeTo(1e4,100).fadeOut("slow")},y=function(){var t=new Date;t.setDate(t.getDate()+14),h.datepicker({orientation:"auto top",container:"#datepicker1",autoclose:!0,startDate:"+1d",endDate:"+6m"}),h.datepicker("setDate",t),h.datepicker("update")};return t.MovingQuoteModal={init:c,showThankyou:v,leadSource:m},t.MovingQuoteModal}(MOVE||{})},72:function(t,e){!function(t){"use strict";var e=t(window),i=function(t,e,i){var o=0;return function(){var a;if(a=new Date,i-(a-o)<=0)return o=a,t.apply(e,arguments)}},o=0,a=function(t){var e=(o++).toString();return function(){return this.cache[e]||(this.cache[e]=t.apply(this)),this.cache[e]}},n=function(){function o(o,a){this.$el=o,this.$el.css({width:this.$el.width()}),this.$wrapper=a.wrapper,"static"===this.$wrapper.css("position")&&this.$wrapper.css("position","relative"),this.sentinel=t("<div></div>").css({position:a.ignore?"absolute":"relative",top:0,height:0}),this.$el.before(this.sentinel),this.offsetTop=a.offsetTop||0,this.offsetBottom=a.offsetBottom||0,this.position=a.position||"top",this.ignore=a.ignore,this.ignore&&this.$el.css({position:"absolute",top:0}),this.handler=i("bottom"==this.position?this.onScrollBottom:this.onScrollTop,this,a.throttle||10),e.on("scroll",this.handler),e.on("resize",this.handler),this.handler()}return t.extend(o.prototype,{state:"top",same:!1,onScrollTop:function(){if(this.cache={},!this.ignore&&(this.same||"top"===this.state&&this.isSameHeight()))return void(this.same=!0);var t,e=this.getScrollTop()+this.offsetTop;t=e<this.getSentinelTop()?"top":e+this.getOuterHeight()>this.getSentinelBottom()?"bottom":"fixed",this.state===t&&"fixed"===t||this.transferTo(t)},onScrollBottom:function(){if(this.cache={},!this.ignore&&(this.same||"top"===this.state&&this.isSameHeight()))return void(this.same=!0);var t,i;i=this.getScrollTop()+e.height(),t=i>this.getSentinelBottom()?"bottom":i-this.getOuterHeight()<this.getSentinelTop()?"top":"fixed",this.state===t&&"fixed"===t||this.transferTo(t)},transferTo:function(t){this.state=t;var e;e="top"===this.state?{position:this.ignore?"absolute":"relative",top:0,bottom:""}:"bottom"===this.state?{position:"absolute",top:this.getWrapperHeight()-this.getOuterHeight(),bottom:""}:"bottom"===this.position?{position:"fixed",top:"",bottom:this.offsetBottom}:{position:"fixed",top:this.offsetTop,bottom:""},this.$el.css(e)},isSameHeight:function(){return this.getSentinelBottom()-this.getBottom()-this.offsetBottom<50},getScrollTop:a(function(){return e.scrollTop()}),getWrapperHeight:a(function(){return this.$wrapper.outerHeight()}),getOuterHeight:a(function(){return this.$el.outerHeight(!0)+this.offsetBottom}),getSentinelTop:a(function(){return this.sentinel.offset().top}),getSentinelBottom:a(function(){return this.$wrapper.offset().top+this.getWrapperHeight()+parseInt(this.$wrapper.css("margin-top"),10)}),getBottom:a(function(){return this.$el.offset().top+this.getOuterHeight()}),destroy:function(){this.$el&&(this.transferTo("top"),this.$el=this.$wrapper=null,e.off("scroll",this.handler),e.off("resize",this.handler))}}),o}();t.fn.scrollChaser=function(e){e||(e={}),e.wrapper?e.wrapper instanceof t||(e.wrapper=t(e.wrapper)):e.wrapper=t(document.body),this.scrollChaser=new n(this,e);var i=this,o=this.remove;return this.remove=function(){i.scrollChaser.destroy(),o.apply(i,arguments)},this},t.fn.outerHeight||(t.fn.outerHeight=function(t){var e=this.height();return t||(e-=parseInt(this.css("margin-bottom"),10),e-=parseInt(this.css("margin-top"),10)),e})}(window.jQuery||window.Zepto)},77:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var o=i(8),a=function(t){return n(t)?t:r(s(),t)},n=function(t){return t&&/^http/i.test(t)},s=function(){return o.a.getData("assetHost")||""},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return l(t)+"/"+h(e)},l=function(t){var e=h(t);return e&&!n(e)?"//"+e:e},h=function(t){return t.replace(/^\/*/,"").replace(/\/*$/,"")}},82:function(t,e,i){"use strict";var o=i(56),a=function(t){return"for_rent"===t?o.c:o.a};MOVE.LDP.LeadForm=function(t){var e,i,n,s,r,l,h,d=$("#leadid_token"),c=$("#modal-container"),p=!1,u=function(t,i,o){e=i||{};var a=$("#"+t);s=o,0!==a.length&&(MOVE.Common.getCachedInputs(a),n={"Free agent analysis":{message:"I would like to be contacted with regards to a FREE agent analysis of my home's value",submitText:"Request a FREE Analysis"},"Looking to Sell":{message:"I would like to speak to an agent about selling a home",submitText:"Request Service"},"How is the market?":{message:"I would like a FREE home value report with recent comparable sales",submitText:"Request Report"},"Home Improvement ROI":{message:"I would like to receive advice from a local real estate professional about the typical after-sale return on investment on home improvement projects in my area",submitText:"Request Advice"},"Property Tax":{message:"I would like to be contacted with regards to the assessed value of my home for property tax",submitText:"Request a FREE Analysis"},"Looking to Buy":{message:"I would like to speak to an agent about buying a home",submitText:"Request Service"}},a.length&&(e=(MOVE.LDP.model||MOVE.SELL.model).getData()||{},m()&&(e.remnant=l,MOVE.LocalStorage.isAvailable&&localStorage.setItem("remnant","")),a.find(".phone").on("keypress",MOVE.DOMHelper.validatePhone),a.find(".preApproved").change(b),a.find(".js-veterans-checkbox").change(x),a.find(".js-home-owner-option input:radio").change(h),r=a.find(".seller-enabled-lead-form"),r.find(".js-agent-photo").click(y),r.find(".js-agent-name").click(y),a.find("div.bootstrap-select").on("click",function(){f($(this))}),M(),y(),w(a),D(a),MOVE.LDP.SellerLead.onLoadCalls(a)),a.length&&d.length&&(a.on("mouseenter",g),MOVE.Helper.isMobileDevice()&&a.find("input.preApproved").length&&(c.on("shown.bs.modal",g),$('a[data-target="#ldpStickyBottomLeadModal"], a[data-target="#ldpBottomLeadModal"]').on("click",g),"full_bleed_secondary_request_more_details"==a.attr("id")&&v(a))))},m=function(){return!!MOVE.LocalStorage.isAvailable&&(void 0!==(l=localStorage.getItem("remnant"))&&""!==l&&null!==l)};h=function(){var t=$(this).parents(".leadForm"),e=t.find(".js-sell-date");"not-home-owner"===$(this).val()?(e.closest("div"),e.prop("disabled",!0),e.selectpicker("refresh"),f(e)):(e.prop("disabled",!1),e.selectpicker("refresh"))};var f=function(t){var e=t.parent();t.removeClass("error-border"),e.find("select").removeClass("error"),e.find("#leads_form_data_sell_by_date-error").remove(),$("#leads_form_data_sell_by_date-error").addClass("hide")},g=function(){if(!p){var t=document.createElement("script");t.id="LeadiDscript_campaign",t.type="text/javascript",t.async=!0,t.src=document.location.protocol+"//d1tprjo2w7krrh.cloudfront.net/campaign/01836014-7527-fd48-9b7f-1a40a9705cfe.js",$("body").append(t),p=!0}},v=function(t){$(window).scroll(function(){p||function(t){var e=$(window).scrollTop(),i=e+$(window).height(),o=$(t).offset().top;return o<=i&&o>=e}(t)&&g()})},y=function(){$(".seller-enabled-lead-form").find(".popover").addClass("hide"),$(this).closest(".seller-enabled-lead-form").find(".popover").removeClass("hide")},M=function(){$(document).click(function(t){void 0===t.target||!t.target.className.has||t.target.className.has("js-agent-photo")||t.target.className.has("js-agent-name")||$(".seller-enabled-lead-form").find(".popover").addClass("hide")})},b=function(){var t=$(this).parents(".leadForm");t.find(".preApproved").is(":checked")?(t.find(".js-lead-lender-items").show(500),t.find(".js-veterans-checkbox").is(":checked")&&(t.find("#constent-lead-veterans").show(),t.find("#content-lead-securerights").hide())):(t.find(".js-lead-lender-items").hide(500),t.find("#constent-lead-veterans").hide())},x=function(){var t=$(this).parents(".leadForm");t.find(".js-veterans-checkbox").is(":checked")?(t.find("#content-lead-securerights").hide(),t.find("#constent-lead-veterans").show(),MOVE.Medias.kruxPixel("K1WZo6o3",{})):(t.find("#content-lead-securerights").show(),t.find("#constent-lead-veterans").hide())},w=function(t){t.find(".lead-agent-analysis").on("change",function(){var e=$(this).find("option:selected").val(),i=n[e];if(void 0!==i){var o=t.find(".message");o.val(i.message),o.attr("origin_val",i.message),t.find(".submit").val(i.submitText)}})},k=function(t){if("not_for_sale"===MOVE_DATA.adobeDTM.propertyStatus)MOVE.LDP.SellerLead.sellerDirectCallOnSubmit(t);else{var e=t.find(".submit").attr("data-omtag");MOVE_DATA.is_building?(MOVE_DATA.leadAdobeDTM.leadPlacement=MOVE_DATA.leadPlacement,_satellite.track("renovate:lead")):e&&_satellite.track(e)}},C=function(t){var e=t.find("input.error");e.length>0&&(e.next("label.error").remove(),e.removeClass("error"))},D=function(t){var n=t.find("form"),r=t.find(".fullName"),l=t.find(".email"),h=t.find(".phone"),p=!1;C(n),n.validate({debug:!0,groups:{buyerSeller:"leads_form_data[buyer] leads_form_data[seller]"},onkeyup:!1,onfocusout:function(t){MOVE.LEAD.Common.checkLeadToken(t,d)},rules:{"leads_form_data[name]":{required:!0,pattern:a(e.status)},"leads_form_data[email]":{required:!0,email:!0,pattern:o.b},"leads_form_data[phone]":{required:E(),phoneUS:!0},"leads_form_data[move_in_date]":{required:e.is_cobroke||"for_rent"===e.status},"leads_form_data[sell_by_date]":{required:"not_for_sale"===e.property_type},"leads_form_data[home_owner]":{required:"not_for_sale"===e.property_type}},messages:{"leads_form_data[name]":"Please enter your full name","leads_form_data[email]":{required:"Please enter your email",email:"Please enter a valid email",pattern:"Please enter a valid email address"},"leads_form_data[phone]":{required:"Please enter your phone number",phoneUS:"Please enter a valid phone number"},"leads_form_data[move_in_date]":{required:"Please enter move in date"},"leads_form_data[sell_by_date]":{required:"Please select when you plan on selling"},"leads_form_data[home_owner]":{required:"Please select if you are the homeowner"}},errorPlacement:function(t,e){e.hasClass("buyer-seller")?t.insertAfter(e.closest("div").find("span")):e.parent(".input-group").hasClass("date")?t.insertAfter(e.parent(".input-group")):e.hasClass("selectpicker")?t.insertAfter(e.parent().find("div.bootstrap-select").addClass("error-border")):e.parent().hasClass("radio-inline")?t.insertAfter(e.closest("div").find(".radio-inline:last")):t.insertAfter(e)},submitHandler:function(o){var a,n=$(o).find('input[type="submit"]'),d=n.val();$(o).find(".preApproved").is(":checked")&&(window.LeadiD&&window.LeadiD.snap(),a=$(o).find(".credit-selectbox").val(),MOVE.Medias.kruxPixel("JuefmLiB",{CreditScore:a})),n.length&&MOVE.LEAD.Common.disableForm(n),$.ajax({data:P(t,o),url:"/leads",type:"POST",success:function(n){MOVE.Common.cacheInputs(r,l,h),s&&s();var d=JSON.parse(n.data),u=t.find(".js-veterans-checkbox").is(":checked"),m=u?"#leadSimpleThankYouVeterans":"#leadSimpleThankYouShared",f=t.find(".js-lenderCoMarketing").length>0,g=_.partial(O,m,u,a,d);MOVE.Common.getCachedInputs($("#primary")),MOVE.Common.getCachedInputs($("#secondary")),MOVE.Common.getCachedInputs($("#photo_gallery_request_more_details"));try{if(d.meta.success){H(d.lead.id,d.lead_value,t),k(t),MOVE.LEAD.Common.dismissModalLeadForm(t);var v="";if("for_sale"===e.status&&void 0!==d.mal_leads_form)MOVE.LEAD.MalLeadThankYouModal.removeMalLead(),c.append(d.mal_leads_form),MOVE.LEAD.MalLeadThankYouModal.init("malLeadThankYou",u,a,e,"ldp"),MOVE.CONSTANTS.IS_IPAD&&(v="modal-scroll-fix"),$("#malLeadThankYou").on("shown.bs.modal",function(){$("body").addClass("modal-open "+v)}),$("#malLeadThankYou").on("hidden.bs.modal",function(){$("body").removeClass("modal-scroll-fix")}),$("#malLeadThankYou").modal();else if("for_rent"===e.status)d.lead.apt_list_recommendations&&d.lead.apt_list_recommendations.recommendations?(c.append(d.rental_form),MOVE.LDP.AptlistRecommendationsModal.show(d.lead.apt_list_recommendations)):($("#rental-lead-moving-modal").length||c.append(d.rental_form),i(o)),MOVE.CONSTANTS.IS_IPAD&&(v="modal-scroll-fix"),$("#aptlist-recommendations-modal").on("shown.bs.modal",function(){$("body").addClass("modal-open "+v)}),$("#aptlist-recommendations-modal").on("hidden.bs.modal",function(){$("body").removeClass("modal-scroll-fix")}),$("#aptlist-recommendations-modal").modal();else{if(!d.cross_sell_modal||p||f)g();else{c.append(d.cross_sell_modal);var y=d.meta.params.lead.lead_data;MOVE.MORTGAGE.CrossSellThankyouModal.init({selector:"#mortgageThankYouShared",after_submit:function(){p=!0},lead_id:d.lead.id,email:y.email,phone:y.phone,first_name:y.first_name,last_name:y.last_name,listing_id:e.listing_id,property_type:e.type_display,price:e.price,street:e.address,city:e.city,state:e.state_code,zip_code:e.postal_code})}e.is_cobroke?MOVE.Medias.kruxPixel("JueQMtaI",{}):(e.is_showcase||"new_community"===e.property_type||"new_plan"===e.property_type)&&MOVE.Medias.kruxPixel("JueQgeAR",{})}}else MOVE.Common.addNewRelicLog("lcsFailure",MOVE.Common.leadErrorMsg(d)),MOVE.LEAD.Common.dismissModalLeadForm(t),g()}catch(e){MOVE.Common.addNewRelicLog("lcsError",$.extend({},MOVE.Common.leadErrorMsg(d),{exception_msg:e.message})),MOVE.LEAD.Common.dismissModalLeadForm(t),g()}},complete:function(){t.data("to",""),t.attr("data-inlineCTA",null),n.length&&MOVE.LEAD.Common.enableForm(n,d)}})}}).settings.ignore=":not(select:hidden, input:visible, textarea:visible)"},O=function(t,e,i,o){$(t).length||c.append(o.thankyou_modal),MOVE.LDP.LeadSimpleThankyouModal.show(t,e,i)},E=function(){return MOVE.DataStore.getData("leadFormPhoneIsRequired")};$.validator.addMethod("buyer-seller",function(){return $(".buyer-seller:checked").length>0},"Please select at least one"),i=function(t){var e=$("#header-cta").find(".header-cta-lead>a"),i=e.attr("clicked"),o="true"===i?"top":$(t).find(".submit").attr("data-position");e.removeAttr("clicked"),MOVE.LDP.RentalLeadMovingModal.show(o)};var T=function(t,i,o){return o?"secondary":t?"business_card":"not_for_sale"===e.property_type?MOVE.LDP.SellerLead.formName()||i.id:e.is_building?"local":i.id},P=function(t,i){var o=$(i),a=o.serialize(),n=t.data("to"),s=o.find(".message"),r=o.find(".preApproved").is(":checked"),l=t.attr("data-inlineCTA"),h=T(n,i,l),c=MOVE.LEAD.Common.isSellerLead(o,e),p=e.flags||{},u={listing_id:e.listing_id,property_id:e.property_id||e.id,status:e.status||"not_for_sale"===e.property_type&&"not_for_sale",form_name:h,page_name:A(h),form_variant:"local"===h?"building_page":S(n,i.name,l),modified:s.attr("origin_val")!==s.val(),referral:"",target:MOVE.LEAD.Common.getTarget(n,c,o),rcm_lead_id:r?d.val():"",recent_searches:JSON.stringify(MOVE.UserActivity.getRecentSearches()),recent_views:JSON.stringify(MOVE.UserActivity.getRecentViews()),agents:L(i),broker:MOVE.LDP.SellerLead.brokerInfo(o),postal:e.postal_code,ab_ldp_mal:MOVE.DataStore.getData("ab_ldp_mal"),sqft:e.sqft,lot_size:e.lot_size,year_built:e.year_built,user_id:MOVE.DataStore.getData("memberId"),subject:!0===e.is_building?"Location Lead for":"",is_building:e.is_building,source_id:!0===p.is_aptlist?e.source_id:""};return void 0!==e.remnant&&(a+="&"+$.param({"leads_form_data[featured_ref]":e.remnant})),a+="&"+$.param(u)},S=function(t,e,i){return i?"request_more_details":t||"open_house"===e?"":e},A=function(t){return"seller_summary"===t?t:MOVE_DATA.is_building?"ldp":MOVE_DATA.adobeDTM.pageType},L=function(t){var e,i=[];return $(t).find(".seller-enabled-lead-form").each(function(){e={advertiser_id:$(this).data("advertiserid"),type:$(this).data("agenttype"),selection_type:$(this).find(".js-next-gen-agent, .js-seller-agent").is(":checked")?"consumer_selected":"not_selected"},i.push(e)}),i.length>0?JSON.stringify(i):""},V=function(t,e){var i=e.prop("checked")?"military":"rcm";return{leadCreditScore:t.find(".credit-selectbox").val(),leadAdditions:i}},I=function(t){var e={},i=t.find("form").attr("id");return"primary"===i&&$("#primary_lead_preApproved").prop("checked")?e=V($("#primary"),$("#primary_lead_isMilitary")):"secondary"===i&&t.find("#secondary_lead_preApproved").prop("checked")?e=V(t.find("#secondary"),t.find("#secondary_lead_isMilitary")):"open_house"===i&&$("#request_showing_lead_preApproved").prop("checked")&&(e=V($("#open_house"),$("#request_showing_lead_isMilitary"))),e},H=function(t,i,o){var a;if("not_for_sale"===e.property_type)a=MOVE.LDP.SellerLead.omnitureLeadJson(t,o);else{var n=o.find("input[name='leads_form_data[move_in_date]']").val()||"",s=""!==n?"move":"",r="",l=I(o);s=l.leadAdditions||s,r=l.leadCreditScore||r,$("#primary_lead_register").prop("checked")&&(s=""===s?"marketing":s+",marketing"),a={leadGuid:t,moveInDate:n,leadAdditions:s,leadCreditScore:r,actlv:i,adjv:i}}MOVE.Helper.updateOmnitureLeadJson(a)};return t.LeadForm={init:u,_TEST_getTarget:MOVE.LEAD.Common.getTarget,_TEST_getFormVariant:S,_TEST_getPageName:A},t.LeadForm}(MOVE.LDP||{})},83:function(t,e){MOVE.LDP.LeadSimpleThankyouModal=function(t){var e,i,o,a,n,s=function(t,e,i){n=t,r(),l(),"poor"===i&&e&&$("#leadSimpleVeteranApproval").addClass("hide")},r=function(){e=$(n),i=e.find(".thankyou-save"),o=e.find(".thankyou-done"),a=MOVE.DataStore.getData("memberId")},l=function(){void 0!==a&&MOVE.FormatHelper.isEmpty($(".removeFromSaved").data("res-id"))?(i.show(),o.hide()):(o.show(),i.hide())},h=function(){var t="";MOVE.CONSTANTS.IS_IPAD&&(t="modal-scroll-fix"),e.on("shown.bs.modal",function(){$("body").addClass("modal-open "+t)}),e.on("hidden.bs.modal",function(){$("body").removeClass("modal-scroll-fix")}),e.modal()},d=function(t,e,i){$(t).length?(s(t,e,i),h()):MOVE.ModalHelper.fetchModal(t,MOVE.LDP.model.getData(),{isVeteran:e,creditScore:i})};return t.LeadSimpleThankyouModal={init:s,show:d},t.LeadSimpleThankyouModal}(MOVE.LDP||{})},84:function(t,e){MOVE.LDP.SellerLead=function(t){var e,i=function(){return $("#ldpBottomLeadModal").is(":visible")?e:null},o=function(t){t.find(".seller-enabled-lead-form .js-seller-agent").on("click",function(){var t=$(this);t.is(":checked")?t.attr("data-omtag","not for sale: lead form: position "+t.attr("data-selPosition")+": check"):t.attr("data-omtag","not for sale: lead form: position "+t.attr("data-selPosition")+": uncheck")}),t.find(".seller-enabled-lead-form .js-agent-name, .seller-enabled-lead-form .js-agent-photo").on("click",function(){_satellite.track("miniProfileImp")}),t.find(".seller-enabled-lead-form .agent-card-popover-listing-data a.btn").on("click",function(){_satellite.track("miniProfileFullDets")})},a=function(){var t=$("#gallery_request_more_details");$('a[data-target="#ldpBottomLeadModal"]').on("click",function(){"off_market"!==MOVE_DATA.adobeDTM.propertyStatusSub&&"recently_sold"!==MOVE_DATA.adobeDTM.propertyStatusSub||_satellite.track("homes:modal:rmd"),s(t),e=$(this).data("lead-position"),n()})},n=function(){MOVE.Helper.updateOmnitureModalLeadJson({agentDefaultSelection:"unchecked"})},s=function(t){var e=t.find("form");e.validate().resetForm(),e.find(".error").removeClass("error");var i=t.find("div.bootstrap-select");i.removeClass("error-border");var o=i.parent();o.find("select").removeClass("error"),o.find("#leads_form_data_sell_by_date-error").remove()},r=function(t){var e=$(t.find("form")).attr("id"),o="";if("seller_summary"===e)o="homes:rmd:top";else{var a={primary:"rmd:top",secondary:"rmd:bottom"};o+="homes:",o+=null!==i()?"rmd:modal":a[e]}_satellite.track(o)},l=function(t,e){var i=e.find(".js-seller-agent:checked").length,o=e.find(".js-seller-agent:checked").closest(".seller-enabled-lead-form"),a={leadGuid:t,selectionsCt:i,listing_advertiser_ids:d(o,"data-advertiserID"),selAgentPosition:d(o,"data-selPosition"),roleType:MOVE_DATA.adobeDTM.roleType,paidType:MOVE_DATA.adobeDTM.roleType.length?"paid":"courtesy"};return a=$.extend(a,h(e))},h=function(t){var e=t.find(".js-sell-date"),i=t.find(".js-home-owner-option input:radio:checked"),o={};if(7===e.find("option").length||i.length>0)if(7===e.find("option").length)o.lookingToSell=e.val(),o.homeOwner="I am not the Homeowner"!==e.val();else{var a="home-owner"===i.val();o.lookingToSell=a?e.val():"",o.homeOwner=a}else o.lookingToSell=e.val(),o.homeOwner="unknown";return o},d=function(t,e){return t.map(function(){return $(this).attr(e)}).get().join()},c=function(t){var e=t.find(".lead-form-broker-info");return e.length?JSON.stringify({advertiser_id:e.data("advertiserid"),type:e.data("agenttype")}):""};return t.SellerLead={init:a,formName:i,onLoadCalls:o,sellerDirectCallOnSubmit:r,omnitureLeadJson:l,brokerInfo:c},t.SellerLead}(MOVE.LDP||{})},86:function(t,e,i){(function(e){t.exports=e.Highcharts=i(152)}).call(e,i(11))},88:function(t,e){MOVE.LDP.FsMapModal=function(t){var e=$("#fsStreetView"),i=$("#fsMapView"),o=$("#fsgalleryMobileMapFooter"),a=function(){n(),s(),r()},n=function(){$("#ldpFsMapBtn").click(function(){$("#ldp-fullscreen-map-mobile").on("shown.bs.modal",function(){MOVE.LDP.Map.init("photoGalleryLDPMobileMap",!0,!1),e.removeClass("hide"),i.addClass("hide")})})},s=function(){$("#photoGalleryStreetBtnMobile").click(function(){e.addClass("hide"),i.removeClass("hide"),o.addClass("street-view"),MOVE.LDP.Map.init("photoGalleryLDPMobileMap",!0,!0)})},r=function(){$("#photoGalleryMapBtnMobile").click(function(){e.removeClass("hide"),i.addClass("hide"),o.removeClass("street-view"),MOVE.LDP.Map.showStreetView(!1)})};return t.FsMapModal={init:a},t.FsMapModal}(MOVE.LDP||{})},89:function(t,e){MOVE.LDP.PrintPage=function(t){var e=!1,i=function(){$("body").on("click","#print_page",function(t){e||(e=!0,$("#print_css").attr("href",$("#print_css").data("css-url")));var i=$(t.currentTarget);i.attr("disabled","disabled"),$("body").addClass("print"),$("#ldp-amenities-map-container").hide(),o(function(){i.removeAttr("disabled")})})},o=function(t){var e=MOVE_DATA.propertyDetails,i=[];e.print_photos&&e.print_photos.forEach(function(t){i.push(t.url)}),$.ajax({url:"/print_partials",method:"POST",dataType:"JSON",data:{property:{photos:i,city:e.city,state_code:e.state_code,postal_code:e.postal_code,state:e.state,lat:e.lat,long:e.long,is_suppress_map_pin:e.is_suppress_map_pin,permalink:e.permalink,full_address_display:e.full_address_display}},success:function(e){$(".ldp-print-gallery").append(e.print_gallery),$(".js-static-map").append(e.static_map),$(".js-print-footer").append(e.print_footer),$(".js-print-logo").append(e.print_logo),a(t)},error:function(){t()}})},a=function(t){setTimeout(function(){window.print(),$("body").removeClass("print"),$("#ldp-amenities-map-container").show(),t(),$(".ldp-print-gallery, .js-static-map, .js-print-footer, .js-print-logo").empty()},1e3)};return t.PrintPage={init:i},t.PrintPage}(MOVE.LDP||{})},9:function(t,e,i){"use strict";var o=i(17);MOVE.MORTGAGE=function(t){var e=null,i=function(t){null===e&&(e=a());var i="";return null!==e&&null!==e[t]&&(i=e[t]),i},a=function(){var t=window.location.href;if(t.indexOf("#")<0&&t.indexOf("?")<0)return null;for(var e,i=t.indexOf("#")>0?"#":"?",o=t.slice(t.indexOf(i)+1).split("&"),a=[],n=0;n<o.length;n++)e=o[n].split("="),2===e.length&&(a.push(e[0].trim()),a[e[0].trim()]=e[1].trim());return a},n=function(t,e,i){return null===t||void 0===t||isNaN(t)||t<e?t=e:t>i&&(t=i),t},s=function(t){return t.toFixed(3)+"%"},r=function(t){var e=t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return e=e.split("."),e[0]},l=function(t){return t&&t.val()?parseFloat(t.val().replace("%","")):null},h=function(t){return t&&t.val()?parseInt(t.val().replace(/\$|,/g,""),10):null},d=function(t){return"$"+c(t)},c=function(t){t+="";for(var e=t.split("."),i=e[0],o=e.length>1?"."+e[1]:"",a=/(\d+)(\d{3})/;a.test(i);)i=i.replace(a,"$1,$2");return i+o},p=function(t,e,i){return(t===o.a||t===o.f)&&($(e.target).trigger("change"),t===o.a&&"function"==typeof i&&i(e),!0)},u=function(t){return t>=o.g&&t<=o.h},m=function(t){return t===o.i||t===o.j},f=function(t){return t===o.b||t===o.f||0===t},g=function(t){return/firefox/i.test(navigator.userAgent)?!!(t.keyCode&&t.keyCode>0)||1===t.target.value.split(".").length:1===t.target.value.split(".").length},v=function(t){return!!(t.keyCode&&t.keyCode>0)&&!t.shiftKey},y=function(){var t=$(this);if(event.which===o.a&&b(event),_(event)||!event.which!=o.b){var e=t.val(),i="$"+e.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",");return t.val(i).addClass("changed"),!0}},_=function(t){return t.which>=o.g&&t.which<=o.h},M=function(){$(document,".page-content").on("mousedown touchend",function(){$(".price-input input").each(b)})},b=function(t){var e=$(this);t&&$(t.target).is("input")&&(e=$(t.target)),e.hasClass("changed")&&(e.trigger("change"),e.removeClass("changed"))},x=function(t,e){return D(t,e,!0,!1,!1,!1,!1,!1)},w=function(t,e){return D(t,e,!0,!1,!1,!1,!1,!0)},k=function(t,e){return D(t,e,!0,!1,!1,!0,!1,!0)},C=function(t,e){return D(t,e,!0,!0,!0,!0,!0,!0)},D=function(t,e,i,a,n,s,r,l){var h=t.which?t.which:t.keyCode;if(p(h,t,e))return!0;if(m(h))return v(t);if(i&&u(h))return!0;if(a){if(h>=65&&h<=90)return!0;if(h>=97&&h<=122)return!0}return!(!n||44!==h)||(s&&45===h?0===t.target.selectionStart:!(!r||32!==h)||(l&&h===o.c?g(t):f(h)))},O=function(){var e="",i=t.UserActivity.getRecentSearches();if(i&&i.length>0){var o=i[i.length-1].query;o.postal_code?e=o.postal_code:o.city&&o.state_code&&(e=o.city+","+o.state_code)}return e},E=function(e){if(!(void 0===t.UserActivity||void 0===e||e.indexOf(",")<=0)){var i=e.split(","),o={};3===i.length?(o.searchType="postal_code",o.zip=i[0],o.city=i[1],o.state_code=i[2]):(o.searchType="city",o.zip="",o.city=i[0],o.state_code=i[1]),void 0!==o.city&&void 0!==o.state_code&&t.UserActivity.updateRecentSearches({searchType:"mortgage",criteria:{postal:o.zip,city:o.city.trim(),state:o.state_code.trim(),searchType:o.searchType}},!1)}},T=function(e,i,o){var a={validate_geo:{slug_prefix:t.CONSTANTS.RDC_URL_STEMS.MORTGAGE},autocomplete_suggest:{area_types:"city,postal_code"},includeZip:o,validateSuccessCallback:function(e){E(e.location);var o=t.Helper.setCookieExpiry(43200);$.cookie("HF_location",e.slug,{path:"/",expires:o}),i&&i(e.location,e.zip,e.city,e.state)},validateSearchCriteriaCallback:function(){return!e.val().match(/^([0-9]+)\ +([a-z]*)$/gi)},placeholderText:"Please Enter a City or Zip Code"};t.AutoComplete.init(e,null,!1,a)};return t.MORTGAGE={addCommas:c,getUrlVars:a,getQueryValue:i,validateRange:n,addDollarCommas:d,removeDollarCommas:h,formatCurrency:y,monitorTouchEndForPriceInputs:M,fireChangeEvent:b,removePercentage:l,moneyFormatter:r,rateFormatter:s,getSearchLocation:O,saveLocationToLocalStorage:E,locationControlAutoCompleteSetup:T,restrictNumbersOnly:x,restrictNumbersAndDecimalPointOnly:w,restrictNumbersAndDecimalPointAndNegativeOnly:k,restrictNumAlphabetOnly:C},t.MORTGAGE}(MOVE||{})},99:function(t,e){!function(t){var e,i,o,a,n,s,r,l,h,d,c,p,u,m;e=function(t){l=[],m=r(t),i().innerCard.find(".mini-card-item").each(o),n(),_satellite.track("srp:map:mini-card:impression")},r=function(t){return _.isArray(t)?t:[t]},i=function(){return t.getInfoWindowCard()},o=function(t,e){var i=m[t];s(i),$(e).attr(a())},a=function(){return{"data-omtag":t.setOmTag(u),"data-product":d,"data-propertyid":h,"data-source":p,"data-proptype":c,"data-propertystatus":u}},s=function(t){p=t.data_source,h=function(){return t.plan_id||t.subdivision_id||t.listing_id}(),h&&l.push(h),u=function(){return"new-home-community"===t.status?"new_community":t.status}(),d=t.product_type,c=t.source_id},n=function(){MOVE_DATA.adobeDTM.productType=d,MOVE_DATA.adobeDTM.listingSource=c,MOVE_DATA.adobeDTM.propertyStatus=u,MOVE_DATA.adobeDTM.dataSource=p,MOVE_DATA.adobeDTM.propertyID=l.join(",")},t.Tracking={init:e}}(MOVE.MapMiniCard||{})}},[666]);
//# sourceMappingURL=ldp_non_critical-94e29e1e314aec2a3e13.js.map